"use strict";(function(){const t={cache:!0};t.doc={id:"id",field:["title","content"],store:["title","href","section"]};const e=FlexSearch.create("balance",t);window.bookSearchIndex=e,e.add({id:0,href:"/labathome.de/elektrotechnik/high_voltage/25kv_transformer/",title:"25kV Transformer",section:"High Voltage",content:` 25kV-Transformator # Ich lese immer wieder, wie \u0026ldquo;unmöglich\u0026rdquo; und \u0026ldquo;mit Hausmitteln nicht machbar\u0026rdquo; der Bau eines Hochspannungstrafos doch wäre. Daher möchte ich gerne hier den Bau meines 25kV-Trafos mit 2.4kVA vorstellen. Ich habe diesen Trafo mit freundlichen Unterstützung eines Dipl.-Ing. der Ostfalia in Wolfenbüttel, wo ich damals wohnte, gebaut. Das war in der Zeit vom Dezember 2010 bis etwa März 2011.
Hier ist er mal zu sehen:
Die technischen Daten sind folgende:
Kenngröße Kenndaten Primärspannung 250V Primärwicklung 177 Wdg. (CuL 2.0mm) Sekundärspannung 25kV, einseitig geerdet Sekundärwicklung 17466 Wdg. (CuL 0.224mm) Nennleistung 2.4kVA Kern UI210, 141 0.5mm-Bleche Die Primär- und Sekundärwicklung sind auf verschiedenen Schenkeln gewickelt. Das hat den Vorteil, dass man Lichtbögen ziehen kann und keine Strombegrenzungsdrossel wie bei Messwandlern braucht. Bei Betrieb als Netztrafo für eine funkenstreckengesteuerte Teslaspule (SGTC, wie die meißten sagen) tritt netterweise auch noch durch Resonanz mit dem Primärkondensator eine Spannungsüberhöhung auf, die bei einem \u0026ldquo;hart gewickelten\u0026rdquo; Trafo (Primär- und Sekundärwicklung übereinander) sehr viel stärkere Rückwirkungen ins Netz hat.
Kern # Es handelt sich um einen UI210-Kern, also mit einem Wickelfenster von 70x210mm. Bei 141 Blechen mit 0,5mm Dicke ergibt sich ein Kernquerschnitt von ca. 7x7cm = 49cm². Anhand einer Faustformel lässt sich daraus die zu erreichenden Leistung abschätzen: Man nimmt einfach den Kernquerschnitt in cm² ins Quadrat und erhält die ungefähre Nennleisung in VA, in diesem Fall also 49² = 2401 VA ~ 2.4kVA. Der Kern wurde später wechselseitig geschichtet, mit einem Holzhammer glattgeklopft und zwischen Buchenleisten verschraubt. Dabei ist darauf zu achten, dass kein elektischer Kontakt zwischen den Gewindenstangen/Schrauben und dem Kern auftritt, um Wirbelströme zu vermeiden. Weiterhin musste ich darauf achten, mit den Handgriffen keine Kurzschlusswindung zu erzeugen. Die schwarzen Handgriffe sind daher Vollmaterial, in das auf jeder Seite auf der Drehbank ein M10-Gewinde geschnitten habe. Die Hutmuttern sind dann jeweils mit kurzen Gewindestücken festgeschraubt.
Die Firma, von der ich mir die Kernbleche geholt habe, heißt Bausch und hat ihre Internet-Seite hier: http://www.bausch.de
Primärwicklung # Die Primärspannung sollte 250V betragen, da dies die maximale Ausgangsspannung meines Stelltrafos ist. Bei der Nennleistung von 2,4kVA bedeutet dass, das ein Strom von ca. 10A fließt. Bei einem maximalen Strom von 3A pro mm² Drahtquerschnitt kann ein 2mm-Draht mit 1² * Pi * 3A = 9,5A belastet werden. Ich denke, dass das reichen sollte, da der Trafo eben nicht im Dauerbetrieb laufen soll.
Die Windungsanzahl habe ich nach der Formel $$ N = \\frac{\\sqrt{2} \\cdot U}{2 \\pi f \\cdot A \\cdot B} $$ mit U der Primärspannung, B = 1.3 T der Flussdichte im Kern, A = 0.0049 m^2 und f=50Hz der Netzfrequenz berechnet.
Dadurch kann der Draht in zwei Lagen gewickelt werden, was für die Wärmeabfuhr auch günstiger ist. Zum Wickeln wurde mit zwei Malerböcken eine stabile Wickelvorrichtung gebaut, die mit einem 6-fach-Drehstern mit ca. 40cm Durchmesser (aus Holz) gedreht werden konnte. Über eine kugelgelagerte Achse wurde dann ein Hartholzklotz angetrieben, der genau den Maßen des Kerns entsprach. Die Wickelvorrichtung habe ich dann an einem sonnigen Tag an einem Baum im Garten festgebunden, den Draht befestigt und gegen das Gewicht eines Helfers, der sich mit seinem Gewicht an den Draht hängt, die Primärwicklung aufgebracht.
Wickelkörper # Der genannte Hartholzklotz wurde eingeölt, sodass kein Kleber mehr an ihm haftet. Dann habe ich aus 1mm-Pertinax Platten gesägt und diese um den Klotz mit Uhu Endfest 300 geklebt. Nach dem Trocknen konnte man den Holzklotz mit einem beherzten Schlag entfernen. Damit der Draht beim Wickeln nicht geknickt wird, habe ich an den Seiten, die nicht im Wickelfenster oder unten unter dem Trafo sind, Balsaholz-Backen aufgeklebt, jeweils ca. 30mm. Diese habe ich dann abgefeilt und geschmirgelt, damit sich der Draht schön anschmiegen kann. Beim Wickeln wurde der Draht jeweils noch mit doppelseitigem Klebeband auf dem Balsaholz und (bei der zweiten Lage) auf der unteren Lage fixiert. Da zwei Lagen gewickelt wurden, endete die Wicklung auf derselben Seite, wo sie angefangen hatte.
Ein Stück Isolierschlauch auf die beiden Drahtenden gesteckt verhindert das Zurückschnellen des Drahtes. Zusätzlich habe ich dann den unbewickelten Rand (im Foto gelb schimmernd) mit Epoxidharz vergossen: Ein Streifen Paketklebeband auf die Wicklung und die Primärspule auf die Seite gelegt und schon konnte das Harz eingegossen werden. Die ganze Wicklung wurde dann noch mit Schelllack lackiert.
Sekundärspule # Ich wollte einen Trafo für 25kV haben, also stand nach obiger Formel die Windungsanzahl mit ca. 17000 bereits fest. Eine Lage sollte eine Dicke von 1mm haben, d.h. für die Isolierung blieben noch ca. 0,75mm übrig. Diese wurden durch 3 Lagen einer 0.19mm starken PE-Isolierfolie mit einer Durchschlagsfestigkeit von ca. 100kV/mm gebildet. Die Isolierfolie wird unter dem Namen Hostaphan vertrieben. Die genaue Bezeichnung der Folie, die ich verwendet habe, lautet RN 190 und gibt es bei der W.Bath GmbH zu kaufen: http://www.bathgmbh.de/polyesterf.htm
Es wird eine Durchschlagsfestigkeit von 100kV/mm angegeben. Ich hatte eine Rolle von 50m bei 600mm Breite, das sind 8,4kg. Den Verbrauch sieht man der Rolle aber nicht wirklich an; ich vermute mal, dass auf dem Trafo ca. 6m verbaut sind.
Der Spulenkörper wurde analog zum Primärwickelkörper gebaut, jedoch wurden die Balsabacken hier nur mit ca. 10mm Breite ausgeführt. Der innere Spulenanschluss ist als ein Stück Kupferfolie ausgeführt, die vor Wickelbeginn auf den Wickelkörper geklebt wurde und beim Wickeln zwischen dem Hartholzklotz und dem Wickelkörper steckte. So habe ich verhindert, dass sich da was vertüddelt.
Daran wurde dann der Draht angelötet und mit dem Wickeln begonnen. Bei diesem Trafo bin ich folgendermaßen vorgegangen:
Eine Lage wickeln Spulenkörper festsetzen, ich habe hier ein M10-Gewinde in den Hartholzklotz geschnitten, in das eine Schraube durch ein Loch in der Flanschplatte der Wickelvorrichtung geschaubt wurde. mit Schelllack einpinseln, evt. vor 2., je nach Zugänglichkeit in der Wickelvorrichtung Isolierfolie drumwickeln Isolierfolie mit den Handen strammziehen, \u0026ldquo;drumstreichen\u0026rdquo;. Durch den Schelllack haftet die Folie an der Wicklung. Wenn man jetzt die Folie um die Wicklung 3 mal herumgeschlungen hat, kann man mit den flachen Händen durch Haftreibung die Folie noch ein bisschen enger festziehen. Dadruch erst geht die meißte Luft aus der Wicklung ! Folie mit Tesa o.ä. festkleben und an der Seite einen kleinen Ausschnitt (ca. 3mm Breite) bis an den Wicklungsanfang einschneiden. Dieser Einschnitt sollte wirklich herausgetrennt werden, da sonst beim Festziehen der Draht abgeschert werden könnte. Dann kann die Schraube zum Festsetzen wieder gelöst werden und die nächste Lage beginnt. Schelllack habe ich verwendet, weil ich mir bei dem sicher war, dass er auf Grund seines natürlichen Ursprunges nicht die Lackschicht des Drahtes angreift und beim Ausdünsten so dermaßen klebrig wird, dass er vernünfitig an der PE-Folie klebt und nicht abperlt.
Wickelvorrichtung # Alle Achsen sollten (für die Sekundärwicklung: müssen) kugelgelagert sein. Ich habe die Achsen aus M10-Gewindestangen gemacht und daher 6000-2RS-Lager verwendet. Es muss peinlich genau darauf geachtet werden, dass alle Achsen parallel zu einander stehen und nicht eiern! Sonst kann es passieren, dass der Draht überspringt und die Wicklung wird fehlerhaft/muss wieder abgewickelt werden. Die Drahtrolle muss gebremst sein. Ich habe damals einen Pinsel genommen, der mit Laborklemmen fest an die Spule gedrückt wurde und sie so gebremst hat. Der Draht muss über eine Führungsrolle geführt werden. Das funktioniert folgendermaßen: Man nimmt ein Kabelschutzrohr aus Kunststoff z.B. mit 25mm Drm. und bewickelt es mit genau dem Draht, der auf die Spule später drauf soll. Der Draht wird an beiden Enden fixiert. Die Wickellänge sollte ca. 5cm mehr als die größte Wickelbreite der zu wickelnden Spule betragen. Auf diese Führungsrolle werden Papierringe gesteckt (am besten auch auf(nicht mit) ihr verklebt), die sich seitlich verschieben lassen. Diese Ringe dienen später als \u0026ldquo;Anschläge\u0026rdquo; und werden mit dem Lineal auf die Wicklungsbreite zurechtgeschoben. Die Führungsrolle befindet sich ca. 20cm vom Wickelkörper entfernt an zwei \u0026ldquo;Auslegern\u0026rdquo;/\u0026ldquo;Ohren\u0026rdquo; an der Wickelvorrichtung und ist ebenfalls kugelgelagert. Sie wird über einen Treibriemen synchron mit dem Wickelkörper angetrieben. Dazu eignet sich z.B. zu einem Ring verlötetes hochflexibles Messkabel. Es ist wichtig, dass sich der Riemen nicht dehnt, denn sonst käme es zu Wickelfehlern! Der Schelllack sollte in warmem Spiritus gelöst werden. Das dauert ungefähr 3 Tage für die notwendige Menge (ca. 200g) und ergibt weniger Krümel als wenn man es mit kaltem Spiritus versucht. Trotzdem sollte er vor Benutzung noch gefiltert werden, z.B. durch ein Teesieb o.ä. Vergesst Akkuschrauber, Motoren, o.ä. zum Drehen der Wickelvorrichtung. Die 17000 Windungen der Sekundärspule wurden von mir und besagtem Dipl.-Ing. in drei Tagen über Silvester 2010 von Hand gekurbelt. Bei dem dünnen Draht und der großen Vorratsrolle muss man das sehr feinfühlig angehen! Insgesamt sind ca. 2 kg Draht auf der Sekundärspule gelandet. Zusammenbau und Verguss # Die Lagenisolation der Sekundärspule steht an jeder Seite etwa 1cm über. Die Wickelbreite verjüngt sich alle 5 Lagen um ca. 1cm. Als Anschlusspunkt für die Sekundärwicklung habe ich mir ein Messing-Drehteil gemacht, im Wesentlichen ein Teller mit einem Pömpel drauf, in dem ein M10-Gewinde ist. Der Draht ist (nach einer großen Schlaufe, um bei einem ungewollten Abreißen des Anschlusspunkts noch was zum Anlöten zu haben) an den Teller gelötet. Dann ist der Teller mit doppelseitigem Klebeband auf die Lagenisolation geklebt. Als letztes kam dann noch eine Isolierlage drum herum, die wieder über die volle Breite ging und die oben je Lage ein Loch hatte, durch den der Pömpel ragte. Dadruch entstanden auf jeder Seite \u0026ldquo;Burggräben\u0026rdquo; mit dreieckigem Querschnitt, die zum Schluss, als der rausgelaufene Schelllack nicht mehr klebte und der Kern eingeschachtelt war, mit Vergussmasse aufgefüllt wurden. Der Kupferstreifen (innerer Sekundäranschluss) wurde zwischen Kern und Kernhalter (aus Buchenholz) eingeklemmt und dann auf eine Rampa-Mutter gelötet.Dort ist eine M4-Schraube eingeschraubt, an die man Drähte direkt klemmen kann. Zum Anschlusskasten führt ein auf den Streifen aufgelöteter Installationsdraht.
Hier ist noch ein Bild von dem Trafo:
Man sieht den Kupferstreifen, der noch (vor dem Abschneiden) von außen über die Schrauben gelegt ist. Der Streifen ist bereits unter dem Holz einmal durchgelegt! Weiterhin sieht man den Isolierschlauch über den Primärdrähten und die zulaufenden Sekundärwicklung. Als der Trafo so weit zusammengebaut wurde, kam der o.g. Anschluss oben drauf und dann die letzte Lagenisolation. Die Vergussmasse floss dabei auch zwischen Kern und Wickelkörper (und unerwünschterweise dann unten raus). Das ist sehr wichtig, denn es darf sich keinerlei Luft zwischen Kern und Wicklung befinden, sonst gibt es dort (zumindest auf der dem Erdanschluss entgegengesetzten Seite, wo schon die einfache Lagenspannung anliegt) Korona-Entladungen, die die Isolierung stark schädigen. Aus demselben Grund muss der \u0026ldquo;Burggraben\u0026rdquo; ausgegossen werden.
Kosten # Hier ist eine ungefähre Aufstellung der Kosten:
Komponente Preis Kernbleche 80 Euro Isolationsfolie 200 Euro, allerdings noch Unmengen übrig Primärdraht 10 Euro Sekundärdraht 50 Euro insgesamt ca. 350 Euro Experimente # Und das (und noch viel mehr) kann man mit einem solchen Trafo machen:
Eine tabellarische Aufstellung der Vermessung des Trafos ist hier zu finden: WickeldatenUndMesswerte.ods
`}),e.add({id:1,href:"/labathome.de/maschinenbau/deckel_fp1/",title:"Deckel FP1",section:"Mechanical Engineering",content:` Deckel FP1 # Anfang Mai 2020, gegen Ende der ersten Covid-19-Welle, wurde auf eBay Kleinanzeigen diese Maschine für ca. 24 Stunden gelistet:
In diesem Beitrag geht es darum, wie ich diese Maschine Stück für Stück zerlegte, reinigte und wieder zusammenbaute. Heute flogen dann nach gut einem Jahr zum ersten Mal wieder Späne:
Alles begann damit, dass ich damals meine kleine Drehbank so langsam betriebsbereit hatte und somit der Wunsch nach einer Fräsmaschine immer größer wurde. Diverse Online-Angebote auf eBay, eBay Kleinanzeigen, alibaba.com, etc. wurden begutachtet, aber für meine Anwendungen (z.B. Vakuumflansche) schien mir mehr und mehr eine FP1 das Mittel der Wahl zu sein. Als ich dann in der TU Braunschweig sogar mal auf einer von Franz Singer überholten FP1 probefräsen durfte (Vielen Dank dafür nochmal hier!), war es um mich geschehen.
Wer suchet, der findet. # Natürlich sind bezahlbare Angebote rar gesäht, und somit war klar, das ohne automatischen Suchauftrag gar nichts läuft. Dieser schlug dann natürlich im Stundentakt Alarm, weil den Verkäufern ja durchaus auch geläufig ist, wie begehrt eine \u0026ldquo;Deckel FP1\u0026rdquo; ist ;-) Nach diversen anderen Angeboten, die auch durchaus verlockend waren, tauchte dann allerdings um 3:00 Uhr morgens zwischen Samstag und Sonntag in Hannover die oben gezeigte Maschine auf. Diese passte perfekt in mein Beuteschema: Vertikalkopf vorhanden mit SK40, Wahlräder für die Getriebe, kein Schaltschrank dabei \u0026ndash;\u0026gt; Elektro-Gebastel nötig (d.h. eingeschränkter Käuferkreis) und keine stundenlangen Autofahrten zur Abholung. Ich verweilte damals bei meinen Eltern in Wolfenbüttel, sodass die Abholung aus Hannover passenderweise mit einer Fahrzeit von bloß einer Stunde pro Strecke ausfiel.
Eine direkte Nachricht um 3:05 Uhr, dass ich die Maschine kaufen würde (nach einer Besichtigung sobald als möglich), blieb allerdings unbeantwortet. Tags drauf klärte jedoch ein Telefonanruf beim Verkäufer die Gegebenheiten: Ich war tatsächlich mit meiner nächtlichen Nachricht der erste Interessent gewesen und er wäre jetzt (So ca. 10:00 Uhr) bereits derart mit Nachrichten überhäuft worden, dass es ihm fast zuviel würde\u0026hellip; Umso besser, dass ich dann gleich für einen der folgenden Tage einen Besichtigungstermin mit ggf. Abholung vereinbaren konnte. Mein langjähriger guter Freund Hartmut hatte spontan Zeit und ich konnte mir von einem anderen guten Freund names Felix den VW Caddy leihen (den ich ihm später sogar abkaufen würde, aber das war zu dem Zeitpunkt noch nicht klar), sodass der Tour de Force nichts mehr im Wege stand.
Mit einer recht massiven Sackkarre sowie einiges an (Mess-)Werkzeug ausgerüstet ging es dann auf den Weg. Vor Ort konnten wir die Maschine kurz probelaufen lassen, was durch den fehlenden Schaltschrank spontan nur ging, indem die blanken Aderenden direkt in die CEE-Kupplung eines Drehstrom-Verlängerungskabels gepfriemelt wurden. Sollte man natürlich so nicht machen, aber an einen CEE-Stecker hatte ich blöderweise nicht gedacht und ein solcher war spontan auch nicht vor Ort aufzufinden. Die Maschine lief recht ruhig und die Getriebe ließen sich (im Stillstand) auch problemlos ohne Hakeln durchschalten. Der Vorschub war außer Betrieb, aber dies ließ sich auf einen abgescherten Abscherstift zurückführen (für den es auch einen Grund gab, s.u.). Weiterhin fehlte der Vorschub-\u0026ldquo;Steuerknüppel\u0026rdquo;, der sich allerdings (von einer anderen Maschine jedoch) in den folgenden Wochen ebenfalls über eBay Kleinanzeigen auftreiben ließ.
Erste Begutachtung # Ein besonders kritischer Punkt beim Kauf einer FP1 sind die Spindellager, wie Interessierte sicherlich wissen. Bei dem vorgestellten Baujahr sind diese durch Nadellager, die direkt auf der Spindelhülse und der Spindel selbst laufen, ausgeführt. Damals war das sicherlich eine Konstruktion, die dem Stand der Technik entsprach (und evtl. auch aus diesem entwuchs), aber heutezutage können diese Spindeln bei einem Defekt einen wirtschaftlichen Totalschaden der Maschine bedeuten. Die Spieleinstellung erfolgt durch Auswahl der Nadeldurchmesser, sodass diese den Raum zwischen Spindel und Spindelhülse mit ca. 3..5µm Spiel ausfüllen. Durch Fertigungsstreuung kommt es natürlich vor, dass der benötigte absolute Durchmesser der Nadeln von Maschine zu Maschine etwas variiert. Wenn die Nadeln verschlissen sind oder Lauffläche(n) nachgeschliffen werden müssen, braucht man nun passende Nadeln in Durchmesser-Abstufungen von µm. Diese sind (soweit ich informiert bin, bitte ggf. um korrigierende Worte!) aber heutezutage für diese Lagerbauart nicht mehr bzw. nur noch als Restbestände verfügbar.
Die Pinolenführung des Vertikalkopfes wurde also abgenommen und die Spindel von Hand durchgedreht. Bingo, mehrere Rastpunkte zu spüren und insgesamt ein eher verdrecktes Inneres:
Ein weiser Mensch hätte jetzt wahrscheinlich geseufzt und wäre wieder nach Hause gefahren. Ich hatte mich vorher etwas bei eBay etc. umgeschaut und war auf ein Angebot von Franz Singer gestoßen, wo es eine Überholung der Pinole um ca. 600-800€ gibt. Dabei sollte man allerdings den Zusatz \u0026ldquo;Voraussetzung: Nadellaufbahnen dürfen keine Beschädigungen aufweisen.\u0026rdquo; im Hinterkopf haben\u0026hellip; Ein weiterer Punkt ist allerdings, dass mehrere Leute bereits von kaputten Kugellagern für das Kegelrad oben in der Pinolenführung berichtet hatten. Ich hatte aus Zeitdruck die Pinole selbst nicht aus dem Gehäuse genommen (und hätte selbst dann die Rastpunkte immer noch gespürt, s.u.), sondern nur die ganze Einheit durchgedreht.
Wie auch immer, die restliche Basis der Maschine (Führungen, Getriebe, genereller EIndruck) schienen mir gut genug, um das Restrisiko bzgl. Vertikalkopf einzugehen. Gekostet hat mich die angebotene rohe Maschine am Ende 2000€ und etwa 3\u0026hellip;6 Monate Suche.
Transport # Jetzt war natürlich die Frage, wie das Schmuckstück nach Hause zu transportieren wäre. Mit vereinten Kräften seitens des Verkäufers, seiner zwei Söhne, Hartmut und mir haben wir es gerade so geschafft, die Maschine rücklings auf die Sackkarre zu stellen und dann mit dem \u0026ldquo;Kopf\u0026rdquo; voran ins Auto zu kippen. Zwei Auffahrrampen unter den Rädern der Sackkarre holfen dann, auch den Fuß der FP1 ins Innere zu wuchten. Geht schon verdammt viel rein in einen Caddy, aber die FP1 hat ihn schon ordentlich tiefergelegt. Anzumerken sei noch, dass der orange Spanngurt während der Verladeaktion die FP1 an der Sackkarre festgezurrt hat.
Latürnich suppten sämtliche noch vorhandenen Ölreste schlagartig auf die Ladefläche, sobald die Fräse es sich gemütlich gemacht hatte. Eine flugs druntergestellte überzählige Euro-Box konnte jedoch größeren Katastrophen Einhalt gebieten. For the recond: selbstverständlich wurde vorher über die vorhandenen Ölablassöffnungen eine Entleerung vorgenommen\u0026hellip;
Erste Inspektion # Zuhause angekommen hab ich mir dann als ersten den Vertikalkopf vorgenommen, um Gewissheit zu haben, ob ich im Rest des Jahres mir noch was anderes als Nudelsuppe zu Essen würde leisten können oder ob die Nadellager wundersamerweise doch noch in Ordnung sind.
Als erstes den Sicherungsstift für die Kappe an der Anzugspindel herausgeklopft:
Die Zahnwelle für die Bohrzustellung kommt als nächstes raus:
Und schwupps hat man die Pinole selbst in der Hand:
Die geklemmte Mutter lässt sich abschrauben und schon kommt man an die Axiallagerung heran:
Der ganze braune Gubbel lässt auf nichts Gutes schließen, aber einfach \u0026ldquo;Augen auf und durch\u0026rdquo;:
Glück gehabt !!! Die Nadellager sind noch sauber und sehen sehr unverbraucht aus:
Ebenfalls die Laufflächen in der Pinole selbst sehen noch recht ok aus:
Die Ursache für die Rastpunkte der Pinole selbst waren in der Axiallagerung zu finden:
Die Axiallagerung besteht aus zwei Axial-Rillenkugellagern, die auf der einen Seite in den mitgelieferten \u0026ldquo;Rillenscheiben\u0026rdquo; und auf der anderen Seite auf einer in der Pinole verankerten Scheibe laufen. Dort fehlt allerdings die Rille, was unter normalen Betriebsbedingungen und -belastungen einer FP1 wohl auch zufriedenstellend funktioniert. Die Scheibe ist mit einer vierfach genuteten Mutter in der Pinole befestigt:
Interessanterweise sind die desaströsen Laufspuren auf der Oberseite der Scheibe zu finden, und nicht auf der Unterseite. Beim Bohren drückt die Vorschubkraft nach oben, aber Fräser zieht es ja manchmal nach unten aus der Spannzange heraus. Könnte dies also eine Folge von exzessiver Axialkraft durchs Fräsen sein?
Nimmt man die Scheibe dann heraus, kann auch die unten liegende Rillenkugellager-Hälfte entnommen werden:
Alle Teile wurde in \u0026ldquo;Lampenöl\u0026rdquo; (Petroleum) aus dem Supermarkt gereinigt:
Insgesamt ist das eine recht merkwürdig konstruierte Angelegenheit, die auch hier in der ZB beizeiten zu etwas Verwirrung führte: Thread #47254 Letzendlich brachte Franz (@opa12) Licht ins Dunkel: Post #569220 Ebenso zeigte Franz die erfolgreiche Reparatur dieses Defekts, indem die \u0026ldquo;zentrale Lagerscheibe\u0026rdquo; mit der Laufrille entsprechend plangeschliffen und geläppt wird (?). Vielen Dank für diese Infos nochmal an dieser Stelle!
Gleichzeitig wusste ich dadurch sofort, zu wem ich meine Pinole schicken würde ;-) Eine einigermaßen übertrieben aufwendige Verpackung war fix gebastelt und nach kurzer telefonischer Rücksprache und einer Rücksendung durch die Post, die es tatsächlich geschafft hatten, das Paket zu zerlegen, kam die Vertikalpinole dann bei Franz an, wurde dort überholt und vermessen, und erreichte mich schlussendlich genauso wohlbehalten wieder in Greifswald.
Franz konnte die Laufspuren in der Scheibe beseitigen und hat auf meine Bitte hin die Nadellager mit Klüber \u0026ldquo;ISOFLEX SuperTEL\u0026rdquo; geschmiert, wie von Deckel gefordert. Das gemessene Radialspiel lag bei ca. 3µm und das Axialspiel ist jetzt auch passend eingestellt. Gerade da bei der FP1 die Vertikalpinole wohl das kritischste Teil ist, war es mir wichtig, dass diese Arbeit von jemandem gemacht wird, der weiß was er tut. Die überarbeitete Pinole lässt sich jetzt wunderbar samtig-sanft durchdrehen und weckt Vertrauen, dass ich mit ihr viele Jahre gute Arbeit mit der FP1 erledigen werde können :-)
Hier sieht man nochmal die zusammengebauten Innereien der FP1-Vertikalspindel (aufgenommen vor der Überholung):
In einem Anfall von Wahnsinn hatte ich die Einzelteile der Pinole schon in Inventor nachkonstruiert und versucht, eine alternative Lösung zu entwerfen, die in den vorhandenen Bauraum passt, aber beide Rillenscheiben der Kugellager verwendet hätte. Nachdem Franz allerdings versicherte, dass die vorgefundene Lösung ja durchaus eine serienmäßige Konstruktion von Deckel sei und diese im Normalfall dann ja auch funktionieren sollte, hab ich es dann bei der ursprünglichen Konstruktion belassen.
Zerlegen # Als nächstes in chronologischer Reihenfolge stand weiteres Zerlegen der Maschine auf dem Plan. Während ich beim Verkäufer ja direkt vor die Garage vorfahren konnte, muss ich bei mir zuhause halb am Haus vorbei zum Kellereingang. Daher wurde alles, was nicht niet- und nagelfest war, abgeschraubt und begutachtet:
Die Führungsflächen haben erfreulicherweise auch bei dieser etwas genaueren Inspektion keine riesigen Fresser zu präsentieren gehabt:
Der Maschinenkorpus blieb dabei im Auto, um das erneute Aus- und Einladen zu umgehen:
Netterweise hatte ein(e) Vorbesitzer(in) mir die unsägliche Reinigung des Kühlmittelsumpfes abgenommen:
So vorbereitet ging es dann auf die Heimreise nach Greifswald.
Ausladen # Zuhause in Greifswald angekommen, sicherte ich mir die Unterstützung von drei Kollegen zum Ausladen der Maschine. Links ich, Thomas in der Mitte und Peter rechts. Hannes hat das Foto aufgenommen und ist daher leider nicht mit drauf. Danke euch dreien auch nochmal ganz herzlich für die helfenden Hände!
Gemeinsam konnten wir den Maschinenkorpus samt der abgebauten Anbauteile in meine Werkstatt bugsieren:
Alle vormals freigeräumten horizontalen Flächen sind restlos belegt:
Das ist nun die Aussicht der FP1:
Aufarbeitung # Zunächst erfolgte eine Begutachtung des Fräs-/Hauptgetriebes \u0026hellip;
\u0026hellip; sowie des Vorschubgetriebes:
Alle Zähnchen sind noch da, alle Zähnchen, alle :-)
Weiter ging es dann an der Rückseite, wo auch wieder genug Dreck und Siff auf Bereinigung warteten:
Der Bref Backofenreiniger sowie ein bisschen Petroleum/Lampenöl wirken jedoch Wunder und schon bald sieht die Rückseite wieder halbwegs ansehlich aus:
Oben im Hauptgetriebe lässt sich ein Ölschwallblech(?) ausbauen, um besser an die darunter liegenden Innereien zu kommen:
Nach einem Nachmittag mit Abzieher, Ratschenkasten und Zapfenschlüssel liegt das Hauptgetriebe in Einzelteilen auf der Werkbank:
Der nun zugängliche Platz im Getriebegehäuse lädt zu einer Reinigung desselben ein:
Ein kompletter Satz Wälzlager (mit Ausnahme der selektierten Spindellager) wurde schon mal auf Halde beschafft:
Die Preise beziehen sich auf das Angebot bei Agrolager; ich bin mit denen weder verwandt oder verschwägert, sondern hab dort einfach gute Erfahrungen gemacht. Keine Ahnung warum der Simmering auf der Bestellliste fehlt; wahrscheinlich ist der mir auch erst relativ spät aufgefallen.
Auch das Vorschubgetriebe wurde zerlegt. Die Einzelteile der Getriebe habe ich von Hand im Petroleumbad mit Pinsel, Draht- und Zahnbürste sowie Schleifvließ gereinigt und eingeölt. Für die Montagereihenfolge verweise ich auf den zweiten Teil von Marcs Bericht, der extrem detailliert die einzelnen Schritte beschreibt.
Bei der Montage geht es jetzt los mit der untersten Welle im Vorschubgetriebe:
Zwei weitere Wellen folgen:
\u0026ldquo;Klappe zu, Affe tot\u0026rdquo;; das Vorschubgetriebe ist wieder zusammen :-) Die Wählscheibe mit Skalen etc. war auch auseinander und hat ein Petroleumbad genommen. Die fehlende Skala mit \u0026ldquo;I/II\u0026rdquo; für den inneren Schaltgriff muss ich noch bestellen\u0026hellip;
Im nächsten Schritt kann die Kette zum Antrieb der KSS-Pumpe wieder montiert werden:
Jetzt beginnt die Blasphemie, und ich entschuldige mich schon im Voraus bei den Teilen der Leserschaft, die ob des nun Folgenden in Ohnmacht fallen könnten!
Für mich stand bereits zu Beginn dieser Aktion fest, dass dies keine vollständige geometrische Überholung werden wird. Zum Einen, weil ich beim Zerlegen eher milde Verschleißspuren gefunden habe und zum Anderen, weil mir momentan schlicht die Zeit dafür fehlt. Ich habe auch auf \u0026ldquo;benutzten\u0026rdquo; Maschinen bisher immer mein Ziel erreicht und bin recht zuversichtlich, dass ich auch mit dieser FP1 die nächsten Jahre viele schöne Werkstücke werde fertigen können, ohne sie komplett von Grund auf geometrisch aufgearbeitet zu haben. Nicht falsch verstehen, ich möchste das auf jeden Fall irgendwann in der Zukunft noch nachholen, aber dafür muss die Zeit da sein und ich muss mich noch deutlich weiterentwickeln, was die Schabefähigkeiten angeht.
Im aktuellen Zustand waren allerdings die Schabemarken bereits größtenteils verschwunden und daher habe ich mich entschlossen, alle Gleitflächen zumindest einmal kreuz und einmal quer mit dem Biax aufzubrechen, um dem Öl etwas Halt und Platz zu geben. Hier zu sehen an der Y-Führung \u0026hellip;
\u0026hellip; sowie an der Z-Führung:
Die KSM-Pumpe habe ich auch wieder montiert, obwohl ich sie wahrscheinlich nicht großartig verwenden werde (eine Dynacut MMKS ist vorhanden):
Dann wurde das Hauptgetriebe wieder montiert und mit Öl befüllt. Durch die Rotation der Zahnräder wird das Öl nach oben transportiert und schmiert auch die Y-Achse. Ich habe daher hier CGLP-68 (Gleitbahnöl) eingefüllt, welches für Führungen gedacht ist, aber eben auch die Zahnräder gut schmiert:
Getriebedeckel drauf und auch das Hauptgetriebe ist wieder fit für den Einsatz:
Die Spindelmutter für die Y-Achse wurde wieder von hinten in die hohle Zahnwelle eingebaut und das entsprechende Handrad montiert:
Vorn unten an der Säule schließt das Umlenkgetriebe/Knie an, in welches die Z-Spindel und die Zugspindel eintauchen, die unten aus dem Konsolschlitten herausstehen. Das waagerechte Kegelrad in dieser Baugruppe war übrigens mit der Bronzebuchse zusammengegammelt, in der es laufen soll. Dies hatte zur Blockage des Vorschubs und damit zum Abscheren des Abscherstifts geführt. Hier hatte sich durch frühere Benutzung einiges an KSS-Gubbel gesammelt und dieser dann nach und nach das Öl verdrängt\u0026hellip;
Damit wäre der Korpus weitestgehend abgeschlossen.
Die nächste Baugruppe an der Reihe war der Y-Schlitten mit Horizontalspindel. Hier wurde zunächst die Horizontalspindel samt Lagerung zur Begutachtung ausgebaut:
Einiges an Dreck war vorhanden, aber die Nadelkäfige und zugehörigen Laufflächen sahen soweit noch ganz ok aus. Hier gibt es noch einen Blick von oben in den Y-Schlitten:
Die Einzelteile wurden einzeln verpackt und warteten auf die Rückkehr der Vertikalpinole aus Österreich, da der Rücklieferung eine Tube LDS18 beigelegt würde, wie ich aus sicherer Quelle wusste.
Dieses ist zwar nicht das SuperTEL welches Deckel urprünglich für die nadelgelagerten Spindeln vorgeschrieben hat, aber wohl das nächstbeste, aktuell verfügbare Produkt. Die Horizontalspindel brauche ich deutlich weniger und sie wurde wahrscheinlich auch beim Vorbesitzer deutlich weniger zum Fräsen verwendet, sodass ich davon ausgehe, dass die Lager noch gut in Schuss sind und wahrscheinlich auch noch lange leben werden, wenn sie nur das zweitbeste weltweit verfügbare Fett für diese Anwendung bekommen\u0026hellip;
Als nächstes wurde der Konsolschlitten ausgeräumt und gesäubert. Auch hier wurden die Führungen wieder durch kreuzweises Schaben aufgebrochen:
Der Konsolschlitten ist (nicht nur) meiner Meinung nach die anspruchsvollste Baugruppe einer FP1. Dies sieht man schon allein an der schieren Anzahl der darin verbauten Einzelteile:
Blöd ist nur, wenn man sich die Montagereihenfoge nicht ordentlich überlegt\u0026hellip;
Schlussendlich kommt aber wieder alles an seinem angestammten Platz zu sitzen:
Hach, das sieht doch gleich viel einladender aus:
Noch ein paar andere Kleinigkeiten und der Konsolschlitten kann wieder auf die Z-Achse der Säule aufgefädelt werden:
Nach dem Einbau der Horizontalspindel in den Y-Schlitten kann auch dieser wieder auf der Maschine Platz nehmen:
Der X-Schlitten ist auch noch mal ein Stück Arbeit. Hauptsächlich ist es erforderlich, den Dreck der Vergangenheit zu entfernen und Grate/Dellen zu egalisieren. Die Gleichflächen hab ich auch am X-Schlitten kreuzweise je einmal übergeschabt, um dem Öl etwas Platz zu geben. Montiert an der Maschine sieht das schon fast wieder nach einer Fräsmaschine aus:
Ein paar hübsche neue Faltenbälge gab es in der Zerspanungsbude zu kaufen:
Der feste Winkeltisch war erfreulicherweise im Paket enthalten und erstrahlt jetzt auch wieder in neuem Glanz:
Der Universal-Winkeltisch ist derzeit noch zerlegt, da die Tischoberfläche doch einiges an Macken aufweist. Hier möchte ich die Tischplatte zum Überhobeln schicken, bin aber noch nicht dazu gekommen\u0026hellip;
Vertikalspindel # Der Vertikalkopf war die letzte Baugruppe, die noch ausstand. Das \u0026ldquo;Hauptteil\u0026rdquo; war recht überschaubar zu säubern und hat nach der Reinigung mal schnell probehalber Platz genommen:
Im Inneren fehlt es natürlich noch etwas an Gestänge, welches zu diesem Zeitpunkt noch beim Waschen herumtrödelte:
Zum sicheren Festziehen und Lösen der Schrauben, die die Zahnräder auf der Welle halten, war etwas Kreativität gefragt:
Und dann machte es \u0026ldquo;plopp\u0026rdquo; (Warum? Na weil es halt \u0026ldquo;plopp\u0026rdquo; machte \u0026hellip;) und der horizontale Teil des Vertikalfräskopfes war wieder auf der Maschine:
Die Pinolenführung bzw. das Winkelstück brauchten noch ein Bad in Nitro-Verdünnung um sich häutenderweise von einer Schicht Billiglack zu entledigen:
Nach dessen Montage ist die FP1 wieder einsatzbereit:
Als Abschluss dieses Berichts noch ein Bild von mir bei der Vorreinigung der Baugruppen. Manchmal sind dreckige Hände (und weiteres\u0026hellip;) eben doch schwer zu vermeiden
Zubehör # Für die SK40-Werkzeuge gab es eine Reihe von Kunststoffeinsätzen bei eBay:
Diese wurden dann (angelehnt an ähnliche Konstruktionen, die in der Zerspanungsbude gezeigt wurden) in ein Regal eingepasst:
Weiterhin hat sich ein SK40-Montagestand eingefunden, in dem sich Spannzangen etc. sehr handlich einbauen und festspannen lassen. Gerade bei den ER32-Haltern, die man ja doch einigermaßen anknallen muss, ist mir das so lieber als direkt in der Maschinenspindel.
Einen SK40-Teilapparat mit Gegenhalter (nicht auf dem Bild) und Zentrierspitze, dafür ohne Montagewinkel, konnte ich günstig ergattern. Hier steht noch eine gründliche Reinigung an. Den Montagewinkel werde ich wohl als Stahlkonstruktion bauen und auf eine überzähliche Schraubstock-Drehplatte setzen.
Weiterhin ziert ein 250er Rundtisch seit neuestem meine Werkstatt. Zugegebenermaßen ist das auf dem Tisch der FP1 ein ganz schöner Klopper, aber immerhin ist er immer noch kleiner als das 380mm-Monster von Deckel. Auch hier wieder: auseinandernehmen, Teile säubern und frisch geölt wieder zusammenbauen \u0026ndash;\u0026gt; stay tuned\u0026hellip;
Damit war dann auch keine Ausrede mehr möglich, die Minimalmengenschmierung noch länger lose herumfliegen zu haben. Diese wurde daher fest an der Wand montiert und steht jetzt für Drehbank und Fräsmaschine gleichermaßen zur Verfügung.
Untergestell # Ein Untergestell für die FP1, um sie später mal per Hubwagen einfach umsetzen zu können und um die Bedienelemente auf angenehme Höhe für mich zu bringen, stand schon seit einiger Zeit bereit:
Neulich hat es dann ein grünes Kleid angezogen bekommen und war damit einsatzbereit:
Ein provisorischer Portalkran aus Holz samt Kettenzug hat mir dann beim Umsetzen geholfen:
Sieht doch gleich viel zivilisierter aus als ein Rollbrett:
Anzugstange # Zu guter Letzt wurde soeben eine neue Anzugstange mit M16-Außengewinde (statt S20x2-Innengewinde wie im Original) fertiggestellt. Hier noch beim Ausrichten zum Fräsen der letzten Schlüsselflächen für einen Vierkantschlüssel:
Passt soweit:
Und so sieht die Anzugstange in der Totalen aus; zusammen mit einem Provisorum aus einer M16-Gewindestange. Der Durchlass in der Vertikalpinole hat einen Durchmesser von 15mm. Daher musste die Gewindestange auf dem größten Teil der Länge auf 15mm abgedreht werden. Für die Kontermuttern oben hat das gerade noch so an \u0026ldquo;Rillentiefe\u0026rdquo; gereicht. Ich hab kein einziges S20x2-Werkzeug im Haus und musste daher von Anfang an auf M16 setzen.
Montiert sieht man davon natürlich am Ende nichts mehr, aber immerhin ist die Fräse damit jetzt wieder einen deutlichen Schritt weiter:
Schaltschrank # Der Schaltschrank enthält im wesentlichen eine Schützsteuerung für den Dahlander-Motor an der Maschine sowie den Motor des Schnellläufers. Weiterhin ist im Original ein Steuertrafo 380V-\u0026gt;220V verbaut, damit kein Nullleiter benötigt wird. Zu guter Letzt findet sich eine Steckdose für das Zentriermikroskop, die das Starten des Motors bei eingestecktem Stecker verhindert.
Der originale Schaltschrank war bei meiner Maschine aber nicht dabei, weshalb ich die für mich nicht benötigten Teile weggelassen habe. Der Motor ist wie gesagt ein Dahlander mit 1400 bzw. 2800 Upm:
Der Motor ist über ein sechspoliges (+Erde), abgeschirmtes Kabel mit dem Schaltschrank verbunden:
Ausgehend von einem Deckel-Schaltplan aus den 60ern sowie dem Eaton-Schaltungsbuch habe ich dann die folgende Schaltung aufgezeichnet.
Erstmal der Leistungsteil: Der Hauptschalter trennt die gesamte Mimik vom Netz. Für die langsame Drehzahl müssen die drei Phasen an Ua, Va und Wa angelegt werden. Dies geschiet über Schütz c1. Im Betrieb mit langsamer Drehzahl schützt der Motor-Schutzschalter F1 vor Überlast. Für die hohe Drehzahl müssen die drei Phasen an Ub, Vb und Wb angelegt werden. Dies geschiet über Schütz c3. Weiterhin müssen Ua, Va und Wa miteinander verbunden werden - hier über Schütz c2. Im Betrieb mit hoher Drehzahl schützt der Motor-Schutzschalter F2 vor Überlast. Eine Schuko-Steckdose wird mit über den Hauptschalter geschaltet und kann z.B. für eine Lampe genutzt werden. Die Steckdose ist über die Sicherung e4\u0026rsquo; abgesichtert.
Dann kommt hier der Steuerteil: Der Steuerteil nutzt hier den Nullleiter, da in meiner Werkstatt alle Drehstrom-Steckdosen über selbigen verfügen. Die Tasteneinheit oben an der Maschine ist über ein vieradriges Steuerkabel mit dem Schaltschrank verbunden. Der Steuerteil ist ebenfalls separat abgesichert; hier über Sicherung e4. Die Versorgung der Schützspulen wird global durch den (Not-)Aus-Taster unterbrochen. Eingeschaltet werden kann jede der zwei Drehzahlen über die entsprechenden Tasten. Je ein Schließer-Steuerkontakt in c1 bzw. c3 sorgen dann für Selbsthaltung.
Interessant wird es bei der Verriegelung der Schütze gegeneinander, damit beim Hängen eines Schützes nicht sofort ein Kurzschluss auftritt.
Für die niedrige Drehzahl muss nur c1 eingeschaltet werden. Hier unterbricht dann ein Öffner-Steuerkontakt die Versorgung zu den Spulen von c2 und c3. Die Spule von c1 wird wiederum durch Öffner-Steuerkontakte von c2 und c3 in Reihe getrennt. Die Spule vom Schütz c1 kann also nur Strom bekommen, wenn sowohl c2 als auch c3 geöffnet sind. Damit ist vor allem auch ausgeschlossen, dass ein satter Kurzschluss zwischen allen drei Phasen auftritt, falls c2 noch geschlossen wäre, wenn c1 per Tastendruck eingeschaltet wird.
Für die schnelle Drehzahl wird zunächst c2 direkt versorgt und schaltet dann per zusätzlichem Schließer-Steuerkontakt erst c3 zu. Damit ist sichergestellt, dass die Sternbrücke über c2 sicher hergestellt ist, bevor Strom auf den Motor per c3 gegeben wird.
Die Lampen h1 und h2 können dazu dienen, anzuzeigen, welche Drehzahl gerade aktiv ist. Die Hintergrundlautstärke in meiner Werkstatt ist aber leise genug, um zu hören, wie schnell sich der Motor dreht. Ich habe daher die beidem Lampen weggelassen.
So sieht die (fast) fertig verdrahtete Schalttafel dann also aus: Fast fertig, weil die zwei Motorschutzschalter zum Zeitpunkt des Fotos noch nicht geliefert worden waren. Ich habe daher provisorisch einen alten Motor-Schutzschalter direkt hinter dem Hauptschalter eingeschleift. Die beiden separaten MSS sind allerdings heute geliefert worden, sodass ich morgen ein finales Bild nachliefern kann.
Hier ist eine Übersicht über die letztendlich verbauten Teile:
3 Stk. Leistungsschütz Eaton DIL-M7-10 3 Stk. Hilfsschalter Eaton DIL M32-XHI11 2 Stk. Motor-Schutzschalter Eaton PKZM0-4 2m LAPP ÖLFLEX® CLASSIC 110 CY - 7G1,0mm^2 (Motor) 3m LAPP ÖLFLEX® CLASSIC 110 CY - 4G0,75mm^2 (Tasten) Hier sind dann schon mal die Steckverbindungen etc. zum Testen angeschlossen: Eine provisorische Inbetriebnahme hat dann erfreulicherweise ergeben, dass die Schaltung so funktioniert und man sogar beliebig an den Tasten herumdrücken kann, ohne dass sich die Schütze in die Quere kommen. Ich gehe daher davon aus, dass die Verriegelungsschaltung (wie oben gezeigt) sicher funktioniert. Eingebaut wird die ganze Mimik in einen Schaltschrank mit dem Maßen 300x400x150mm: Der Einbau der Teile gestaltete sich dann nicht mehr schwierig: An der Wand neben der Fräsmaschine war noch ein guter Platz für den Schaltschrank frei, sodass er da jetzt zum Hängen gekommen ist: `}),e.add({id:2,href:"/labathome.de/elektrotechnik/",title:"Electrical Engineering",section:"Welcome",content:` Electronics # Auf dieser Seite geht es um meine erste große Passion, die Elektrotechnik.
Los geht es mit einer Einleitung, wie ich zur Hochspannungstechnik kam.
Schon in jungen Jahren interessierte ich mich für dieses Thema und lernte an der nahegelegenen Fachhochschule einen Ingenieur kennen, der dort zusammen mit einem Professor Experimentalvorträge der \u0026ldquo;alten Schule\u0026rdquo; zu Themen wie elektrischen Ladungen, Gewitterblitzen, Tesla-Strömen und der Geschichte der Elektrizität hielt.
Angeregt und fasziniert von den spektakulären Versuchen baute ich, zunächst mit einigem Ungeschick, die gezeigten Experimente nach. Das war 2005. Im Laufe der Jahre entwickelten sich natürlich auch die Geräte weiter, aus Fehlern lernt man bekanntermaßen am besten.
So entstanden dann einige Tesla-Transformatoren und die Zubehör- und Betriebsgeräte, wie ein 20A-Steuerpult, sowie ein kleiner Stoßspannungsgenerator. Alle Geräte sind mit dem Ziel vor Augen entworfen und gebaut, transportabel und vorführbar zu sein. Gleichzeitig soll das äußere Aussehen allein bereits Zweifel an der Betriebssicherheit der Apparate zerstreuen, sodass alle Geräte mechanisch und elektrisch solide aufgebaut wurden.
Weiter geht es mit dem Computerbasteln.
Um im nach und nach entstehenden Elektronik-/Hochspannungslabor auch automatisierte Messungen vornehmen zu können und u.a. die Lichtanlage im \u0026ldquo;Partykeller\u0026rdquo; zu steuern, baute ich nach und nach Erweiterungen für den PC. So entstand z.B. nach einem Schaltplan aus einer Zeitschrift eine Schaltung, die, an den Parallelport des PC angeschlossen und per QBasic gesteuert, 8 Reed-Relais steuern kann und damit bsp. für die Umschaltung eines Messkanals verwendet werden kann.
Unter Verwendung eines AD7874 entstand eine Schaltung zur Überwachung unserer defekten Heizungssteuerung. Der AD-Wandler wurde mit einer 71055-Karte im PC von einem Turbo-C-Programm angesteuert und die Messdaten zur weiteren Auswertung in eine Textdatei geschrieben.
Allerdings erweckten auch andere Computer als die PCs mein Interesse, so unter anderem die SGI-Workstations, die 68000er-Familie von Motorola (die ich in Form von Würfelmacs und dem Atari ST kennenlernte), die Transputer in Form von AVM-ISDN-Geräten und den HD63484, von dem ich einige Stangen auf einem Bastlertreffen ergattern konnte. Auch die AVR-Mikrocontroller und neuerdings die ARM-Controller regten mein Interesse an. Nur im Menü zuletzt braucht man natürlich Programmiergeräte, um die vielfältigen Speicher und Controller zu programmieren; hier bin ich neuerdings an einen c\u0026rsquo;t-EPROP gekommen, der (eines Tages mit einer neuen Software) wohl in Zukunft alle meine Probleme in dieser Hinsicht lösen wird und nebenbei auch GALs programmieren und auslesen kann.
Diese Tätigkeiten sind nicht unbemerkt geblieben und so hat es sich ergeben, dass ich für gut 2 Jahre eine Elektronik-AG an meinem Gymnasium geleitet habe, in der Schüler/-innen der 5. und 6. Klassen für die Elektronik begeistert wurden. Ausserdem habe ich nach dem Tod des o.g. Professors mich an der Fachhochschule engagiert, um die von mir oft gehörten Experimentalvorträge weiterleben zu lassen. So hat es sich ergeben, dass ich den Vortrag \u0026ldquo;Faszination Elektrotechnik\u0026rdquo; mittlerweile viermal gehalten habe, in dem es für die Öffentlichkeit eine Vorführung der wichtigsten Experimente der Physik-II-Vorlesung aus dem Physikstudium zu erleben gibt; ein alternativer Titel für diesen Vortrag wäre \u0026ldquo;Vom Bernstein zur elektromagnetischen Welle\u0026rdquo;.
`}),e.add({id:3,href:"/labathome.de/numerics/fftw_tutorial/",title:"FFTW Tutorial",section:"Numerics",content:` FFTW Tutorial # This is a basic C project (Makefile, but also for the Eclipse IDE) I use for exploring FFTW 3.3.9.
One- and two-dimensional discrete Fourier transforms (DFTs) of random data are computed using both FFTW and straight-forward naive algorithms in order to illustrate explicitly what kind of symmetries and scaling properties FFTW implies in its inputs and outputs.
One-Dimensional Examples # This tutorial starts by computing one-dimensional (1D) DFTs of random input data.
1D complex-to-complex # The first example is basically a self-contained version of the corresponding example in the FFTW manual.
We want to compute the complex-valued one-dimensional DFT here, which is specified in section 4.8.1 of the FFTW reference manual.
$$ Y_k = \\sum\\limits_{j=0}^{n-1} X_j \\, e^{\\pm 2 \\pi j k \\sqrt{-1}/n} \\textrm{ for } k=0,1,\u0026hellip;,(n-1) $$
The sign in the exponent of the basis function specifies the direction in which the Fourier transform is to be computed: -1 indicates a \u0026ldquo;forward\u0026rdquo; transform and +1 indicates a \u0026ldquo;backward\u0026rdquo; transform. These values are available via the FFTW_FORWARD and FFTW_BACKWARD preprocessor macros.
In order to compute the DFT, complex-valued products of the following form need to be evaluated:
$$ X_j \\, e^{\\pm 2 \\pi j k \\sqrt{-1}/n} $$
Eulers formula comes in handy now (where $i$ is the imaginary unit with \${i}^2=-1$):
$$ e^{i \\varphi} = \\cos(\\varphi) + i \\sin(\\varphi) $$
The angle argument phi can be identified in above formulas for the DFT:
$$ \\varphi = \\pm 2 \\pi j k / n $$
Now the complex-valued product can be computed using only real-valued variables:
\\begin{align} ~\u0026amp; \\left( \\mathcal{Re}(X_j) + i \\, \\mathcal{Im}(X_j) \\right) \\cdot \\left( \\cos(\\varphi) + i \\sin(\\varphi) \\right) \\\\ =\u0026amp; \\phantom{+ i}~ \\left( \\mathcal{Re}(X_j) \\cos(\\varphi) - \\mathcal{Im}(X_j) \\sin(\\varphi) \\right) \\\\ ~\u0026amp; + i \\left( \\mathcal{Re}(X_j) \\sin(\\varphi) + \\mathcal{Im}(X_j) \\cos(\\varphi) \\right) \\end{align}
FFTW implements all this math internally and the explicit formulation was only used to build a basis for the computations to follow. Below is the example code showing how to compute the 1d c2c DFT using both FFTW and a manual implementation. The size of the DFT is specified via the variable n and the direction (forward or backward) is specified via the variable dir. Complex-valued arrays in, ref_out and fftw_out are allocated to hold the input (X_k) and outputs (Y_k) of the DFT. A plan for the corresponding DFT is created using fftw_plan_dft_1d. Only after this, the input data is written into the in array. The reference output is computed now (before calling fftw_execute), since in some later examples (most notably multi-dimensional c2r transforms), FFTW overwrites the input data and for good practise, we keep this in mind already now. Note that this is an out-of-place transform, since in and fftw_out are allocated to be separate arrays. Next the FFTW transform can be executed via fftw_execute. This fills the corresponding output array fftw_out, which is subsequently compared against the reference output in ref_out. A conservative tolerance of 1e-12 is specified to make the example work also for weird input data (as generated by the PRNG). The actual deviations are usually much smaller and can be observed in the screen output from compare_1d_cplx. Finally, the fftw_plan is destroyed and the memory is released using fftw_free (which has to be used if the array was allocated using fftw_alloc_*).
#include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; #include \u0026lt;math.h\u0026gt; #include \u0026lt;complex.h\u0026gt; #include \u0026lt;fftw3.h\u0026gt; #include \u0026#34;util.h\u0026#34; int test_1d_c2c(int n) { int dir = FFTW_BACKWARD; double real, imag, phi; fftw_complex *in = fftw_alloc_complex(n); fftw_complex *ref_out = fftw_alloc_complex(n); fftw_complex *fftw_out = fftw_alloc_complex(n); fftw_plan p = fftw_plan_dft_1d(n, in, fftw_out, dir, FFTW_ESTIMATE); // fill the input array with random data fill_random_1d_cplx(n, in); // compute the reference output for (int k = 0; k \u0026lt; n; ++k) { ref_out[k] = 0.0; for (int j = 0; j \u0026lt; n; ++j) { phi = dir * 2.0 * M_PI * j * k / ((double) n); real = creal(in[j]) * cos(phi) - cimag(in[j]) * sin(phi); imag = creal(in[j]) * sin(phi) + cimag(in[j]) * cos(phi); ref_out[k] += real + I * imag; } } // compute the DFT of in using FFTW fftw_execute(p); // compare reference output with FFTW output double eps = 1e-12; int status = compare_1d_cplx(n, ref_out, fftw_out, eps); fftw_destroy_plan(p); fftw_free(in); fftw_free(ref_out); fftw_free(fftw_out); return status; } int main(int argc, char** argv) { int status = 0; status += test_1d_c2c(32); status += test_1d_c2c(33); return status; } The code is available in the file src/test_1d_c2c.c.
1D complex-to-real and real-to-complex # The next two examples deal with DFTs of purely real data (r2c) and DFTs which produce purely real data (c2r). These are covered in the official FFTW tutorial as well as in the FFTW reference manual.
In case either the input array or the output array are constrained to be purely real, the corresponding complex-valued output or input array features Hermitian symmetry (where the n-periodicity has been included as well):
$$ Y_{n-k} = Y_{-k} = Y^{*}_k $$
For the case of a DFT of real-valued X_j and complex-valued Y_k with Hermitian symmetry, the Fourier sum is written out excplicitly as follows:
$$\\begin{align} %TODO: fix underbrace Y_{-k} =\u0026amp; \\sum\\limits_{j=0}^{n-1} X_j \\Bigl( \\cos(-2 \\pi j k / n) + i \\sin(-2 \\pi j k / n) \\Bigr) \\\\ =\u0026amp; \\sum\\limits_{j=0}^{n-1} X_j \\Bigl( \\cos(2 \\pi j k / n) - i \\sin(2 \\pi j k / n) \\Bigr) = Y^{*}_k \\end{align}$$
The figure below illustrates the structure of the complex-valued Fourier space arrays occuring in the DFT for both even-valued (n=6) and odd-valued (n=7) sizes of the DFT.
The size required to contain all information required for the transform from or to a real-valued array is contained in the first n/2+1 (division by 2 rounded down) entries of the complex array, indicated by the red bars in above figure. For both even and odd values of n, Hermitian symmetry implies Y_0 = Y*_0 and thus Y_0 is always real. In the case of even n, we can intuitively observe that Y_m = Y*_-m where m=n/2 (the element at the Nyquist frequency, and thus also the last element of the complex-valued Fourier-space array) is also purely real.
The DFT formulation includes all elements of the Fourier-space array from 0 to n-1. Now that only parts of these coefficients are taken into account, they have to be weighted appropriately to recover the results that would have been obtained by using the full array without taking advantage of its symmetry properties. For odd n, all components of the Fourier-space array except the DC element at k=0 have to be weighted with a factor of 2. For even n, all components of the Fourier-space array except the DC element at k=0 and the Nyquist element at k=n/2 have to be weighted with a factor of 2. The elements that need to be weighted by a factor of 2 are highlighted by solid blue lines in above illustration. The redundant elements that are not explicitly needed are indicated by dashed blue lines.
The backward transformation from complex-valued Fourier space to real space is demonstrated in src/test_1d_c2r.c. The relevant portion of the source code is here:
int nCplx = n / 2 + 1; for (int k = 0; k \u0026lt; n; ++k) { // start with DC component, which is purely real due to Hermitian symmetry ref_out[k] = creal(in[0]); int loopEnd = nCplx; // special case for even n if (n % 2 == 0) { // Nyquist element is purely real as well phi = 2.0 * M_PI * (nCplx - 1) * k / ((double) n); ref_out[k] += creal(in[nCplx - 1]) * cos(phi); loopEnd = nCplx-1; } // middle elements are handled the same for even and odd n for (int j = 1; j \u0026lt; loopEnd; ++j) { phi = 2.0 * M_PI * j * k / ((double) n); real = creal(in[j]) * cos(phi) - cimag(in[j]) * sin(phi); ref_out[k] += 2.0 * real; } } Note that the integer division used to compute nCplx (correctly) rounds down. The rest is a relatively straight-forward implementation of above verbose algorithm. The DC component is always taken to be real. Depending on whether n is even or odd, the number of elements to take into account with both real and imaginary component (loopEnd) is adjusted. The (purely real) Nyquist element at n/2 is added separately if n is even. All other elements are weighted by a factor of 2 and only the real part of the complex product of input Fourier coefficient and complex-valued basis function is actually computed.
The forward transform from real space to Fourier space is comparably simple to implement:
for (int k = 0; k \u0026lt; nCplx; ++k) { // DC component is always real ref_out[k] = in[0]; for (int j = 1; j \u0026lt; n; ++j) { phi = -2.0 * M_PI * j * k / ((double) n); real = in[j] * cos(phi); imag = in[j] * sin(phi); ref_out[k] += real + I * imag; } } Note that in this case, only the non-redundant part of the complex-values Fourier coefficients need to be computed from a real-valued input. The separate handling of the DC component is not strictly necessary, since cos(0)=1 and sin(0)=0 and thus the DC component would get no imaginary contribution. The full example is available in the file src/test_1d_r2c.c.
It becomes evident in above examples that the sign of a c2r DFT is always FFTW_BACKWARD and the sign of a r2c DFT is always FFTW_FORWARD.
1D real-to-real # Certain symmetries can be assumed for a given real input array of which a DFT is to be computed that lead to the output array being purely real as well. This is another gain of a factor of 2 in speed and memory usage over r2c/c2r transforms. Depending on even (odd) parity of the input array, the transform outputs have even (odd) parity. They are therefore called Discrete Cosine Transform (DCT) and Discrete Sine Transfrom (DST), respectively.
The logical size of the corresponding DFT is denoted as N. The actual array size given to FFTW is denoted by n. For the DCT/DST types implemented in FFTW, N is always even. Note that this does not pose any restrictions on the input array sizes n. One can think of the logical DFT input array as one that FFTW \u0026lsquo;sees\u0026rsquo; internally and computes a regular DFT of. The resulting output array is purely real and features the named symmetry properties, since the logical input array was \u0026lsquo;constructed\u0026rsquo; from the given input array to have the desired symmetry properties.
In below example plots used to illustrate these symmetry properties/assumptions, random Fourier coefficients have been sampled and transformed back to real-space using the named inverse transforms. This allows to \u0026rsquo;evaluate\u0026rsquo; the input data also in the samples given in the (small) input arrays. In these plots, red dashed vertical lines indicate even symmetry (f(x)=f(-x)) about the indicated position and blue dashed vertical lines indicate odd symmetry (f(x)=-f(-x)) about the indicated position. The grey-shaded area in the background indicated the range of samples that are included in the input array. The x axis labels denote the indices in the actual input array given to FFTW (only valid within the range of the grey boxes).
The nomenclature works as follows: The first letter is R to indicate real-valued data. The second letter distinguished between E for even-parity data and O for odd-parity data. The following DFT is for discrete Fourier transform (who guessed\u0026hellip;). The next two digits indicate wheter (1) or not (0) the input (first digit) or the output (second digit) data is shifted by half a sample. Think of this in terms of parity: whether the symmetry axis is located at a sample (no shifting necessary) or between two samples (shifting necessary). The shifting becomes necessary when formulating the symmetry properties over sampled data that has integer indices vs. symmetry axis that are possibly located at half-integer locations. The parity and symmetry properties of the output array are those of the input array for the inverse transform.
For all transforms, a periodicity of N is assumed for the logical input array as X_j = X_{N+j} where X is the input data array.
Here is a quick overview table to indicate the assumed symmetries in the input array for the following types of r2r DFTs:
type actual r2r input logically-equivalent DFT input REDFT00 a b c d e a b c d e d c b REDFT10 a b c d a b c d d c b a REDFT01 a b c d a b c d 0 -d -c -b REDFT11 a b c d a b c d -d -c -b -a RODFT00 a b c 0 a b c 0 -c -b -a RODFT10 a b c d a b c d -d -c -b -a RODFT01 a b c d a b c d c b a 0 RODFT11 a b c d a b c d d c b a For the DCTs, please also consider https://en.wikipedia.org/wiki/Discrete_cosine_transform#Formal_definition and in particular https://upload.wikimedia.org/wikipedia/commons/a/ae/DCT-symmetries.svg .
For the DSTs, please also consider https://en.wikipedia.org/wiki/Discrete_sine_transform#Definition and in particular https://upload.wikimedia.org/wikipedia/commons/3/31/DST-symmetries.svg .
REDFT00 (DCT-I) # In case of the real-valued even-parity DFT with no shifts in either input or output array (REDFT00), also called the DCT-I, the corresponding logical DFT size is given by N = 2(n-1), corresponding to n = N/2+1.
The formal definition of the REDFT00 is given below:
$$ Y_k = X_0 + (-1)^k X_{n-1} + 2 \\sum\\limits_{j=1}^{n-2} X_j \\cos\\left[ \\pi j k / (n-1) \\right] $$
The inverse of this transform is REDFT00 itself. The input array is assumed to have even symmetry around j=0 and even symmetry also around j=n−1.
In above figure, the lowercase letters a to e refer to the input data abcde for the size-5 REDFT00, which is logically equivalent to a size-8 DFT with real-valued input data abcdedcb.
In order to demonstrate the use of this method, the logically equivalent DFT input is filled appropriately and its output is checked against REDFT00. In the following code, in is the input array (size n) given to REDFT00 and in_logical is the (complex-valued) input array (size N) handed to a generic 1D DFT. Similarly, out is the output array (size n) from REDFT00 and out_logical is the output array (size N) from a generic 1D DFT.
Here is how the symmetric input is generated:
// the first half of the array is identical for (int i=0; i\u0026lt;n; ++i) { in_logical[i] = in[i]; } // second half is filled according to even symmetry around n-1 for (int i=0; i\u0026lt;n-1; ++i) { in_logical[n+i] = in[n-2-i]; } The checks are a little bit more involved. The logically equivalent DFT output should be purely real-valued:
for (int i = 0; i \u0026lt; N; ++i) { if (fabs(cimag(out_logical[i])) \u0026gt; eps) { printf(\u0026#34;error: imag of [%d] is %g\\n\u0026#34;, i, cimag(out_logical[i])); status = 1; } else { printf(\u0026#34;imag of [%d] is %g\\n\u0026#34;, i, cimag(out_logical[i])); } } The first n values should be identical between REDFT00 and the generalized DFT:
double delta; for (int i = 0; i \u0026lt; n; ++i) { delta = creal(out_logical[i]) - out[i]; if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, i, delta); } } The remaining values should have even symmetry around n-1:
for (int i = 0; i \u0026lt; n - 2; ++i) { delta = creal(out_logical[n + i]) - out[n - 2 - i]; if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, n+i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, n+i, delta); } } The full example can be found in src/test_1d_redft00.c.
REDFT10 (DCT-II) # In case of the real-valued even-parity DFT with shifted input data (REDFT10), also called the DCT-II, the corresponding logical DFT size is given by N = 2n, corresponding to n = N/2. This function is commonly known as \u0026ldquo;the\u0026rdquo; DCT.
The formal definition of the REDFT10 is given below:
$$ Y_k = 2 \\sum\\limits_{j=0}^{n-1} X_j \\cos\\left[ \\pi (j+1/2) k / n \\right] $$
The inverse of this transform is REDFT01. The input array is assumed to have even symmetry around j=-0.5 and even symmetry also around j=n−0.5.
In above figure, the lowercase letters a to e refer to the input data abcd for the size-4 REDFT10, which is logically equivalent to a size-8 DFT with real-valued input data abcddcba.
In order to demonstrate the use of this method, the logically equivalent DFT input is filled appropriately and its output is checked against REDFT10. In the following code, in is the input array (size n) given to REDFT10 and in_logical is the (complex-valued) input array (size N) handed to a generic 1D DFT. Similarly, out is the output array (size n) from REDFT10 and out_logical is the output array (size N) from a generic 1D DFT.
Here is how the symmetric input is generated:
// the first half of the array is identical for (int i = 0; i \u0026lt; n; ++i) { in_logical[i] = in[i]; } // second half is filled according to even symmetry around n-0.5 for (int i = 0; i \u0026lt; n; ++i) { in_logical[n + i] = in[n - 1 - i]; } The checks are a little bit more involved. The logically equivalent DFT output should be purely real-valued:
for (int i = 0; i \u0026lt; N; ++i) { if (fabs(cimag(out_logical[i])) \u0026gt; eps) { printf(\u0026#34;error: imag of [%d] is %g\\n\u0026#34;, i, cimag(out_logical[i])); status = 1; } else { printf(\u0026#34;imag of [%d] is %g\\n\u0026#34;, i, cimag(out_logical[i])); } } The first n values should be identical between REDFT10 and the generalized DFT:
for (int i = 0; i \u0026lt; n; ++i) { delta = creal(out_logical[i]) - out[i]; if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, i, delta); } } Odd symmetry around n implies that the value at n is zero:
if (fabs(creal(out_logical[n])) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, n, creal(out_logical[n])); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, n, creal(out_logical[n])); } The remaining values should have odd symmetry around n:
for (int i = 1; i \u0026lt; n; ++i) { delta = creal(out_logical[n + i]) - (-out[n - i]); if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, n + i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, n + i, delta); } } The full example can be found in src/test_1d_redft10.c.
REDFT01 (DCT-III) # In case of the real-valued even-parity DFT with shifted output data (REDFT01), also called the DCT-III, the corresponding logical DFT size is given by N = 2n, corresponding to n = N/2. This function is commonly known as \u0026ldquo;the\u0026rdquo; inverse DCT (IDCT).
The formal definition of the REDFT01 is given below:
$$ Y_k = X_0 + 2 \\sum\\limits_{j=1}^{n-1} X_j \\cos\\left[ \\pi j (k+1/2) / n \\right] $$
The inverse of this transform is REDFT10. The input array is assumed to have even symmetry around j=0 and odd symmetry around j=n.
In order to demonstrate the use of this method, the logically equivalent DFT input is filled appropriately and its output is checked against REDFT01. In the following code, in is the input array (size n) given to REDFT01 and in_logical is the (complex-valued) input array (size N) handed to a generic 1D DFT. Similarly, out is the output array (size n) from REDFT01 and out_logical is the output array (size N) from a generic 1D DFT.
Here is how the symmetric input is generated:
// the first half of the array is identical for (int i = 0; i \u0026lt; n; ++i) { in_logical[i] = in[i]; } // second half is filled according to odd symmetry around n for (int i = 1; i \u0026lt; n; ++i) { in_logical[n + i] = -in[n - i]; } The checks are a little bit more involved. The logically equivalent DFT output should be purely real-valued:
for (int i = 0; i \u0026lt; N; ++i) { if (fabs(cimag(out_logical[i])) \u0026gt; eps) { printf(\u0026#34;error: imag of [%d] is %g\\n\u0026#34;, i, cimag(out_logical[i])); status = 1; } else { printf(\u0026#34;imag of [%d] is %g\\n\u0026#34;, i, cimag(out_logical[i])); } } The first n values should be identical between REDFT01 and the generalized DFT:
for (int i = 0; i \u0026lt; n; ++i) { delta = creal(out_logical[i]) - out[i]; if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, i, delta); } } The remaining values should have even symmetry around n-0.5:
for (int i = 0; i \u0026lt; n; ++i) { delta = creal(out_logical[n + i]) - out[n - 1 - i]; if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, n + i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, n + i, delta); } } The full example can be found in src/test_1d_redft01.c.
REDFT11 (DCT-IV) # In case of the real-valued even-parity DFT with both shifted input and output data (REDFT11), also called the DCT-IV, the corresponding logical DFT size is given by N = 2n, corresponding to n = N/2.
The formal definition of the REDFT11 is given below:
$$ Y_k = 2 \\sum\\limits_{j=0}^{n-1} X_j \\cos\\left[ \\pi (j+1/2) (k+1/2) / n \\right] $$
The inverse of this transform is REDFT11 itself. The input array is assumed to have even symmetry around j=-0.5 and odd symmetry around j=n-0.5.
In order to demonstrate the use of this method, the logically equivalent DFT input is filled appropriately and its output is checked against REDFT11. In the following code, in is the input array (size n) given to REDFT11 and in_logical is the (complex-valued) input array (size N) handed to a generic 1D DFT. Similarly, out is the output array (size n) from REDFT11 and out_logical is the output array (size N) from a generic 1D DFT.
Here is how the symmetric input is generated:
// the first half of the array is identical for (int i = 0; i \u0026lt; n; ++i) { in_logical[i] = in[i]; } // second half is filled according to odd symmetry around n-0.5 for (int i = 0; i \u0026lt; n; ++i) { in_logical[n + i] = -in[n - 1 - i]; } The checks are a little bit more involved. The logically equivalent DFT output should be purely real-valued:
for (int i = 0; i \u0026lt; N; ++i) { if (fabs(cimag(out_logical[i])) \u0026gt; eps) { printf(\u0026#34;error: imag of [%d] is %g\\n\u0026#34;, i, cimag(out_logical[i])); status = 1; } else { printf(\u0026#34;imag of [%d] is %g\\n\u0026#34;, i, cimag(out_logical[i])); } } The first n values should be identical between REDFT11 and the generalized DFT:
for (int i = 0; i \u0026lt; n; ++i) { delta = creal(out_logical[i]) - out[i]; if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, i, delta); } } The remaining values should have odd symmetry around n-0.5:
for (int i = 0; i \u0026lt; n; ++i) { delta = creal(out_logical[n + i]) - (-out[n - 1 - i]); if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, n + i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, n + i, delta); } } The full example can be found in src/test_1d_redft11.c.
RODFT00 (DST-I) # In case of the real-valued odd-parity DFT with no shifts in either input or output array (RODFT00), also called the DST-I, the corresponding logical DFT size is given by N = 2(n+1), corresponding to n = N/2-1. Note that the periodicity of N of the logical input array in combination with odd symmetry X_j = -X_{n-j} leads to X_0 = -X_0 which is equivalent to X_0 = 0. This first always-zero element of the input array is not explicitly included in the input to FFTW and the input array thus has a size of one less and the indices of the symmetry axis shift by 1.
The formal definition of the RODFT00 is given below:
$$ Y_k = 2 \\sum\\limits_{j=0}^{n-1} X_j \\sin \\left[ \\pi (j+1) (k+1) / (n+1) \\right] $$
The inverse of this transform is RODFT00 itself. The input array is assumed to have odd symmetry around j=-1 and odd symmetry also around j=n.
In order to demonstrate the use of this method, the logically equivalent DFT input is filled appropriately and its output is checked against RODFT00. In the following code, in is the input array (size n) given to RODFT00 and in_logical is the (complex-valued) input array (size N) handed to a generic 1D DFT. Similarly, out is the output array (size n) from RODFT00 and out_logical is the output array (size N) from a generic 1D DFT.
Here is how the symmetric input is generated:
// the first half of the array is identical // except the first 0 (and the rest of the array being shifted) in_logical[0] = 0.0; for (int i = 0; i \u0026lt; n; ++i) { in_logical[i + 1] = in[i]; } // second half is filled according to odd symmetry around (n+1) in_logical[n + 1] = 0.0; for (int i = 0; i \u0026lt; n; ++i) { in_logical[n + 2 + i] = -in[n - 1 - i]; } The checks are a little bit more involved. The logically equivalent DFT output should be purely imaginary-valued:
for (int i = 0; i \u0026lt; N; ++i) { if (fabs(creal(out_logical[i])) \u0026gt; eps) { printf(\u0026#34;error: real of [%d] is %g\\n\u0026#34;, i, creal(out_logical[i])); status = 1; } else { printf(\u0026#34;real of [%d] is %g\\n\u0026#34;, i, creal(out_logical[i])); } } Odd symmetry about 0 implies that the imaginary part of the first output should be zero:
if (fabs(cimag(out_logical[0])) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, 0, -cimag(out_logical[0])); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, 0, -cimag(out_logical[0])); } The next n values should have the output of RODFT00 in their negative imaginary parts with one index offset to account for the first zero in the input:
for (int i = 0; i \u0026lt; n; ++i) { delta = -cimag(out_logical[i + 1]) - out[i]; if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, i + 1, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, i + 1, delta); } } Odd symmetry about n in the input to RODFT00 implies odd symmetry in the output of the logically-equivalent DFT about n+1 due to the index shift by one:
if (fabs(cimag(out_logical[n + 1])) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, n + 1, -cimag(out_logical[n + 1])); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, n + 1, -cimag(out_logical[n + 1])); } The remaining values should have odd symmetry around n+1 (note again that the real output from RODFT00 needs to be compared against the negative imaginary parts in the output of the logically equivalent DFT shifted by one full index):
for (int i = 0; i \u0026lt; n; ++i) { delta = -cimag(out_logical[n + 2 + i]) - (-out[n - 1 - i]); if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, n + 2 + i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, n + 2 + i, delta); } } The full example can be found in src/test_1d_rodft00.c.
RODFT10 (DST-II) # In case of the real-valued odd-parity DFT with shifted input data (RODFT10), also called the DST-II, the corresponding logical DFT size is given by N = 2n, corresponding to n = N/2. This function is commonly known as \u0026ldquo;the\u0026rdquo; DST.
The formal definition of the RODFT10 is given below:
$$ Y_k = 2 \\sum\\limits_{j=0}^{n-1} X_j \\sin \\left[ \\pi (j+1/2) (k+1) / n \\right] $$
The inverse of this transform is RODFT01. The input array is assumed to have odd symmetry around j=-0.5 and odd symmetry also around j=n-0.5.
In order to demonstrate the use of this method, the logically equivalent DFT input is filled appropriately and its output is checked against RODFT10. In the following code, in is the input array (size n) given to RODFT10 and in_logical is the (complex-valued) input array (size N) handed to a generic 1D DFT. Similarly, out is the output array (size n) from RODFT10 and out_logical is the output array (size N) from a generic 1D DFT.
Here is how the symmetric input is generated:
// the first half of the array is identical for (int i = 0; i \u0026lt; n; ++i) { in_logical[i] = in[i]; } // second half is filled according to odd symmetry around (n-0.5) for (int i = 0; i \u0026lt; n; ++i) { in_logical[n + i] = -in[n - 1 - i]; } The checks are a little bit more involved. The logically equivalent DFT output should be purely imaginary-valued:
for (int i = 0; i \u0026lt; N; ++i) { if (fabs(creal(out_logical[i])) \u0026gt; eps) { printf(\u0026#34;error: real of [%d] is %g\\n\u0026#34;, i, creal(out_logical[i])); status = 1; } else { printf(\u0026#34;real of [%d] is %g\\n\u0026#34;, i, creal(out_logical[i])); } } The output of RODFT10 is shifted by one index to the left with respect to the logically-equivalent DFT, since the first input is constrained to be zero (resulting in odd parity about -1 in the input to RODFT10). Odd symmetry about 0 implies that the imaginary part of the first output should be zero:
if (fabs(cimag(out_logical[0])) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, 0, -cimag(out_logical[0])); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, 0, -cimag(out_logical[0])); } The next n values should have the output of RODFT10 in their negative imaginary parts with one index offset to account for the first zero in the input:
for (int i = 0; i \u0026lt; n; ++i) { delta = -cimag(out_logical[i + 1]) - out[i]; if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, i + 1, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, i + 1, delta); } } The remaining values have even symmetry around n-1 (note again that the real output from RODFT10 needs to be compared against the negative imaginary parts in the output of the logically equivalent DFT shifted by one full index):
for (int i = 0; i \u0026lt; n - 1; ++i) { delta = -cimag(out_logical[n + 1 + i]) - out[n - 2 - i]; if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, n + 1 + i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, n + 1 + i, delta); } } The full example can be found in src/test_1d_rodft10.c.
RODFT01 (DST-III) # In case of the real-valued odd-parity DFT with shifted output data (RODFT01), also called the DST-III, the corresponding logical DFT size is given by N = 2n, corresponding to n = N/2. This function is commonly known as \u0026ldquo;the\u0026rdquo; inverse DST (IDST).
The formal definition of the RODFT01 is given below:
$$ Y_k = (-1)^kX_{n-1} + 2 \\sum\\limits_{j=0}^{n-2} X_j \\sin \\left[ \\pi (j+1) (k+1/2) / n \\right] $$
The inverse of this transform is RODFT10. The input array is assumed to have odd symmetry around j=-1 and even symmetry around j=n-1.
In order to demonstrate the use of this method, the logically equivalent DFT input is filled appropriately and its output is checked against RODFT01. In the following code, in is the input array (size n) given to RODFT01 and in_logical is the (complex-valued) input array (size N) handed to a generic 1D DFT. Similarly, out is the output array (size n) from RODFT01 and out_logical is the output array (size N) from a generic 1D DFT.
The input of RODFT01 is shifted by one index to the left with respect to the logically-equivalent DFT, since the first input is constrained to be zero (resulting in odd parity about -1 in the input to RODFT01). Here is how the symmetric input is generated:
// a zero in the first entry is needed to satisfy // odd symmetry about -1 in the shifted input array in_logical[0] = 0.0; // the first half of the array is identical up to shift for (int i = 0; i \u0026lt; n; ++i) { in_logical[i + 1] = in[i]; } // second half is filled according to even symmetry around (n-1) for (int i = 0; i \u0026lt; n - 1; ++i) { in_logical[n + 1 + i] = in[n - 2 - i]; } The checks are a little bit more involved. The logically equivalent DFT output should be purely imaginary-valued:
for (int i = 0; i \u0026lt; N; ++i) { if (fabs(creal(out_logical[i])) \u0026gt; eps) { printf(\u0026#34;error: real of [%d] is %g\\n\u0026#34;, i, creal(out_logical[i])); status = 1; } else { printf(\u0026#34;real of [%d] is %g\\n\u0026#34;, i, creal(out_logical[i])); } } The first n values should have the output of RODFT01 in their negative imaginary parts:
for (int i = 0; i \u0026lt; n; ++i) { delta = -cimag(out_logical[i]) - out[i]; if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, i, delta); } } The remaining values have odd symmetry around n-0.5 (note again that the real output from RODFT01 needs to be compared against the negative imaginary parts in the output of the logically equivalent DFT shifted by one full index):
for (int i = 0; i \u0026lt; n; ++i) { delta = -cimag(out_logical[n + i]) - (-out[n - 1 - i]); if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, n + i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, n + i, delta); } } The full example can be found in src/test_1d_rodft01.c.
RODFT11 (DST-IV) # In case of the real-valued odd-parity DFT with both shifted input and output data (RODFT11), also called the DST-IV, the corresponding logical DFT size is given by N = 2n, corresponding to n = N/2.
The formal definition of the RODFT11 is given below:
$$ Y_k = 2 \\sum\\limits_{j=0}^{n-1} X_j \\sin \\left[ \\pi (j+1/2) (k+1/2) / n \\right] $$
The inverse of this transform is RODFT11 itself. The input array is assumed to have odd symmetry around j=-0.5 and even symmetry around j=n-0.5.
In order to demonstrate the use of this method, the logically equivalent DFT input is filled appropriately and its output is checked against RODFT11. In the following code, in is the input array (size n) given to RODFT11 and in_logical is the (complex-valued) input array (size N) handed to a generic 1D DFT. Similarly, out is the output array (size n) from RODFT11 and out_logical is the output array (size N) from a generic 1D DFT.
Here is how the symmetric input is generated:
// the first half of the array is identical up to shift for (int i = 0; i \u0026lt; n; ++i) { in_logical[i] = in[i]; } // second half is filled according to even symmetry around (n-0.5) for (int i = 0; i \u0026lt; n; ++i) { in_logical[n + i] = in[n - 1 - i]; } The checks are a little bit more involved. The logically equivalent DFT output should be purely imaginary-valued:
for (int i = 0; i \u0026lt; N; ++i) { if (fabs(creal(out_logical[i])) \u0026gt; eps) { printf(\u0026#34;error: real of [%d] is %g\\n\u0026#34;, i, creal(out_logical[i])); status = 1; } else { printf(\u0026#34;real of [%d] is %g\\n\u0026#34;, i, creal(out_logical[i])); } } The first n values should have the output of RODFT11 in their negative imaginary parts:
for (int i = 0; i \u0026lt; n; ++i) { delta = -cimag(out_logical[i]) - out[i]; if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, i, delta); } } The remaining values have even symmetry around n-0.5 (note again that the real output from RODFT11 needs to be compared against the negative imaginary parts in the output of the logically equivalent DFT):
for (int i = 0; i \u0026lt; n; ++i) { delta = -cimag(out_logical[n + i]) - out[n - 1 - i]; if (fabs(delta) \u0026gt; eps) { printf(\u0026#34;error: delta of [%d] is %g\\n\u0026#34;, n + i, delta); status = 1; } else { printf(\u0026#34;match of [%d] (delta=%g)\\n\u0026#34;, n + i, delta); } } The full example can be found in src/test_1d_rodft11.c.
Two-Dimensional Examples # The next section deals with the computation of two-dimensional (2D) DFTs of random input data.
2D complex-to-complex # A first example for the computation of two-dimensional Fourier transforms using FFTW is given here:
#include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; #include \u0026lt;math.h\u0026gt; #include \u0026lt;complex.h\u0026gt; #include \u0026lt;fftw3.h\u0026gt; #include \u0026#34;util.h\u0026#34; int test_2d_c2c(int n0, int n1) { int dir = FFTW_FORWARD; fftw_complex *in = fftw_alloc_complex(n0 * n1); fftw_complex *out = fftw_alloc_complex(n0 * n1); fftw_complex *ref_out = fftw_alloc_complex(n0 * n1); fftw_plan p = fftw_plan_dft_2d(n0, n1, in, out, dir, FFTW_ESTIMATE); // random input fill_random_2d_cplx(n0, n1, in); // manually compute DFT for reference int idx_k, idx_j; double phi; for (int k0 = 0; k0 \u0026lt; n0; ++k0) { for (int k1 = 0; k1 \u0026lt; n1; ++k1) { idx_k = k0 * n1 + k1; ref_out[idx_k] = 0.0; for (int j0 = 0; j0 \u0026lt; n0; ++j0) { for (int j1 = 0; j1 \u0026lt; n1; ++j1) { idx_j = j0 * n1 + j1; phi = dir * 2.0 * M_PI * ( k0 * j0 / ((double) n0) + k1 * j1 / ((double) n1) ); ref_out[idx_k] += in[idx_j] * cexp(I * phi); } } } } fftw_execute(p); // compare outputs double eps = 1.0e-12; int status = compare_2d_cplx(n0, n1, ref_out, out, eps); return status; } int main(int argc, char **argv) { int status = 0; status += test_2d_c2c(4, 4); status += test_2d_c2c(4, 5); status += test_2d_c2c(5, 4); status += test_2d_c2c(5, 5); return status; } As usual, arrays are allocated to the specified size and filled with random data. The two-dimensional complex-valued DFT is computed manually for reference and the outputs are compared against the result of FFTW. The product of the one-dimensional DFTs along the two dimensions is computed here via addition of the corresponding phases in the exponent of the complex-valued basis function.
The code can be found in src/test_2d_c2c.c.
2D complex-to-real # The two-dimensional c2r transform can make use of the Hermitian symmetry (see above) to reduce the computational work in the last dimension of the input data by about a factor of 2. The input data thus has to have a shape of (n0xn1_cplx) where n1_cplx = n1/2+1 (division by 2 rounded down) and (n0xn1) is the logical size of the DFT and also the size of the real-valued output arrays.
The arrays are allocated as follows:
fftw_complex *in = fftw_alloc_complex(n0 * n1_cplx); double *out = fftw_alloc_real(n0 * n1); double *ref_out = fftw_alloc_real(n0 * n1); The manual transform that is computed for reference is done as follows:
int idx_k, idx_j; double phi, real; for (int k0 = 0; k0 \u0026lt; n0; ++k0) { for (int k1 = 0; k1 \u0026lt; n1; ++k1) { idx_k = k0 * n1 + k1; ref_out[idx_k] = 0.0; for (int j0 = 0; j0 \u0026lt; n0; ++j0) { for (int j1 = 0; j1 \u0026lt; n1_cplx; ++j1) { idx_j = j0 * n1_cplx + j1; phi = 2.0 * M_PI * ( k0 * j0 / ((double) n0) + k1 * j1 / ((double) n1) ); // output is purely real, // so compute only real part real = creal(in[idx_j]) * cos(phi) - cimag(in[idx_j]) * sin(phi); ref_out[idx_k] += real; // add symmetric entries twice // n1/2+n1%2 is n1/2 if n1 is even // and it is n1/2+1 if n1 is odd if (j1 \u0026gt; 0 \u0026amp;\u0026amp; j1 \u0026lt; n1 / 2 + n1 % 2) { ref_out[idx_k] += real; } } } } } The full example can be found in src/test_2d_c2r.c.
2D real-to-complex # The two-dimensional r2c transform can make use of the Hermitian symmetry (see above) to reduce the computational work in the last dimension of the output data by about a factor of 2. The real-valued input data has to have a shape of (n0xn1), which is also the logical size of the DFT. The output data then has a shape of (n0xn1_cplx) where n1_cplx = n1/2+1 (division by 2 rounded down).
The arrays are allocated as follows:
double *in = fftw_alloc_real(n0 * n1); fftw_complex *out = fftw_alloc_complex(n0 * n1_cplx); fftw_complex *ref_out = fftw_alloc_complex(n0 * n1_cplx); The manual transform that is computed for reference is done as follows:
int idx_k, idx_j; double phi; for (int k0 = 0; k0 \u0026lt; n0; ++k0) { for (int k1 = 0; k1 \u0026lt; n1_cplx; ++k1) { idx_k = k0 * n1_cplx + k1; ref_out[idx_k] = 0.0; for (int j0 = 0; j0 \u0026lt; n0; ++j0) { for (int j1 = 0; j1 \u0026lt; n1; ++j1) { idx_j = j0 * n1 + j1; phi = -2.0 * M_PI * ( k0 * j0 / ((double) n0) + k1 * j1 / ((double) n1) ); ref_out[idx_k] += in[idx_j] * cexp(I*phi); } } } } The full example can be found in src/test_2d_r2c.c.
2D real-to-real # Two-dimensional real-to-real DFTs can be defined with any of the one-dimensional transforms in each of the two dimensions. This implies that for eight one-dimensional transforms there is a total of 64 possible combinations that exceed the scope of this tutorial and also do not contribute much insight.
Note that FFTW computes the separable product of the transforms along each dimension and not the true multi-dimensional DFT. This can be understood intuitively by the addition formulas for sine and cosine:
\\begin{align*} \\sin(u \\pm v) =\u0026amp; \\sin(u) \\cos(v) \\pm \\cos(u) \\sin(v) \\\\ \\cos(u \\pm v) =\u0026amp; \\cos(u) \\cos(v) \\mp \\sin(u) \\sin(v) \\end{align*}
FFTW\u0026rsquo;s two-dimensional real-to-real DFTs can be used to compute the products on the right-hand side of above equation and two such DFts have to be added together to arrive at the true two-dimensional DFT with the Fourier kernel as on the left-hand side of above equation.
In the following, two examples are presented. First, a mixed r2r DFT with REDFT10 in the first dimension and RODFT10 in the second dimension is computed. Second, a true two-dimensional DFT in computed using two FFTW calls.
2D REDFT10+RODFT10 # An example of a two-dimensional transform is presented with REDFT10 in the first dimension and RODFT10 in the second dimension.
The basis functions for the two dimensions are computed separately:
// REDFT10 in first dimension basis_0 = 2.0 * cos(M_PI * (j0 + 0.5) * k0 / ((double) n0)); // RODFT10 in second dimension basis_1 = 2.0 * sin(M_PI * (j1 + 0.5) * (k1 + 1.0) / ((double) n1)); The contribution to the output array is computed as follows:
ref_out[idx_k] += in[idx_j] * basis_0 * basis_1; The full example can be found in src/test_2d_r2r_e10_o10.c.
True 2D IDCT using FFTW # A true two-dimensional inverse discrete cosine transform is computed using FFTW in this example:
$$ Y_{k_0,k_1} = \\sum\\limits_{j_0=0}^{n_0-1} \\sum\\limits_{j_1=0}^{n_1-1} X_{j_0,j_1} \\cos \\left( \\pi \\left( j_0 \\frac{k_0 + \\frac{1}{2}}{n_0} + j_1 \\frac{k_1 + \\frac{1}{2}}{n_1} \\right) \\right) $$
FFTW can only compute the separable product of one-dimensional transforms for multi-dimensional transform. Above kernel function thus has to be split up by application of the addition formula for sine and cosine:
\\begin{align*} ~\u0026amp; \\cos \\left( \\pi \\left( j_0 \\frac{k_0 + \\frac{1}{2}}{n_0} + j_1 \\frac{k_1 + \\frac{1}{2}}{n_1} \\right) \\right) \\\\ =\u0026amp; \\cos \\left( \\pi j_0 \\frac{k_0 + \\frac{1}{2}}{n_0} \\right) \\cos \\left( \\pi j_1 \\frac{k_1 + \\frac{1}{2}}{n_1} \\right) - \\sin \\left( \\pi j_0 \\frac{k_0 + \\frac{1}{2}}{n_0} \\right) \\sin \\left( \\pi j_1 \\frac{k_1 + \\frac{1}{2}}{n_1} \\right) \\end{align*}
The left half of above equation is computed using a two-dimensional REDFT01 and the right half is computed using a two-dimensional RODFT01. The outputs of these transforms are subtracted from each other to yield the desired result.
First consider the naive implementation in plain C.
The input and output arrays are allocated and filled with random data:
double *in = fftw_alloc_real(n0 * n1); double *ref_out = fftw_alloc_real(n0 * n1); fill_random_2d_real(n0, n1, in); The two-dimensional IDCT is computed from the input data:
double basis; for (int k0 = 0; k0 \u0026lt; n0; ++k0) { for (int k1 = 0; k1 \u0026lt; n1; ++k1) { idx_k = k0 * n1 + k1; ref_out[idx_k] = 0.0; for (int j0 = 0; j0 \u0026lt; n0; ++j0) { for (int j1 = 0; j1 \u0026lt; n1; ++j1) { idx_j = j0 * n1 + j1; basis = cos(M_PI * ( (k0 + 0.5) * j0 / ((double) n0) + (k1 + 0.5) * j1 / ((double) n1) ) ); ref_out[idx_k] += in[idx_j] * basis; } } } } Next, the same transform is implemented using FFTW.
Separate input and output array are allocated in this educational example:
double *in1 = fftw_alloc_real(n0 * n1); double *in2 = fftw_alloc_real(n0 * n1); double *out1 = fftw_alloc_real(n0 * n1); double *out2 = fftw_alloc_real(n0 * n1); The two two-dimensional transforms are planned:
fftw_plan p1 = fftw_plan_r2r_2d(n0, n1, in1, out1, FFTW_REDFT01, FFTW_REDFT01, FFTW_ESTIMATE); fftw_plan p2 = fftw_plan_r2r_2d(n0, n1, in2, out2, FFTW_RODFT01, FFTW_RODFT01, FFTW_ESTIMATE); The next step is to fill the two input arrays in1 and in2 for FFTW with appropriate data so that the results of FFTW are equivalent to those of the naive implementation presented above. This step is not entirely trivial and presented in detail next.
A two-dimensional loop over the input data in is set up and all inputs to FFTW are initialized to be zero. Then, the two input arrays are filled separately.
for (int j0=0; j0\u0026lt;n0; ++j0) { for (int j1=0; j1\u0026lt;n1; ++j1) { idx_j = j0 * n1 + j1; // make sure that all entries are zero in1[idx_j] = 0.0; in2[idx_j] = 0.0; /* fill in1 */ /* fill in2 */ } } The input data for REDFT01 has to be multiplied by 0.5 for each dimension where the index is above 0 to cancel the factor of 2 in the definition of REDFT01 for direct correspondence with the desired true two-dimensional IDCT. This is the /* fill in1 */ step in above loop:
double factor = 1.0; if (j0 \u0026gt; 0) { factor *= 0.5; } if (j1 \u0026gt; 0) { factor *= 0.5; } in1[idx_j] = factor * in[idx_j]; The input data for RODFT01 also needs to have entries multiplied by 0.5 for each dimension in which the index is less than n-1 to cancel the factor of 2 in the definition of RODFT01 for direct correspondence with the desired true two-dimensional IDCT. Additionally, the input data needs to be shifted left/down by one index due to the j+1 appearing in the definition of RODFT01. This is the /* fill in2 */ step in above loop:
if (j0 \u0026gt; 0 \u0026amp;\u0026amp; j1 \u0026gt; 0) { int my_j0 = j0-1; int my_j1 = j1-1; idx_j_2 = my_j0 * n1 + my_j1; factor = 1.0; if (my_j0 \u0026lt; n0-1) { factor *= 0.5; } if (my_j1 \u0026lt; n1-1) { factor *= 0.5; } in2[idx_j_2] = factor * in[idx_j]; } In the desired truely-2D IDCT, there is no contribution from the second term in the split-basis approach used to implement this transform using FFTW if either j0==0 or j1==0, since the respecitve arguments to sin are zero in this case. This motivates the check for j0 \u0026gt; 0 \u0026amp;\u0026amp; j1 \u0026gt; 0 above. The indices j0 and j1 in the REDFT01 input are transformed to the corresponding indices my_j0 and my_j1 in the input to RODFT01. The corresponding linear index idx_j_2 in in2 is computed from my_j0 and my_j1. Factors of 0.5 are required for each dimension in which the index is less than n-1 to cancel the factor of 2 in the definition of RODFT01.
The FFTW plans can be executed after computing the reference output and it remains to combine the outputs by subtracting the contribution from the two-dimensional RODFT01 to arrive at the final result in out1:
for (int k0 = 0; k0 \u0026lt; n0; ++k0) { for (int k1 = 0; k1 \u0026lt; n1; ++k1) { idx_k = k0 * n1 + k1; // subtract because cos(u+v) = cos(u)*cos(v) - sin(u)*sin(v) out1[idx_k] -= out2[idx_k]; } } The full example can be found in src/test_2d_r2r_true2d.c.
Real-world applications # In this section, FFTW is used to evaluate the geometry of the magnetic axis and a flux surface of a stellarator ideal magnetohydrodynamic (MHD) plasma equilibrium as computed by the Variational Moments Equilibrium Code (VMEC).
Here is a plot of a few of the flux surfaces of the Wendelstein 7-X stellarator:
Nested flux surfaces are shown in grey, red, green and blue. The black line indicates the magnetic axis.
The geometry of the magnetic axis and that of a flux surface are real-valued. Therefore, c2r DFTs are sufficient to compute the backward transforms to real space.
Geometry of the Magnetic Axis in a Stellarator # The real-space geometry of the magnetic axis (a general closed curve) is given via a one-dimensional DFT evaluated using real-valued arithmetics:
\\begin{align*} R_\\mathrm{ax}(\\zeta) =\u0026amp; \\sum\\limits_{n=0}^{N} R_{\\mathrm{ax}, n}^\\mathrm{cos} \\cos \\left( n \\zeta \\right) + R_{\\mathrm{ax}, n}^\\mathrm{sin} \\sin \\left( n \\zeta \\right) \\\\ Z_\\mathrm{ax}(\\zeta) =\u0026amp; \\sum\\limits_{n=0}^{N} Z_{\\mathrm{ax}, n}^\\mathrm{sin} \\sin \\left( n \\zeta \\right) + Z_{\\mathrm{ax}, n}^\\mathrm{cos} \\cos \\left( n \\zeta \\right) \\end{align*}
where ζ is the toroidal angle per field period in radians. For a five-fold symmetric stellarator like W7-X, ζ ranges from 0 to 5 * 2π around the whole machine. Conversely, the first (unique) toroidal segment of the geometry is contained within a range of ζ from 0 to 2π.
In this example the geometry of the magnetic axis is evaluated at regular intervals in ζ:
$$ \\zeta_l = 2 \\pi l / n_\\zeta $$
where l ranges from 0 to n_ζ-1.
Inserting this into the Fourier series for, e.g., the R coordinate, leads to a DFT:
$$ R_{\\mathrm{ax}, l} = \\sum\\limits_{n=0}^{N} \\left( R_{\\mathrm{ax}, n}^\\mathrm{cos} - i , R_{\\mathrm{ax}, n}^\\mathrm{sin} \\right) e^{2 \\pi i n l / n_\\zeta} $$
Note that typically the number of Fourier coefficients included in computation of the MHD equilibrium is (much) less than the number of grid points, i.e., N \u0026lt; n_ζ. The physics happens in real space and certains aspects of a computation might require a fine spatial resolution (i.e., many grid points in real space) to accurately resolve, e.g., gradients while the overall complexity of the solution (gouverned by the number of included Fourier coefficients) does not need to be extremely high. FFTW only supports (logically) equally-sized input and output arrays and thus, if less Fourier coefficients than desired grid points are to be used, the Fourier coefficient array needs to be filled with zeros in the remaining area.
The axis geometry is defined as follows:
// number of Fourier coefficients int ntor = 12; // cos-parity Fourier coefficients for magnetic axis double R_ax_cos[13] = { 5.63, 0.391, 0.0123, 1.21e-3, 4.89e-6, -5.12e-5, -6.57e-5, 2.27e-6, -9.28e-5, -5.32e-7, 6.67e-5, 5.72e-5, 2.38e-5 }; // sin-parity Fourier coefficients for magnetic axis double R_ax_sin[13] = { 0.0, 0.0727, 6.34e-3, 5.84e-3, 9.77e-4, 5.32e-5, 8.48e-5, 5.57e-5, 5.56e-5, 5.53e-6, 7.74e-7, 1.03e-5, 8.75e-6 }; The number of grid points in the toroidal direction at which the magnetic axis geometry is to be evaluated is specified via the n_zeta parameter. It needs to be checked that n_zeta is large enough, i.e., above the Nyquist limit corresponding to the specified number of Fourier coefficients. Then, the input and output arrays can be allocated:
int nCplx = n_zeta/2+1; if (nCplx\u0026lt;ntor+1) { printf(\u0026#34;error: number of grid points too low.\\n\u0026#34;); return; } fftw_complex *in = fftw_alloc_complex(nCplx); double *out = fftw_alloc_real(n_zeta); fftw_plan p = fftw_plan_dft_c2r_1d(n_zeta, in, out, FFTW_ESTIMATE); Now that the input array is allocated, the available Fourier coefficients can be copied over and (if present) the remainder of the input array is set to zero:
// copy over available Fourier coefficients for (int n=0; n\u0026lt;=ntor; ++n) { in[n] = R_ax_cos[n] - I * R_ax_sin[n]; } // zero out remaining input Fourier coefficients for (int n=ntor+1; n\u0026lt;nCplx; ++n) { in[n] = 0.0; } The full example can be found in src/app_magn_axis.c.
Assuming stellarator symmetry, half of the Fourier coefficients can be omitted and the transform reduces to the one-dimensional IDCT and IDST, respectively:
\\begin{align*} R_\\mathrm{ax}(\\zeta) =\u0026amp; \\sum\\limits_{n=0}^{N} R_{\\mathrm{ax}, n}^\\mathrm{cos} \\cos \\left( n \\zeta \\right) \\\\ Z_\\mathrm{ax}(\\zeta) =\u0026amp; \\sum\\limits_{n=0}^{N} Z_{\\mathrm{ax}, n}^\\mathrm{sin} \\sin \\left( n \\zeta \\right) \\end{align*}
The FFTW documentation explicitly advises against using R*DFT00 transforms for this purpose due to numerical stability issues which are currently circumvented within FFTW by using a less efficient algorithm. If the data is required anyway on the whole domain from 0 to 2π, it is probably easiest and fastest (in terms of development work) to simply use a c2r DFT and provide only real data in the input.
On the other hand, in case the evaluation locations are not required to be located on \u0026ldquo;full\u0026rdquo; grid points in the toroidal direction, REDFT01 and RODFT01 can be used. This is the subject of the now-starting second half of this example.
The number of grid points as well as the output array size are given as follows:
int nCplx = n_zeta / 2; if (nCplx \u0026lt; ntor + 1) { printf(\u0026#34;error: number of grid points too low.\\n\u0026#34;); return; } Only the cosine Fourier coefficients are copied over into the (real) input array:
// copy over available Fourier coefficients in[0] = R_ax_cos[0]; for (int n = 1; n \u0026lt;= ntor; ++n) { in[n] = R_ax_cos[n]; } // zero out remaining input Fourier coefficients for (int n = ntor + 1; n \u0026lt; nCplx; ++n) { in[n] = 0.0; } The second half of the output array (of size n_zeta for equivalent with the first half of this example) is filled by applying the even symmetry of the output data implicitly used in REDFT01:
for (int n=0; n\u0026lt;nCplx; ++n) { out[n_zeta - 1 - n] = out[n]; } The output data is compared in the following figure with the equivalent result from using a c2r transform:
The violet curve labelled \u0026lsquo;DFT\u0026rsquo; is the output from the c2r DFT applied in the first half of this example. The green curve labelled \u0026lsquo;REDFT01\u0026rsquo; is the output from the REDFT01 applied in the second half of this example. Note that the locations of the REDFT01 output needed to be shifted to the right by half an index to yield overlapping curves.
The full example can be found in src/app_magn_axis_stellsym.c.
Geometry of a Flux Surface in a Stellarator # The real-space geometry of the flux surface is a general toroidal surface which is conveniently parameterized using poloidal and toroidal angle-like coordinates. The surface geometry is then given via a two-dimensional DFT:
\\begin{align*} R(\\theta, \\zeta) =\u0026amp; \\phantom{+}~ \\sum\\limits_{n= 0}^{N} R_{0,n}^\\mathrm{cos} \\cos \\left( n \\zeta \\right) + R_{0,n}^\\mathrm{sin} \\sin \\left( n \\zeta \\right) \\\\ ~\u0026amp; + \\sum\\limits_{m=1}^{M} \\sum\\limits_{n=-N}^{N} R_{m,n}^\\mathrm{cos} \\cos \\left( m \\theta - n \\zeta \\right) + R_{m,n}^\\mathrm{sin} \\sin \\left( m \\theta - n \\zeta \\right) \\\\ Z(\\theta, \\zeta) =\u0026amp; \\phantom{+}~ \\sum\\limits_{n= 0}^{N} Z_{0,n}^\\mathrm{sin} \\sin \\left( n \\zeta \\right) + Z_{0,n}^\\mathrm{cos} \\cos \\left( n \\zeta \\right) \\\\ ~\u0026amp; + \\sum\\limits_{m=1}^{M} \\sum\\limits_{n=-N}^{N} Z_{m,n}^\\mathrm{sin} \\sin \\left( m \\theta - n \\zeta \\right) + Z_{m,n}^\\mathrm{cos} \\cos \\left( m \\theta - n \\zeta \\right) \\end{align*}
where (θ,ζ) are the poloidal and toroidal angle-like variables in radians, respectively. For a five-fold symmetric stellarator like W7-X, ζ ranges from 0 to 5 * 2π around the whole machine. Conversely, the first (unique) toroidal segment of the geometry is contained within a range of ζ from 0 to 2π. The poloidal angle-like coordinate θ ranges from 0 to 2π once the short way around the torus (wristband-like).
The two-dimensional DFT above can be simplified (shown here for R only) by introducing rectangular two-dimensional Fourier coefficient matrices:
$$ R_{m,n} = \\begin{cases} 0 \u0026amp; m=0, n\u0026lt;0 \\\\ R_{0,n}^\\mathrm{cos} - i R_{0,n}^\\mathrm{sin} \u0026amp; m=0,n \\geq 0 \\\\ R_{m,n}^\\mathrm{cos} - i R_{m,n}^\\mathrm{sin} \u0026amp; \\textrm{else} \\end{cases} $$
In this example the geometry of the flux surface is evaluated on a regular grid in θ and ζ:
$$ \\zeta_l = 2 \\pi l / n_\\zeta $$
$$ \\theta_k = 2 \\pi k / n_\\theta $$
where l ranges from 0 to n_ζ-1 and k ranges from 0 to n_θ-1.
Inserting this into the Fourier series for, e.g., the R coordinate, leads to a DFT:
$$ R_{l,k} = \\sum\\limits_{m= 0}^{M} \\sum\\limits_{n=-N}^{N} R_{m,n} , e^{2 \\pi i ( n l / n_\\zeta + m k / n_\\theta ) } $$
The R coordinate is a real-valued quantity which implies that a two-dimensional c2r DFT provided by FFTW can be used to perform the backward transform in order to evaluate the flux surface geometry. One further issue consists in the fact that the definition of the Fourier geometry employed in VMEC uses an angle argument (m θ - n ζ) where the two-dimensional DFT written out above uses (m θ + n ζ). The Fourier coefficients coming from VMEC have to be inserted into the positions corresponding to (-n) in the input array given to FFTW in order to resolve this pecularity.
The next part concers the code to copy over the Fourier coefficients staring from the VMEC output in arrays rmnc and zmns into the input to FFTW.
The index in the FFTW input corresponding to given mode numbers n and m can be computed as follows:
if (n \u0026lt;= 0) { idx_in = -n * nyq_pol + m; } else { idx_in = (n_zeta - n) * nyq_pol + m; } This code is abbreviated in the following as /* compute idx_in */.
For the first coefficients with m=0, the copying is performed as follows:
int idx_vmec = 0; int m = 0; for (int n = 0; n \u0026lt;= ntor; ++n) { /* compute idx_in */ in_R[idx_in] = rmnc[idx_vmec]; in_Z[idx_in] = I * zmns[idx_vmec]; idx_vmec++; } Note that VMEC weights the coefficients for m=0 with positive n ζ in contrast to the following coefficients with m\u0026gt;0. The cosine-parity quantities like R are not influence by this, but the sine-parity quantities like Z need to get the sign of their value flipped due to the odd symmetry sin(-n zeta) = -sin(n zeta).
The second part of the copying adresses the Fourier coefficients with m\u0026gt;0:
for (m = 1; m \u0026lt; mpol; ++m) { for (int n = -ntor; n \u0026lt;= ntor; ++n) { /* compute idx_in */ in_R[idx_in] = 0.5 * rmnc[idx_vmec]; in_Z[idx_in] = -0.5 * I * zmns[idx_vmec]; idx_vmec++; } } Here, the coefficients are scaled by a factor of 0.5. FFTW implies that coefficientss for m\u0026lt;0 were present in the logically equivalent DFT input, which is not the case for VMEC output. Thus, they are (in this case errornously) scaled internally by a factor of 2, which needs to be counteracted by a scaling factor of 0.5 in the input.
Assuming stellarator symmetry, half of the Fourier coefficients can be omitted and the transform reduces to the two-dimensional IDCT and IDST:
\\begin{align*} R(\\theta, \\zeta) =\u0026amp; \\sum\\limits_{n= 0}^{N} R_{0,n}^\\mathrm{cos} \\cos \\left( n \\zeta \\right) + \\sum\\limits_{m=1}^{M} \\sum\\limits_{n=-N}^{N} R_{m,n}^\\mathrm{cos} \\cos \\left( m \\theta - n \\zeta \\right) \\\\ Z(\\theta, \\zeta) =\u0026amp; \\sum\\limits_{n= 0}^{N} Z_{0,n}^\\mathrm{sin} \\sin \\left( n \\zeta \\right) + \\sum\\limits_{m=1}^{M} \\sum\\limits_{n=-N}^{N} Z_{m,n}^\\mathrm{sin} \\sin \\left( m \\theta - n \\zeta \\right) \\end{align*}
This is currently resolved by simply omitting the stellarator-asymmetric terms in the input to FFTW.
The full example code can be found in src/app_flux_surface.c. A Python script is provided to plot the resulting real-space geometry in src/plot_lcfs_realspace.py.
Allocation of arrays # Throughout this example collection, the proposed convenience wrapper functions provided by FFTW for allocating real- and complex-valued arrays are used:
int n = 32; int nOut = n/2+1; double *in = fftw_alloc_real(n); fftw_complex *out = fftw_alloc_complex(nOut); where n is the real-space size of the DFT and nOut is the number of Fourier coefficients resulting from a r2c DFT. The corresponding \u0026ldquo;raw\u0026rdquo; allocation code would look like this:
double *in = (double*) fftw_malloc(sizeof(double) * n); fftw_complex *out = (fftw_complex*) fftw_malloc(sizeof(fftw_complex) * nOut); Note that above code is equivalent to the standard C way of allocating memory using malloc:
double *in = (double*) malloc(sizeof(double) * n); fftw_complex *out = (fftw_complex*) malloc(sizeof(fftw_complex) * nOut); except that the FFTW routines ensure proper memory alignment for exploiting SIMD instructions of modern CPUs.
Utility functions # In order to keep the examples short, a separate header file src/util.h is provided. It contains methods to operate on one- and two-dimensional arrays (the latter stored in row-major order) of real (double) and complex (fftw_complex) numbers. The following operations are supported:
fill with random numbers between 0 and 1: e.g. fill_random_1d_cplx element-wise check for approximate equality: e.g. compare_1d_real write into a text file: e.g. dump_1d_real compute generalized DFT (shift and non-linear phase): dft_1d_cplx `}),e.add({id:4,href:"/labathome.de/physics/TVP250/",title:"Pfeiffer TVP250",section:"Physics",content:` Pfeiffer TVP250 (2016-11-06) # I am currently building a controller for my good old Pfeiffer TVP250:
The motor is a four-phase brushless DC type, with a permanent magnet on the shaft. Thus, by applying a DC voltage to any of the phases with respect to the center tap, the rotor rotates into a well-defined position. As it turns out, to accellerate the rotor, a constant phase shift of 45 degrees has to be maintained between the driving magnetic field and the magnet on the rotor.
The old controller died (this is how I got this pump in the first place), but I was able to get some information from Pfeiffer:
User\u0026rsquo;s Manual \u0026ldquo;PM 800 012 BD\u0026rdquo; resp. \u0026ldquo;B 400 000 C d\u0026rdquo; Schematics \u0026ldquo;S 400 000 C\u0026rdquo; Spare Parts List \u0026ldquo;E 400 000\u0026rdquo; Yesterday evening I was able to test the new driver electronics for the first time. The L6203 run pretty hot given that they used to be mosfets, but nothing a nice heatsink could not cope with. Here are the EAGLE schematics again: TMP_Controller.zip
A video of the first run can be found on YouTube: https://youtu.be/dmyyyMA9du0
The oscillation is due to the rotor locking on the driving field, being accellerated, then the phase shift (and thus the driving force) vanishes and the rotor deccellerates again.
Next step are:
Attach a Hall sensor (TLE 4905L) in the vicinity of the shaft end which has a magnet already attached. The original drive circuit also used Hall sensors, but in an all-analog approach. The bearings have to be replaced, they sound really bad. The motor for the oil pump has to be brought back to working condition. A cooling water supply is needed. I need to turn some ISO K and KF flanges for connecting the turbo to my forepump (Alcatel 2012) and to some pressure gauge(s). Driver Circuit (2017-02-19) # The motor is for the bearing lubrication pump which turns out to be a faily straigtforward worm pump. Bearing are EL8 wich could be replaced by a modern 608 in P5 precision, maybe P4 if it is affordable\u0026hellip; Since all the rubber rings are ca. 30 years old, I will disassemble the whole unit and replace them too.
Here is an image of the driver circuit:
and a PDF of the board layout as a 300dpi PDF: TMP_Driver.pdf
The current setup constists of my usual ATmega32 development board and some crude wiring, but the rotor accelerates up to some speed, where defined by the current code on the µC some limit is reached :-)
Next steps:
add LCD display to µC circuit for enhanced debugging capabilities find out wether 608P5 or 608P4 bearings are affordable turn an adapter ISO-K 65 \u0026lt;\u0026ndash;\u0026gt; KF 40 on the lathe Hall Sensors (2017-03-03) # Today I had some time to go on building my new driver circuit for the Pfeiffer TVP-250.
This is a view on the motor signals when I started today. The inductivity of the motor strongly distorts the signal and makes it hard to debug the driver circuit.
Therefore, I build a star of four 30 ohms resistors which are attached to the driver instead of the TMP motor. Now the signal looks as intended and allows to verify the correct signal generation. Two opposite phases are shown, therefore the phase shift is 180°.
For a precise control of the acceleration phase of the motor, I need information on at which position the rotor is currently located. I already had a single unipolar Hall switch, which gives me one defined pulse per revolution, but I did not like that anymore. So I decided to go for linear Hall sensors (SS 56 ET) which produce a voltage linearly dependent on the surrounding magnetic field.
The single sensors are mounted via one strong wire and thus can be bent to stay in place without having to fiddle with bending more that one strong wire at a time.
Here you can see the sensor board attached to the pump body. In order to get a strong signal, I positioned the sensors as close to the magnet as possible.
However, this turned out to be not optimal. The waveform is quite distorted and one can imagine that I was not willing to use this as an input to my circuit.
Therefore, I moved the Hall sensors some millimeters away from the magnet and obtained a much nicer sine-like waveform; due to the larger distance the amplitude has also fallen to about 10% of the original one. Since the main controller should be an ATmega8 with an integrated ADC with an input voltage range of 0 \u0026hellip; 2.56V, I needed a level shifter which did as well some amplification to utilize as much of the ADC range as possible. The LT1006 was specifically designed to operate on 5V, so it was a nice choice (apart from the fact that I had one of them lying arround ;-) )
I was just about to order some new LT1006s when I took a second thougt on the circuit and wether the goal can be reached as well with some more common opamp like the LF411\u0026hellip;
Here is what I came up with:
The LF411 form two difference amplifiers, just as in the LT1006 version. The AD580 and 1k pot are used to supply the offset voltage, which is subtracted from the input signal from the Hall sensors. The trick lies in the two diodes (1N4148) and the 2k7 resistor at the LF411 output. Using these, the output is DC-wise downshifted by about 1.2V (2x600mV) and thus, the opamp output can operate comforably high above ground. The only noticable side effect so far is that the offset pot has to be set to another voltage to compensate for the voltage drop at the output diodes. One could argue that the diode characteristic is going to put a nonlinear term into the amplifier, but since the diode is biased at ~0.4mA, I do not expect the forward voltage to change much.
Here is the realisation of the circuit on the breadboard:
Below you see the final waveforms to get digitized. The shape is not exactly sinusoidal which I belive is a geometric effect resulting from the shape of the magnets dipole field rotating aside the Hall sensors. At first, I worried about the kind-of saturation of the signals at the top and bottom. However, these seem to stem from the specific magnetic field configuration and could not easily be eliminated. It is definetely on an opamp effect. I thought about the uniqueness of each set of the two voltage levels and wether I could always determine the exact rotor position from that. However, when (e.g.) signal 1 is at its top level, signal 2 has a strong slope and so I can identify the position of the rotor for each set of the two voltages :-)
The plan is now to attach these signals to the ATmega and write some sort of look-up-table to identify the rotor position. Then, the controller can decide which current patten to apply to the coils depending on the current operating mode: power-down (no signal), acceleration (45° leading phase), decceleration (45° lagging phase) or idle (0° phase shift).
New Controller Board (2017-05-20) # After moving to Greifswald, I have now set up my lab again and did some progress on the TVP250 controller.
First step was to actually build the preamp circuit I mentioned in my last post on a circuit board.
Then, I modified an old microcontroller develmopment board to
calculate the rotor position from the two digitized Hall sensor voltages set the driver input signals accordingly to synchronosly drive the motor in the pump and handle user interaction via an LCD and two pushbuttons (start and halt). After some fiddling with a proper algorithm which is both capable of semi-realtime control of the drivers and handling user interaction with the slow LCD interface, the pump nicely accelerates and decelerates on user request.
Here is a short video of the operation: https://www.youtube.com/watch?v=7gtoqjd_-4Y
Now, I have to get my forepump running and see if the pump really accelerates up to 500Hz. At that point, I will also need to implement the hold-mode in the source code which limits the maximum frequency of the driver.
The source code (written for AVRGCC in AVRstudio 4.18) can be found in this zip file: tmp_controller_20170520.zip.
`}),e.add({id:5,href:"/labathome.de/elektrotechnik/smps/",title:"SMPS",section:"Electrical Engineering",content:`Aus einem alten Sciex QStar XL Flugzeit-Massenspektrometer konnte ich ein Pulser-Modul bergen:
Dieses enthält neben einigen feinen Bauteilen, wie MHV- und SHV-Buchsen, Hochspannungs-Relais, -Mosfets und einem OPA541 Power-Op-Amp auch ein Schaltnetzteil, welches die Gatetreiber für die HV-Mosfets versorgt.
Um den rot umrandeten Bereich der beiden Platinen geht es hier:
Als Controller-IC kommt hier der SG3526J zum Einsatz. Der größere der beiden Trafos mit der Bezeichnung 024435 wurde von Electronetics hergestellt und ist wahrscheinlich ein von Sciex in Auftrag gegebenes Sondermodell.
Die folgende Tabelle gibt die Verbindung des Stromversorgunssteckers links oben (Pins 1-6) an den NIM-Stecker wieder:
Pin am Board Kabelfarbe NIM-Pin Funktion 1 gelb 16 +12V 2 weiß 17 -12V 3 rot 10 +6V 4 blau 28 +24V 5 schwarz 34 power GND 6 grau 42 high-quality GND Wenn man jetzt zwischen Pin 1 und 5 ein 12V-Netzteil anschließt, erwacht zumindest schon man das Schaltnetzteil zum Leben. Es liefert für zwei Gatetreiber jeweils symmetrische 15V. Für die weiteren Tests wurden die Gatetreiber-Schaltungsteile abgetrennt. Verschiedene Lastwiderstände wurden zwischen +15V und -15V an die parallelgeschalteten Ausgänge angeschlossen. Die sich ergebende Belastungskurve ist hier zu sehen:
Als Modell wurde eine ideale Spannungsquelle mit nachgeschaltetem (Innen-)Widerstand angenommen. Der Fit an die Messungen (die Punkte für I\u0026lt;0.15A wurden vernachlässigt) ergibt einen Innenwiderstand von ca. 9.3 Ohm bei einer Leerlaufspannung von 29.7V. Eine Messung ohne Last ergibt jedoch eine Leerlaufspannung von ca. 70V. Hier spielt wahrscheinlich die Tatsache eine Rolle, dass es bei der verwendeten SMPS-Topologie kein Feedback von der Sekundärseite auf die Ansteuerung auf der Primärseite gibt.
Interessant ist das Netzteil aus dem Grund, dass es recht einfach (=robust, leicht reparierbar) aufgebaut ist und die Isolation zwischen Sekundärseite und Primärseite einigermaßen hochspannungsfest sein müsste. Zusammen mit dem brauchbaren Nenn-Ausgangsstrom ist es vielleicht für die Gate-Ansteuerung in einer DRSSTC geeignet\u0026hellip; ?
`}),e.add({id:6,href:"/labathome.de/physics/kf40_cf40/",title:"Adapterflansche KF40/CF40",section:"Physics",content:` Adapterflansche KF40/CF40 # Ich hatte über die Weihnachtstage mal wieder ein bisschen Zeit, bei einem guten Freund in der Werkstatt ein paar Adapterflansche zu drehen. Natürlich gibt es diese auch zu kaufen, aber dann gäbe es ja nichts zu berichten\u0026hellip;
Hier sieht man schon mal die Endprodukte:
Die Abkürzungen stehen für KleinFlansch (Erfindung von Leybold) und ConFlat (Varian). Die 40 bezieht sich jeweils auf den mit gegebener Flanschgröße maximal möglichen Rohrquerschnitt. KF-Flansche werden üblicherweise nur bis in den Hochvakuum-Bereich verwendet, weil die Gummi-Dichtringe nicht gut genug abdichten und selbst ausgasen. Daher geht man bei niedrigeren Drücken (Ultrahochvakuum) zu CF-Flanschen mit einer Schneidkante über, die sich in einem Dichtring aus Kupfer festbeißt. Ein CF-Flansch ist üblicherweise bei richtiger Montage (Schrauben mit korrektem Drehmoment über Kreuz angezogen, nagelneuer Dichtring) für mehrere Forschergenerationen dicht. Das KF-System hat dagegen den Vorteil, dass es mit Spannschellen sehr viel schneller umbaubar ist.
Ich benötigte diese Übergangsstücke, um ein Plattenventil mit CF-Flanschen in einem Vakuum-Aufbau mit KF-Flanschen verbauen zu können.
Als Rohmaterial hatte ich mir bei eBay einige Reststücke 1.4305 bestellt. Es stellte sich jedoch bereits bei den ersten Spänen heraus, dass das bei Leibe kein Automatenedelstahl sein kann. Am Ende eines der Reststücke fand sich dann noch ein Aufkleber, der das Material als 1.4404 auswies\u0026hellip; Im Grunde ist mir das sogar lieber, weil das ein oft verwendetes Material für Vakuumanlagen ist; die Bearbeitung war halt ein bisschen mühsamer.
Zunächst wurden die grob zugesägten Stücke bis auf 0,5mm Schlichtaufmaß auf Länge gedreht:
Weiterhin wurden die Teile auf 30mm mit einem Spiralbohrer durchbohrt und auf 35mm ausgedreht [leider kein Bild hiervon].
Für die weitere Bearbeitung wurde ein Spanndorn angefertigt. Durch Anziehen der Klemmschraube drückt das Klemmstück die Zinken auseinander und das Werkstück wird mit gutem Rundlauf sehr fest gespannt:
Die Bohrung für das Klemmstück enthält noch ein Abdrückgewinde, damit man das teilweise recht fest sitzende Klemmstück wieder herausbekommt:
Die Rohstücke wurden dann also nach dem Festspannen auf dem Klemmdorn auf den Außendurchmesser des CF-Flansches (70mm) vorgedreht. Weiterhin wurde der Absatz bis zum Außendurchmesser des KF-Flansches (55mm) vorgeschruppt:
Als nächstes kommt die Ausdrehung für den innenzentrierenden Dichtring auf der KF-Seite dran:
Zum Anfasen der Innenkanten habe ich denselben Ausdrehstahl verwendet und die Maschine linksherum laufen lassen:
Mit einer VCGT wurde dann die Freidrehung zwischen den beiden Flanschen hergestellt. Zunächst hatte ich es mit einem Stechschwert versucht, aber auf Grund des fiesen Materials hat sich das als nicht praktikabel erwiesen.
Die 15 Grad-Schräge des KF-Flansches wurde mit schräg gestelltem Oberschlitten gedreht und der Radius an der Außenkante durch anfasen und Verrunden mit einer Feile hergestellt. Diese Seite passt soweit schon mal:
Daraufhin wurde das Werkstück auf dem Klemmdorn umgedreht und die CF-Seite in Angriff genommen. Der Adapter wurde jetzt auf die korrekte Länge geschlichtet und die Schneidkante angedreht.
Hierzu habe ich mit geklemmtem Bettschlitten und auf 20 Grad verdrehtem Oberschlitten diagonal mit einer VCGT für Alu eingestochen. Natürlich geht das nicht in einem Zug für die ganze Schneidkante. Daher habe ich nach und nach den Bettschlitten in Richtung Spindelstock verfahren (in Schritten von ca. 0.2mm). Da man hierbei von innen nach außen arbeitet, entsteht auch (fast) kein Grat an der Schneidkante.
Hier sieht man einen Zwischenschritt, bei dem etwa die Hälfte der Zustellung bereits geschafft ist:
Und dann ist es irgendwann geschafft:
Der Spanndorn wird jetzt vertikal im Schraubstock gespannt und unter der Spindel ausgemittelt. Über die Teilkreis-Funktion der Digitalanzeige wurde dann der Lochkreis für die CF-Verschraubung gebohrt; das Ausmitteln des Spanndorns über dem Rundtisch für eine komplett konventionelle Fertigung war mir an dem Abend zu mühselig.
Wenn man es mit den Passungen für den Spanndorn etwas zu genau nimmt, muss man hin und wieder auch zu drastischen Maßnahmen greifen, um das Werkstück wechseln zu können:
Ganz zuletzt wurde noch bei horizontal eingespanntem Klemmdorn der Schlitz in die Frontfläche des CF-Flansches gescheibenfräst. Davon gibts aber leider keine Bilder mehr\u0026hellip;
Durch diese Schlitze kann man bei einem Lecktest Helium an die Übergangsstelle spülen, um eine eventuelle Undichtkeit zu finden. Normalerweise sitzen nämlich die Flächen des CF-Flansches dicht aneinander und es ist mehr dem Zufall überlassen, ob außen hingeblasenes Helium auch wirklich bis an die Schneidkante kommt. Das Helium würde dann seinen Weg durch das Leck in das (teilevakuierte) Innere der Apparatur finden und dort von einem Massenspektrometer detektiert werden.
Dieser Test steht jedoch bei den gezeigten Flansche noch aus.
Falls es jemanden interessiert, gibt es hier auch noch die Zeichnung als PDF. Bitte beachtet, dass das Innenmaß der Freidrehung für den Kupfer-Dichtring 48.3mm Durchmesser haben muss.
KF40_CF40_korrigiert.pdf
`}),e.add({id:7,href:"/labathome.de/maschinenbau/dlz180x450/",title:"Saupe DLZ180x450",section:"Mechanical Engineering",content:` Saupe DLZ180x450 # Nachdem ich mir vor einiger Zeit eine neue hübsche Drehmaschine angelacht habe, komme ich heute im Zug endlich mal dazu, diese hier in Ruhe vorzustellen.
Es handelt sich um eine DLZ180x450 aus dem Hause Saupe in der ehem. DDR, die unter verschiedensten Labels in den Handel kam; u.a. wurde diese Maschine beim Neckermann-Versand unter den Firmennamen Bullcraft sowie vom WMW-Konglomerat vertrieben. Weiterhin taucht der Name \u0026ldquo;Präzimat\u0026rdquo; (zur Abgrenzung von der \u0026ldquo;Hobbymat\u0026rdquo; SD300) auf\u0026hellip;
Ich hatte diesen Maschinentyp schon vor ein paar Jahren von einem befreundeten Dreher empfohlen bekommen, aber leider sind diese Maschinen sehr selten zu finden. Neulich wurden dann allerdings gleich zwei Stück gleichzeitig auf eBay angeboten (die andere Maschine ist ebenfalls in der Zerspanungsbude vorstellig geworden: Post #503000) und ich konnte nicht widerstehen; zumal die Maschine in München verkauft wurde und ich somit die Abholtour mit einem Besuch bei meiner Liebsten verbinden konnte ;-)
Nun ziert diese kompakte und präzise Maschine meine kleine Kellerwerkstatt und ich bin dabei, sie nach und nach wieder voll einsatzfähig zu machen. Ursprünglich wurde sie wohl von einem Modellbauer angeschafft, der auf ihr hauptsächlich Kunststoffteile angefertigt hat; daher fanden sich auch massig Kunststoffspäne im Wechselräderkasten und an all den weniger zugänglichen Stellen in der Maschine. Übernommen habe ich sie dann vom (vmtl.) Zweitbesitzer, der Fahrrad-Steckachsen auf ihr herstellen wollte und letztendlich doch nicht dazu kam.
Mit dabei waren der komplette Wechselrad-Satz, das originale Werkzeug-Set, die Bedienungsanleitung und ein paar Zubehörteile (Rollkörner, Bohrfutter, Drehstähle). Der Preis ist ja eh bei eBay einsehbar; ich habe am Ende 650€ für die Maschine gezahlt, was ich auch in Anbetracht der unten aufgeführten zu erledigenden Arbeiten als absoluten Glücksfall ansehe.
Hier noch schnell ein paar Übersichtsdaten der Maschine:
Kenngröße Kenndaten Spitzenhöhe über Bett 90mm Spitzenweite 450mm Spindelnase Kurzkegel 3 nach DIN55021 mit MK3 innen Spindeldurchlass 20mm Reitstockkonus MK2 Verfahrweg Planzug 90mm Verfahrweg Oberschlitten 95mm Pinolenhub Reitstock 60mm Spitzenhöhe über Oberschlitten 16mm Leitspindelsteigung 2mm Drehzahlen mit dem originalen Motor 63, 125, 250, 400, 800, 1600 Upm Motorleistung 0,55kW Gesamtgewicht 120kg Platzbedarf (LxBxH) 1060x580x330mm Diverse Eigenschaften dieser Maschine begeistern nachhaltig:
große, ebene Ablagefläche oben auf dem Spindelstock für z.B. Wechselhalter, Messschieber, \u0026hellip; echter Kurzkegel als Spindelnase automatischer Längs- und Planzug zwei gegeneinander angestelle Schrägkugellager vorne für die Hauptspindel Axialkugellager und Nadellager für radiale Lagerung des Leitspindelendes kugelgelagerte Planzugspindel Überlastkupplung im Zugspindel-Strang durchgehende T-Nuten im Planschlitten schrägverzahntes und im Ölbad laufendes Hauptgetriebe Schieberadgetriebe anstatt Wendeherz für Umkehr der Vorschubrichtung Hier mal ein Blick in den Spindelstock:
Leider gibt es auch ein paar Schattenseiten an dieser Maschine:
kombinierte Leit- und Zugspindel Sicherheitseinrichtungen (Not-Aus, Futterschutz, Wechselräder-Abdeckungs-Schalter) nicht funktionsfähig Schlosskasten voll mit verharztem Fett mit eingebetteten Spänchen \u0026ndash;\u0026gt; blockiert bei automatischem Vorschub Handgriffe an Bettschlitten-Handrad und Planzug abgebrochen sagenhaft billig aussehende Skalenringe an den Handrädern Vorschub am Bettschlitten-Handrad: 22,5mm pro Umdrehung (WTF???) Klemmung des Reitstocks per Mutter, nicht per Hebel Klemmung des Bettschlittens auf der Unterseite der hinteren Führungsleiste \u0026ndash;\u0026gt; blöd zu erreichen Einphasen-Wechselstrommotor mit Anlaufkondensator und Fliehkraftschalter \u0026ndash;\u0026gt; \u0026ldquo;unruhiger\u0026rdquo; Lauf, ballert beim Einschalten voll los Als erste Maßnahme wurde die Maschine vom gröbsten Dreck befreit und der Keilriemen erneuert. Ein XPZ-587 passt gut und läuft schön ruhig.
Zum Transport hatte ich den Bettschlitten abgenommen und kann daher ein Bild \u0026ldquo;unter den Rock\u0026rdquo; präsentieren:
Man erkennt vorn rechts die Klemmschraube für den Bettschlitten, oben links den Kupplungshebel für die Zugspindel-Funktion sowie oben rechts die Umschaltung zwischen Längs- und Planzug. Die Führungen sind in einem recht guten Zustand. Das Schabemuster ist auf der vorderen Prismenbettführung am Bettschlitten schon herunter, aber der Schlitten sitzt dennoch mit äußerst wenig Spiel auf dem Bett. Das führt dann auch dazu, dass das Auffädeln auf das Bett wüste Ausdrücke nach sich zieht, weil sich die Geschichte bei der kleinsten Fehlpositionierung heftig verklemmt und man daher sehr bedacht und umsichtig vorgehen muss.
Als nächste Amtshandlung hatte ich mir schon beim Kauf fest vorgenommen, einen Drehstrommotor mit FU zu verbauen. Es ist wieder ein Motor mit 1500Upm Nenndrehzahl und 0,55kW geworden. Als FU konnte ich einen Siemens MicroMaster 440 mit 0,75kW erstehen. Dankenswerterweise hat Saupe einen Motor mit Standard-Lochbild verbaut; leider hat die Achse des Original-Motors einen Durchmesser von 23mm und der neue Normmotor eine Achse von 19mm Durchmesser. Ich habe daher unter Verwendung des originalen Motors eine noch vorhandene Alu-Riemenscheibe auf 19mm ausgedreht und verwende diese, bis ich dazu komme, die alte (dreirillige) Riemenscheibe mit einer neuen Nabe zu versehen.
Eine weitere Eigenheit der Maschine ist das kleine Kästchen vorne links unter dem Spindelstock, das ein (oben OFFENENS) zweistufiges Getriebe für den Vorschub sowie den Hauptschalter und Not-Aus-Knopf beherbergt;
Dieses Kästchen ist nämlich von links an das Maschinenbett geschraubt:
Hier bin ich stark versucht, ein gescheites Vorschubgetriebe zu konstruieren, um die lästige Wechselrad-Wechselei loszuwerden.
Eine Robling 800 Stfl., die ich in einer früheren Werkstatt mal mein Eigen nennen durfte, hat mich mit folgender Tabelle in dieser Hinsicht nachhaltig versaut:
Hier tauchen die häufig benötigten metrischen Gewindesteigungen sowie sinnvoll gestufte Vorschübe allesamt in einem 3x6-stufigen Träumchen auf\u0026hellip;
Folgende Arbeiten habe ich mir für die nächsten Monate bisher vorgenommen:
Montage eines bekannten Wechselstahlhalters mit 40 Rastpositionen in Größe \u0026ldquo;A\u0026rdquo; Hierbei werde ich wahrscheinlich den Oberschlitten durch einen Klotz ersetzen müssen, da die Spitzenhöhe über dem Oberschlitten nur 16mm beträgt und mir damit zusammen mit der Dicke der unteren Wange der Stahlhalterkasette nur noch 8mm für Drehstähle bliebe. Bau eines Schaltschranks für den FU; Einbau eines Potis für die Geschwindigkeitseinstellung an der Maschine Nabe für das alte Riemenrad, damit ich mit dem neuen Motor wieder alle Riemenstufen zur Verfügung habe Momentan kann ich nur die langsamste Stufe des Riemengetriebes nutzen. Für hohe Spindeldrehzahlen müsste ich daher den Drehstrommotor unangenehm schnell drehen lassen. neue Handräder für Reitstock, Ober- und Bettschlitten sowie den Planzug mit vernünftigen Griffen (v.a. kein Plastik!) und schicken Skalenrädern Zerlegung des Schlosskastens, Reinigung, evtl. Reparatur (?) finale Anpassung einer bereits vorbereiteten Planscheibe an die KK3-Spindelnase Reitstockklemmung wie bei der µkrodreh vom Stefan (siehe Post #71479), evtl. sogar Umbau auf Zahnstangen-Pinole\u0026hellip; Bettschlitten-Klemmung von oben zugänglich machen Reitstockklemmung auf dem Bett per Handhebel Schmiernippel sowie Schmiernuten in Bett- und Planschlitten neue Filzabstreifer für die Bettschlittenführung anstatt der zierlichen Plastikteile Adaption einer Planscheibe # Weiter geht es hier mit der Adaption einer bereits vorbereiteten Planscheibe. Konkret musste nur noch der Kurzkegel fertiggedreht werden, da ich diese Planscheibe schon etliche Jahre herumliegen hatte und jetzt erst mit der DLZ180x450 die passende Maschine bekommen habe.
Hier sieht man schon mal eine Vorschau aufs Endergebnis:
Die rohe Ronde für die Planscheibe hatte ich mal vom Schrott gerettet und relativ schnell schon die Bohrungen und Gewinde eingebracht. Dann hab ich mich ein paar Jahre lang mehr dem Studium gewidmet und jetzt erst hin und wieder mal Zeit zum Basteln. Die Scheibe wurde auf einer anderen Maschine (Hallo Hartmut ;-) ) auf der Rückseite plangedreht und ein Ring von 100mm Außendurchmesser mittig aufgeschraubt. In diesem Ring, in den ich jetzt nur noch den kurzen Kegel drehen musste, wurden dann auch schon vorbereitend die drei M10-Gewinde für die Stehbolzen zur KK-Aufnahme eingebracht.
Ausgangssituation war also, dass ich eine Drehbank mit Dreibackenfutter hatte und die Planscheibe \u0026ldquo;rückwärts\u0026rdquo; spannen musste, um den KK zu drehen. Hier half ein Teil aus der Schrottkiste, das mal Halter für ein Dreibackenfutter auf einem Rundtisch war; eine Stahlronde mit einem mittig aufgeschraubten Alu-Knubbel:
Dieses Teil wurde dann mit einem Breitschlichtmeißel von Hand plangedreht (der Vorschub war noch nicht wieder funktionsfähig, s.u.):
Hier gibt es noch eine Detailansicht vom Drehstahl:
Die Oberfläche ist recht ok geworden, und mit einem 1/100mm-Puppitast konnte ich keine Unebenheit feststellen; das sollte ja aber sowieso so sein, wenn man die Einspannung nicht verändert. So konnte dann die Planscheibe gegen das im Futter befindliche Teil mittels zweier M8-Schrauben gespannt werden. Der Oberschlitten war vorher schon auf den Kegelwinkel des KK eingestellt.
Der Kurzkegel konnte jetzt gedreht werden. Problematisch ist dabei allerdings üblicherweise, den Kegeldurchmesser nicht zu groß geraten zu lassen, damit eine leichte Vorspannung entsteht, wenn man den Flansch auf die Spindelnase schraubt. Hierzu hat sich bei mir folgendes Verfahren etabliert, welches jetzt auch schon mehrfach reproduzierbar gute Ergebnisse geliefert hat.
Zunächst dreht man mit geklemmtem Bettschlitten den Kegel soweit vor, dass er etwa halb auf die Spindelnase passt. Hier reicht es normalerweise aus, den Durchmesser mit einem Messschieber zu bestimmen und mit dem Innendurchmesser im Drehteil zu vergleichen. Dabei wird der Planschlitten genullt, sodass man beim Zurückkurbeln des Oberschlittens freifahren kann und trotzdem den exakten Kegeldurchmesser wieder trifft. Durch den Bettschlittenanschlag und die Nullung des Planschlittens ist die Position des Oberschlittens eindeutig festgelegt und reproduzierbar, wenn man zwischendurch den Plan- oder Bettschlitten verfahren muss, um den Kegel an der Spindelnase anzuprobieren. Der Bettschlitten kann also jetzt zur Seite gefahren werden. Das Dreibackenfutter wird von der Spindelnase abgeschraubt; das Werkstück (in diesem Fall der Aufspannknubbel und die daranhängende Planscheibe) muss aber unter allen Umständen eingespannt bleiben und darf unter keinen Umständen durch zu unsanftes Absetzen in der Einspannung verrutschen. Der gerade vorgedrehte Kegel wird jetzt von Hand gegen die Spindelnase gehalten und sollte etwa halb (oder soweit man sich halt getraut hat, blind vorzuarbeiten) heraufrutschen. Mit Endmaßen, Fühlerblattlehren oder dem Messschieber wird jetzt der Abstand zwischen der Plananlagefläche der Spindelnase und der planen Fläche des zu drehenden Kegels gemessen. Um dieses Maß muss jetzt der Bettschlittenanschlag in Richtung Spindelstock versetzt werden (minus ca. 5/100mm). Hierzu wird jetzt erstmal das Futter samt Werkstück wieder montiert und dann mit angeschlagener Messuhr der Bettschlittenanschlag in Richtung Spindelstock versetzt. Der Planschlitten wird wieder auf die Nullposition gefahren (Umkehrspiel beachten!). Damit ist der Oberschlitten jetzt exakt wieder auf dem gleichen Durchmesser, allerdings um ein paar Millimeter (wie weit man halt den Bettschlittenanschlag verfahren hat) weiter beim Futter. Somit wandert auch der Innenkegel genauso weit in das Werkstück hinein. Wer mutig ist, hat den Bettschlittenanschlag auf die Endposition versetzt. Hierbei kann die Spantiefe so groß werden, dass der Innendrehstahl anfängt zu rattern. Da der Planschlitten jedoch bei der Endposition genullt ist, kann man für die ersten paar Schruppschnitte allerdings den Planschlitten problemlos zur Mitte hin verstellen, damit die Spantiefe abnimmt. Der Endschnitt muss aber in jedem Fall wieder mit dem Bettschlitten am (verschobenen) Bettschlittenanschlag und dem Planschlitten in der Nullposition erfolgen.
Der Innendrehstahl wurde zur Dämpfung der Schwingneigung mit einem Holzkeil gedämpft:
Wenn dann alles passt, lässt sich der gerade gedrehte Kegel fast ganz auf die Spindelnase aufsetzen und zieht sich beim Festschrauben soweit fest, dass er nur mit einem sanften Schlag des Handballens wieder abzubekommen ist:
Und wenn man sich die passende Drehbank zum bereits vorhandenen Planscheiben-Rohling anschafft, passt diese gerade noch über den Bettschlitten:
Zum Abschluss noch ein Bild vom Endprodukt. So lässt es sich arbeiten:
Der gemessene Planschlag liegt jetzt (zwischen dem äußeren Lochkreis und dem Außendurchmesser gemessen) bei ca. 1/100mm. Der Außendurchmesser wurde in dieser Aufspannung endgültig überdreht.
Reinigung des Schlosskastens # Beim Kauf der Maschine war leider der Vorschub nicht funktionsfähig. Konkret war der Scherstift der Leit-/Zugspindel abgeschert und irgendwas im Schlosskasten blockierte. Also ab auf den OP-Tisch mit dem Kandidaten:
Los geht es auf der Unterseite, wo ein Blechdeckel zunächst den Blick auf die Innereien verwehrt:
Sobald man diesen abnimmt, zeigt sich das Grauen in seiner ganzen Schönheit:
Kleiner Nebenschauplatz: die Bettschlittenführung hat vorn am Prisma bereits das Schabemuster größtenteils verloren; die hintere Seite sieht noch ganz ok aus:
Die Planschlittenmutter (M10x1 links) ist mit zwei M3-Senkkopfschrauben am Planschlitten befestigt und muss ab, damit man selbigen abnehmen kann und somit von oben an die Innereien des Schlosskastens herankommt:
Die Führung des Planschlittens ist ca 5/100mm am vorderen Ende eingelaufen. Mit dem Fingernagel ist der Absatz spürbar. Erstmal möchte ich allerdings mit der Maschine arbeiten und ein Gefühl dafür bekommen, was im aktuellen Zustand noch machbar ist.
Dann kann der Bettschlitten vom Schlosskasten abgeschraubt werden:
Auch hier sind Massen an altem Fett und Spänen zu finden:
Die abgeschraubten Teile kommen direkt zum Einweichen ins Petroleumbad:
Hier zeigt sich dann auch gleich der erste Grund für die Blockage des Getriebes. Eine der Zahnlücken war mit Spänen und Fett verklebt:
Also gleiches Spiel; Einweichen in Petroleum und Abbürsten des gröbsten Drecks:
Immer wieder tauchen Späne an den unmöglichsten Stellen auf:
Langsam ist Fortschritt erkennbar:
Und nach schier endloser Putzerei lässt sich das Innere dann wieder halbwegs vorzeigen. Der Kraftverlauf ist folgendermaßen: Unten links im Bild treibt die kombinierte Leit-/Zugspindel diese ganze Mimik an. Über das erste Räderpaar geht es an eine Überlastkupplung, die gleichzeitig dazu dient, den Vorschub manuell einzukuppeln. Von dort aus wird eine viergängige Schnecke versorgt, die permanent in das große Schneckenrad eingekuppelt ist.
Vom großen Schneckenrad geht es wahlweise über eine Klauenkupplung auf die Planspindel oder über ein verschobenes Zahnrad auf den Längszug mittels Antrieb des Handrades. Im Bild ist gerade der Planzug eingekuppelt:
Die Leitspindelmutter sieht auch noch ganz ok (bis auf zwei kleine Ausbrüche) aus:
Bzgl. Reinigungsbedarf ist der Schlosskasten damit abgeschlossen und es geht an den Bettschlitten:
Auch hier ist nach dem Einsatz von ein bisschen Petroleum und Scotch Brite Fortschritt zu verzeichnen:
Noch ein paar Kleinteile säubern und dann kann es auch schon wieder an den Zusammenbau gehen:
Die Zahnräder im Schlosskasten habe ich jetzt erstmal mit MoS2-Fett geschmiert:
Das Getriebe lässt sich jetzt wieder wunderbar von Hand durchdrehen und der Schlitten flutscht ganz wunderbar auf dem Bett hinterher. Als nächstes geht es an den Lagerbock der Leitspindel und die Reparatur des Anbindungsstücks der Leitspindel, in dem der Scherstift abgeschert ist. Leider hatte jemand den Scherstift mit einer Spannhülse \u0026ldquo;repariert\u0026rdquo; und diese hat im Inneren des Übergangs zur Leitspindel wunderbare Fressspuren hinterlassen.
Wird schon machbar sein\u0026hellip;
Wechselräder # Die Wechselräder der DLZ180x450 haben Modul 1 und eine Bohrung mit 20mm Durchmesser. Eine Passfedernut mit einer Breite von 4mm und einer Höhe (ggü der Bohrungswand) von 1.8mm.
Folgende Wechselräder waren bei mir dabei:
mit 8mm Zahnbreite und einer Nabenbreite von 10mm: 120 (M), 110 (M), 100 (P), 90 (M), 80 (M), 75 (P), 2 Stk. 70 (P), 65 (P), 2 Stk. 60 (P), 2 Stk. 50 (P), 45 (M), 40 (P)
mit 10mm Zahnbreite und einer Nabenbreite von 12.2mm: 32 (M), 30 (M)
Hierbei bedeutet (M), dass die Zahnräder aus Metall gefräst sind. (P) steht für Spritzguss aus irgendeinem Plastik.
Schaltschrank # Neulich hatte ich dann endlich Zeit, den FU in einen anständigen Schaltschrank einzubauen. Zunächst mal wurde sichergestellt, dass der Motor immer noch im Dreieck angeschlossen ist: Der verwendete FU ist ein Siemens Micromaster 440: Hier ist der dann zusammengeklöppelte Schaltschrank dann zu sehen: Einen Schaltplan gibt es auch noch: Ein Lüfter bläst unten rechts frische gefilterte Luft in den Schaltschrank. Diese kann nach oben links durch einen weiteren Filter entweichen, sodass dem FU hoffentlich nicht zu heiß wird: Weiterhin bietet es sich evtl. an, irgendwann einmal einen Bremswiderstand nachzurüsten. Genug Platz ist definitiv noch vorhanden und der Widerstand würde damit \u0026ldquo;optimal\u0026rdquo; im Luftzug sitzen.
Den Schaltschrank habe ich dann neben der Drehbank an die Wand geschraubt: Es ist schon schön, jetzt einfach nur den Hauptschalter drehen zu müssen und schon kann es losgehen :-)
`}),e.add({id:8,href:"/labathome.de/maschinenbau/kleine_drehbank/",title:"Small Tabletop Lathe",section:"Mechanical Engineering",content:` neue alte Drehmaschine erstanden (2021-04-03) # Ich hatte vor ein paar Tagen das grosse Glück, auf eBay meine erste eigene Drehmaschine zu ersteigern. Ich habe bisher nur auf fremden Maschinen in den Unternehmen, in denen ich Praktika gemacht habe, arbeiten können.
Zu den Einzelheiten der Maschine komme ich im Verlauf dieses Beitrags.
Hier ist erstmal ein Bild von der Maschine, wie sie bei eBay angeboten wurde:
Mit bei der Maschine war ein Motor mit 0,37kW der Firma Georgii-Kobold, der auf diesem Bild zu sehen ist:
Heute kam dann der Herr von der Spedition und brachte eine Palette mit der Maschine und dem Motor vorbei.
Dann musste die Palette über ein Paar Holzplanken die Kellertreppe herunter\u0026hellip; aber man ist ja noch jung :-)
Daraufhin wurde ein kurzer Testlauf gestartet, um den Zustand der Maschine einschätzen zu können.
Dabei konnte ich folgendes feststellen:
Die Spindellagerung ist soweit in Ordnung. Das Vorgelegegetriebe funktioniert. Der Kreuzsupport lässt sich einwandfrei bewegen. Der Reitstock ist stark exzentrisch (mehrere mm) eingestellt. Das Dreibackenfutter (135mm) läuft nicht rund. Der mitgelieferte Keilriemen passt nicht zu den Riemenscheiben im Spindelstock. Das Vorschubgetriebe inkl. Wendeherz funktioniert bis zum Getriebekasten. Die Zahnräder im Getriebekasten vorne am Spindelstock sind leider zum grossen Teil verschlissen. Leit- und Zugspindel lassen sich noch drehen. Auf der Zugspindel sitzt ein Anschlag, der, wenn der Support dagegenfährt, die Zugspindel automatisch auskuppelt (sehr praktisch :-). Im Schlosskasten fehlt das Zahnrad, das auf der Planspindel sitzen müsste um den automatischen Planzug auszuführen. Die Schlossmutter für die Leitspindel ist noch intakt und lässt sich leichtgängig ein- und ausklinken. Der Morsekegel im Reitstock müsste nachgerieben werden. Eine passende MK2-Reibahle ist aber vorhanden. Das Maschinenbett ist in einem guten Zustand und wurde schon vom Flugrost befreit. Ich denke mal, dass das eine Basis ist, von der aus man die Maschine restaurieren kann.
Hier kommen noch ein paar Detailaufnahmen.
Der Schlosskasten:
Der Hebel mit dem Knubbel schaltet zwischen (oben) Längs- , (unten) Planzug über Zugspindel und (mitte) Leitspindel um.
Der Spindelstock:
Die Wechselräder:
Mehr waren leider nicht dabei :-(
Alsdann ging es auch schon mit dem Auseinandernehmen los. Ich habe die einzelnen Schritte nicht sehr detailliert fotografiert, weil ich zu sehr mit dem Bewundern der Maschine beschäftigt war\u0026hellip; :-)
Das Maschinenbett (noch mit Spindelstock):
Der erste Schwung an Einzelteilen, u.a. Leit- und Zugspindel, Getriebekasten, Dreibackenfutter, Kreuzsupport, Reitstock, Wechselräder:
Der zweite Schwung an Einzelteilen: s.o. und Vorgelegegetriebe, Wendeherz, Abdeckung für Vorgelege:
Innenansicht des Schlosskastens:
Das hintere Zahnrad (mit der grossen Schlitzschraube) wird mit dem Knubbelhebel nach oben, mitte oder unten geschwenkt und treibt so entweder den Längs- oder Planzug an. Der Hebel an der linken Seite dient zum Schließen der Schlossmutter. Im Hintergrund (an der Wand) erkennt man die Einzelteile der Spindellagerung.
Zum Abschluss noch ein paar allgemeine Infos:
Kenngröße Kennwert Spitzenweite ~400mm Spitzenhöhe ~110mm Verfahrweg Support ~230mm Verfahrweg Planschlitten ~100mm Verfahrweg Oberschlitten ~75mm (sollte fürs Drehen eines MK2 ausreichen) Untersetzung durchs Vorgelegegetriebe 32/76 * 32/76 (also ungefähr 250 Upm bei 1400 Upm an der Riemenscheibe) Leitspindelsteigung ??? mm (Modul 2) automatischer Vorschub ??? mm/U (3*6 Stufen im Getriebekasten + Wechselräder) Spindeldurchlass ~20mm Pinolenhub vom Reitstock ~60mm Gesamtmaße der Maschine (BxHxT) ~ 900 x 400 x 400 mm Gesamtmasse der Maschine ~50kg (liess sich per Muskelkraft auf den Tisch heben\u0026hellip;) Ich habe leider keine Angaben zum Hersteller auf der Maschine gefunden. Sie scheint jedoch mal grau mit roter Grundierung lackiert gewesen zu sein, bevor ihr jemand dieses schreckliche grün antat. Grau (RAL 7031) soll sie auch wieder werden!
Ich habe eine Maschine mit dieser Ausstattung (Leit- und Zugspindel, Schaltgetriebe für Vorschübe, Vorgelegegetriebe, automatischer Längs- und Planzug, getrennte Führungen für Support und Reitstock, etc.) vorher noch nie in dieser Grösse gesehen. Das war auch der Grund, warum ich sie kurzentschlossen und unter Missachtung aller anderen anstehenden Projekte gekauft habe.
Ich werde hier, soweit ich dazu komme, die Restauration dokumentieren.
Für die Maschine habe ich etwa 400€ plus Versand bezahlt. Die Maschine stammt aus dem Schwarzwald und wurde per Spedition geliefert. Ich denke, das ist angemessen. Ich weiß, dass ich mir zu dem Preis eine Chinadrehe hätte anschaffen können. Ich wollte aber eine Maschine, die Charakter hat.
Die Führungen sehen noch nicht sehr abgenutzt aus, teilweise sieht man noch die Spuren vom Einschaben.
Die Spindellager machen auch einen guten bis sehr guten Eindruck. Man sieht zwar, dass die Maschine gelaufen ist, aber größere Riefen, wie etwa von Lagerfressern sind nicht zu sehen. Die Ölschwämme(?) unten in den Spindellagern waren auch noch gut mit Öl getränkt. Ich denke nicht, dass ich dort allzu viel zu machen haben werde.
Die Zahnräder im Schlosskasten haben Modul 1 mit gängigen Zähnezahlen; ich denke, dass ich die größtenteils ersetzen werde. Die Zahnräder im Getriebekasten muss ich nochmal ausmessen; ich tippe dort auf Modul 0.7 oder 0.5. Die sollte man also auch nachbekommen.
Spindelstock und Lackauswahl (2012-04-05) # Ich habe inzwischen geschafft, den oberen vom unteren Teil des Spindelstocks zu trennen und auch das Bett vom Spindelstock abzuschrauben.
Dabei fiel mir die interessante Lösung für die Ausrichtung des Spindelstocks auf:
Im oberen Teil des Spindelstocks steckt ein Zapfen, der auf Höhe der rechten Spindellagerung im unteren Teil des Spindelstocks sitzt. Auf Höhe des linken Spindellagers ist dagegen im unteren Teil des Spindelstocks eine Nut, in der eine Schraube sitzt, die durch einen Ansatz am oberen Teil des Spindelstocks geschraubt ist. Dadurch kann man durch Verdrehen der Schraube die Parallelität der Spindel und des Maschinenbettes sehr gezielt vornehmen.
Als nächstes geht es an das Entlacken. Der hellgrüne Lack lässt sich relativ gut mit einem Spachtel runterschaben; der daruntersitzende alte Lack (grau) lässt sich mit Aceton einfach herunterwaschen.
In der Zwischenzeit überlege ich mir schon mal die spätere Lackierung. Ich werde mich dabei wahrscheinlich an diesem Thread aus einem anderen Forum orientieren:
http://www.diy-community.de/showthread.php?24682-Restauration-einer-Weiler-LZ-280/page6
Die Farbe (RAL6011) gefällt mir besser als das ursprüngliche Grau (wahrscheinlich RAL7031).
Ich habe bis jetzt schon den Spindelstock und ein paar Kleinteile entlackt. Morgen kommt dann das Bett dran und dann werde ich schon die ersten Teile lackieren. Ich habe mir dazu eine Mischung aus ca. 4 Teilen Nitro-Verdünnung, 5 Teilen Aceton und 1 Teil Terpentin-Ersatzt angerührt. Das habe ich dann in ein altes Marmeladenglas gefüllt und die Teile dazugetan. Nach ein paar Stunden pellte sich der Lack wunderschön ab und ließ sich bis auf den letzten Rest mit einer Stahldrahtbürste abbürsten. Eine Atemschutzmaske ist dabei selbstverständlich.
Für die größeren Teile (Spindelstock, Support, Schlosskasten) habe ich die Giftmischung in einen innen lackierten Blumentopf gegossen und den dann mit einer Plastiktüte, die sich erstaunlicherweise nicht aufgelöst hat, abgedeckt. Offenbar reichten die Dämpfe schon aus, um den Lack anzulösen, denn auch oberhalb des \u0026ldquo;Giftspiegels\u0026rdquo; löste sich der Lack an.
Bei den größeren Flächen habe ich dann mit der Handdrahtbürste die Lackreste abgeputzt, in den Ecken hat mir mein Dremel mit runder Stahldrahtbürste sehr geholfen.
Eben sah ich das folgende Bild auf eBay:
Auch bei meiner Maschine ist das vordere Prisma, auf dem der Supportschlitten läuft, nach vorn flacher als nach hinten. Auch bei meiner Maschine ist die innere Führung (für den Reitstock) \u0026ldquo;normal\u0026rdquo;, also der prismatische Teil symmetrisch. Kennt jemand noch andere Maschinen, bei denen die Führung asymmetrisch ist, ausser welchen von Weiler? Ich weiß, dass das noch kein Beweis ist, dass meine Maschine eine Weiler ist, aber zumindest ein Ansatz.
Ich habe inzwischen entdeckt, dass diese Bauart wohl bei Maschinen dieses Alters üblich war, und zwar aus folgendem Grund: Da die Betten noch ungehärtet waren, sollte die Fläche, die die meiste Presskraft durch den Schnittdruck aushalten musste (und mit automatischem Vorschub auch noch unter dieser Last verfahren werden sollte) möglichst groß sein. Deshalb hat man das Prisma geneigt. Scheint also eher normal zu sein\u0026hellip;
Das Bett und die Masse der Kleineteile ist inzwischen zum Lackieren vorbereitet.
Vorbereitungen zum Lackieren (2012-04-14) # Nachdem ich nun lange Zeit mit dem Entlacken beschäftigt war, gibt es heute mal weider ein paar Bilder vom Projekt Drehmaschine.
Hier sieht man die Teile, die demnächst lackiert werden sollen. Ich habe sie schon mal abgeklebt und in den Heizungskeller gelegt, damit sie sich ein bisschen aufwärmen (in der Werkstatt ist es kalt genug).
Ich habe mich doch nochmal zurückentschieden zu 2K-EP-Lack von Mipa. Also wird die Maschine mit RAL6011 lackiert.
Des weiteren habe ich mir mal das Dreibackenfutter vorgenommen. Innen fanden sich einige Späne an und eingeölt werden musste es auch mal wieder.
Ansonsten habe ich mir noch die zahlreichen Kleinteile vorgenommen und sortiert, tw. schon entrostet und wieder neu eingeölt.
Lackieren (2012-04-17) # Mit Mipa EP Grundierfiller:
Die Maschinensäule in diesem Bild gehört zu meinem ersten großen Maschinenbauprojekt, einer kleinen Fräsmaschine:
Das Ganze in grün (Mipa EP Decklack halbglanz RAL6011):
Kippeliger Bettschlitten (2012-04-30) # Ich habe die Maschine inzwischen wieder so weit zusammengebaut, dass man schon wieder erste Späne machen kann. Im Vorschubgetriebe müssen noch ein paar Zahnräder erneuert werden; ich hoffe, dass ich das schon mit dieser Maschine \u0026ldquo;von Hand\u0026rdquo; machen kann.
Allerdings sind nun auch ein paar Probleme deutlich geworden:
1.) Der Support hat merkliches Spiel auf dem Maschinenbett:
Hier ist der Support in rot gezeichnet und die Gleitleiste (?) in grün. Meine Idee wäre, ein paar Zehntel vom Support unten abzufräsen. Dann könnte man mit Unterlagfolien zwischen Leiste und Support das Spiel sehr genau einstellen.
2.) Die Spindellagerung lässt sich einstellen. Wenn ich die Lagerung so einstelle, dass die Spindel vom Motor (0,37kW) noch angetrieben werden kann, hat sie mehr als 3/10 Spiel.
Wenn ich die Lagerung so einstelle, dass ich weniger als 1/10 Spiel habe, schafft der Motor es nicht mehr, die Spindel zu drehen. Das Lagerspiel habe ich dabei gemessen, indem ich eine Stahlstange ins Futter gespannt habe, mit der Messuhr dagegen gefahren bin und dann am Ende der Stange gedrückt habe. Natürlich beigt sich dabei auch die Stange, aber es ist deutlich zu sehen und zu spüren, dass die Spindel im Lager wackelt. Während das Spiel in x-Richtung (vorn-hinten) sich auf ein paar 100stel einstellen lässt, klappert die Spindel beim Wackeln von Hand in y-Richtung(oben-unten). Gemessen habe ich hier ein Spiel von ~12/100.
Dabei ist mir dann auch Problem 3.) aufgefallen: Das Futter spannt nur noch im hinteren Teil; vorn sind zwischen Werkstück und Backe bis zu 2/10 Luft. Das sollte allerdings durch Ausschleifen zu beheben sein.
Zusammenbau (2012-05-24) # Im Moment tritt das Projekt ein bisschen auf der Stelle, weil ich es einfach nicht hinbekomme, die Spindellagerung vernünftig einzustellen. Entweder sitzt sie so lose dass bei niedrigen Drehzahlen ein zu großes Spiel auftritt und die Maschine schon bei 1/10 Spanabnahme rattert wie verrückt, oder ich stelle es zu fest und die Spindel sitzt beim Abschalten des Motors fest. Schwieriges Unterfangen\u0026hellip;
Na ja, hier noch ein paar Bilder vom aktuellen Zustand:
Ich habe beim Drehen der Spindel das Gefühl, dass sie krumm sein müssten, weil sie in einem Bereich merklich schleift und sonst leicht läuft. Ich vermute, dass das vordere Lager u.a. deshalb dermassen ausgenudelt war. Sollte ich jetzt eine neue Spindel drehen? Material- und Maschinenmäßig wäre das kein Problem, aber vielleicht habt ihr ja andere Ideen\u0026hellip;
Der Bettschlitten läuft jetzt (nach dem Abfräsen) übrigens butterweich und dank einer Unterlegorgie mit Alufolie-Streifen auch ziemlich spielfrei. Leider klemmt er im vorderen Bereich (wo im Moment das Futter drüber sitzt. Beim Arbeiten mit Spannzangen könnte das ein Problem werden. Im Moment ist aber erstmal die Spindellagerung wichtiger.
Ich habe den Motor neu gelagert mit SKF-Lagern 6002-ZZ. Die alten Lager waren offen und mit einer Metallstaub-Fett-Drecksschicht dermaßen zugekrustet, dass der Motor im Betrieb sich sehr unschön anhörte. Jetzt mit den neuen Lagern und mit FU schnurrt der wie ein (großes) Kätzchen :-)
Da sich die alten Bronzelager auch nach dem Ausdrehen nicht spielfrei (\u0026lt;1/10mm) einstellen liessen, habe ich jetzt beschlossen, Kegelrollenlager einzubauen, und zwar 32006 (30x55x17) als vorderes und 30205 (25x52x16.25) als hinteres Spindellager.
Des weiteren will ich die Keilriemenscheibe, die beim Betrieb mit Vorgelege vorher auf der Haputspindel lief jetzt mit Nadellagern vom Typ HK3016 (30x37x16) auf der Spindel lagern.
Ich habe mich hauptsächlich für den Umbau entschieden, weil beim Direktteilen auf der Drehbank ein Gleitlager prinzipiell nicht geeignet ist, da es nur bei ausreichender Drehzahl spielfrei durch den Ölfilm ist.
Die axiale Lagerung der alten Spindel besteht in einer Reiblagerung von dem Bund an der Spindelnase auf der nebenliegenden Lagereinstellmutter (komisches Wort \u0026hellip;). Das umzubauen, und dabei die Gleitlager zu erhalten ist mir zu kompliziert. Dann lieber richtig.
Motorhalter (2012-06-21) # Leider gibt der Motor keinen genaueren Aufschluss darüber, wo die Maschine herkommen könnte, da er nicht der Originalmotor ist. Der mitgelieferte Riemen und die Riemenscheibe auf dem Motor passen zwar zusammen, aber nicht zur Drehmaschine. Ausserdem war der Motor bei Lieferung auf ein Holzgestell geschraubt, das ganz sicher nicht zum Originalzustand dazugehört.
Um eben dieses Holzgestell entsorgen zu können, habe ich heute auch weitergebaut: ein neuer Motorhalter ist es geworden.
Es beginnt alles ganz einfach mit einer alten Platte, die ich mal aus irgendeiner Maschine vom Schrott ausgebaut habe:
Die wird noch schell parallel gefräst, damit ich sie flach in den Schraubstock spannen kann, um den Zwischenraum der \u0026ldquo;Lager\u0026quot;klötze auch parallel auszufräsen.
Gesagt, getan und es geht weiter mit dem Rohmaterial für den Halter, der an die Maschine geschraubt wird.
Erstmal ein bisschen Rohmaterial ablängen und planen:
Dann abstechen:
Ein bisschen planfräsen:
Und mit zwei Stahlstücken zusammenschweissen:
Ich habe dann noch 4 8.5mm-Löcher in die Ecken der Grundplatte zur Befestigung gebohrt und in die Hülse oben zwei M5-Gewinde geschnitten, um die unten zu sehende Stange festzusetzen.
Ohne Bilder entstand dann noch eine kleine Hülse, die ebenfalls mittels einer Querbohrung M5 auf der Stange festgesetzt werden kann und genau in den geradegefrästen Bereich zwischen den Lagerklötzen an der Motorplatte passt.
Zusammengebaut sieht das dann an der Maschine so aus:
Gespannt wird der Riemen im Moment noch durch das Gewicht des Motors; wenn ich wieder weiterbaue wird das aber noch geändert. Ich dachte dabei an folgendes: Zwischen dem Loch, das in der Motorplatte oben drin ist, und einer Lasche, die ich am Spindelstock festschraube, setze ich eine Spannschraube; diese Spannschraube hat als Kopf eine Kugel, die im Loch am Motorhalter sitzt und das Gewinde geht durch ein Loch in der Lasche, an der sich die Schraube mit einer Mutter (evt. mit Gummiunterlegscheibe zur Dämpfung) abstützt. Wenn das unklar ist, kann ich gerne eine Zeichnung machen.
Spindellager-Umbau (2012-08-13) # Heute bin ich endlich dazu gekommen, die neuen Lagersitze in den Spindelstock einzubringen. Wie ich oben geschrieben hatte, verwende ich folgende Lager: 32006 als vorderes Lager und 30205 als hinteres Lager.
Leider ist die neue Spindel noch nicht fertig, also erstmal ein paar Bilder vom Spindelstock mit den Lagersitzen:
Kleine Anmerkung noch zur Fertigung: Der Spindelstock wurde dazu auf einer großen Drehbank auf die Planscheibe gespannt und dort ausgedreht. Als ich ihn grad aufgespannt hatte, hab ich auch die Stirnseiten des Spindelstocks plangedreht, deshalb ist da die Farbe wieder runter.
Die neue Spindel soll als Spindelnase einen Kurzkegel 3 bekommen und innen einen MK3 für alles mögliche andere. Bei einem hinteren Lagersitzdurchmesser von 25mm müsste ein Spindeldurchlass von 18mm gerade noch drin sein.
Dann soll noch eine Indexvorrichtung mit wechselbaren Indexscheiben angebaut werden, über deren Konstruktion ich mir aber noch nicht ganz im klaren bin. Der einzige Ort wo man meiner Meinung nach so etwas sinnvoll an dieser Maschine anbringen kann ist aussen neben dem hinteren Spindellager.
Ich hatte dann noch eine bebilderte Mail an Tony von lathes.co.uk geschickt, aber bis heute noch keine Antwort bekommen. Falls jemand noch Hinweise oder Ideen zur Herkunft dieser Maschine hat, wäre ich dafür sehr dankbar.
Erste Drehversuche (2012-09-13) # Gestern hatte ich Gelegenheit, die alte Spindel mal ein bisschen zu misshandeln, damit sie in die neuen Lager passt:
Tja, was soll ich sagen: Ich bin maßlos begeistert von den neuen Lagern: Spanbreite von 8mm bei Alu, Einstechen am Umfang: kein Rattern Spanabnahme 1mm bei St37, \u0026ldquo;Schruppen\u0026rdquo; am Umfang längs: kein Rattern Bronze schruppen, schlichten am Umfang: kein Problem, spiegelglatte Oberfläche.
Hier mal ein Bild von einer geschlichteten Stahloberfläche:
Mit den alten Langern war das mMn definitiv nicht drin.
Späne kann man mit der Maschine also machen:
Da ich nun in der Lage bin, daheim Stahl zu drehen, kann ich endlich (!!!) die benötigten Kleinteile machen, die das Vorschubgetriebe so dringend für den Zusammenbau braucht. In der Werkstatt, in der ich den Klopp restauriert habe, war da irgendwie nie Zeit zu\u0026hellip;
Hihihi, ich freu\u0026rsquo; mich !!!
Umzug (2012-11-16) # Da ich vor ein paar Wochen umziehen musste, ist meine \u0026ldquo;Kleine\u0026rdquo; nun in meine Ursprungswerkstatt im elterlichen Keller gewandert, sodass es erst über Weihnachten, wenn ich da bin, weitergehen wird.
Vor dem Umzug hatte ich allerdings noch ein paar Sachen gemacht: Mit einer Messuhr am Support war es möglich, eine präzise Passung auf einer Hülse aus dem Vorschubgetriebe zu drehen. Dort habe ich dann ein passend ausgedrehtes Zahnrad aufgepresst und das Vorschubgetriebe wieder zusammengebaut. Leider passte das Modul 0.75 des neuen Zahnrades nicht richtig zu den vorhandenen Zahnrädern im Nortongetriebe, sodass der Vorschub leider noch nicht funktioniert\u0026hellip;
Mein Plan ist jetzt, ein neues Vorschubgetriebe zu entwerfen und zu bauen, das auch nicht so klapprig und unpräzise zu schalten sein soll wie das jetzige; selbst, wenn die Zahnräder passen würden, hätte die Ratsche so viel Spiel, dass die Zahnräder überspringen könnten :-(
Ausserdem wird es nötig sein, eine neue Hauptspindel zu drehen, weil die jetzige keine Zentrierpassung am Ende des Gewindes hat und daher das Futter locker mal 0.5 \u0026hellip; 1 mm exzentrisch draufsitzt.
Allerdings ist es zuletzt mit den neuen Spindellagern möglich gewesen, ratterfrei echt nette Oberflächen zu drehen :-D
Benutzung (2013-11-06) # Die Fotos sind schon etwas älter, hier sind mal ein paar aktuellere:
Es ist jetzt ein 100er Röhm-Futter montiert, das ich in der Zwischenzeit bekommen habe. Da die Spindel eh neu soll, hab ich am alten Flansch \u0026ldquo;nur mal schnell\u0026rdquo; den Zentrierbund kleiner gedreht und den jetzt nicht aufwendig überarbeitet.
Ein neuer Spindelstock ist in Planung. Ich lasse einfach mal das CAD sprechen:
Verschiedene Neuerungen:
Hauptspindellagerung durch X-angeordnete Kegelrollenlager als Festlager, Loslager mit RiKuLa kein Wendeherz, sondern Schieberadgetriebe mit Keilwelle Ölsumpfschmierung, auch für Lager Teileinrichtung durch 60Z-Zahnrad auf Hauptspindel (eig für Vorschub) mit Rastbolzen KK3 als Spindelnase MK3 Innenkegel für weitere Vorrichtungen/Werkzeug Kastenform \u0026ndash;\u0026gt; mit Seitenwänden nimmt der Spindelstock die Bearbeitungskräfte besser auf als wenn der als U gegossen ist (nur der vordere Schenkel leitet die Kraft ab; ausserdem biegt die Lagervorspannung die Schenkel zusammen \u0026ndash;\u0026gt; Lager werden winklig belastet \u0026ndash;\u0026gt; (schneller) kaputt) neue Spindel gehärtet und geschliffen \u0026ndash;\u0026gt; bisschen präziser und verschleißfester (Futterwechsel etc) usw. Wer Interesse an den Zeichnungen (Inventor 2009) hat:
Spindelstock_2013-10-25.zip
die Spindeln haben Trapezgewinde, Planzug links, Oberschlitten rechts. Die werde ich erstmal nicht auswechseln, weil ich dann den ganzen Schlosskasten gleich mit machen wollen würde. Sind auch noch halbwegs ok; wenns genau sein muss, papp ich halt ne Messuhr an den Schlitten.
Da das Wechselradgetriebe ja eine neue Übersetzung von der Hauptspindel bekommt, muss ich mir auch das Vorschubgetriebe neu ausdenken (ist sowieso defekt), um da vernünftige Vorschübe und Gewindesteigungen rauszubekommen. Dabei mache ich dann gleich noch den Schlosskasten, weil die Rastung des Plan- und Längszuges mir absolut nicht gefällt (man klemmt sich sehr leicht die Finger). Mit den neuen Spindeln kann ich dann gleich die Übersetzungen ordentlich berechnen. Als Skalenringe schweben mir welche a la Schaublin vor, richtig schön groß und matt verchromt\u0026hellip;
\u0026ldquo;Kommt noch\u0026hellip;\u0026rdquo;
Oberschlitten: Einschaben und neu lagern (2014-04-08) # Nachdem ich gestern die letzte Mathe-Prüfung im Studium erfolgreich hinter mich gebracht habe, hab ich mir heute mal wieder ein paar Schabestunden gegönnt.
Ich hab mir zum Ziel gesetzt, den Oberschlitten meiner kleinen Drehbank zu überarbeiten. Hier nochmal ein Bild vom Ausgangszustand:
Beim Zerlegen sind mir zwei Stifte wieder eingefallen, mit denen der Lagerbock gehalten wird und die inzwischen unter dem Lack versteckt waren:
Mit der kleinen Tischbohrmaschine hab ich die dann ausgebohrt:
Dann ließ sich der Oberschlitten vollständig zerlegen:
Die planen Flächen mal tuschiert, da besteht auf jeden Fall Handlungsbedarf:
Grund für die Aktion war ein Versuch, einen Kegel mit dem Oberschlitten zu drehen. Die dabei entstehende rillige Oberfläche und die Schwergängigkeit der Kurbel haben mich dann überzeugt, dass da was passieren muss.
Zuerst das Unterteil: Da habe ich mir ein paar Holzleisten auf den Schreibtisch gespannt, die das Werkstück halbwegs sicher fixieren und dann losgelegt.
Kleiner Zeitsprung:
So hab ichs dann erstmal gelassen:
Dann die Unterseite des Oberteils:
Dann hab ich die Menge der Tuschierfarbe auf der Platte mal drastisch reduziert:
Der Plan ist dann mit dieser Oberfläche die zur Unterseite parallelen Flächen des Unterteils zu tuschieren und zusammen mit einem kleinen Prisma dann einzuschaben. Dann die schrägen Flächen des Unterteils, parallel zueinander, dann die Schrägen des Oberteils.
Ich überlege, ob ich in das Oberteil eine Keiileiste einbauen sollte. So groß ist der Oberschlitten ja nicht (Gesamtlänge 140mm, Breite 60mm) und das wäre eine interessante Aufgabe für die Stoßmaschine ;-)
Wenn der Schlitten dann eingeschabt ist, will ich noch einen radialkugel- und axialnadelgelagerten Lagerbock anfertigen, der mir auch noch ein paar 10mm mehr Verfahrweg verschaffen soll. Einen MK2 will ich auf jeden Fall mit dieser Maschinen drehen können, dafür braucht man ja ungefähr 80mm Hub\u0026hellip;
Als Tuschierpaste benutze ich die Standardfarbe von Diamant, die man beim örtlichen Werkzeughändler bekommt. Über mein Schabewerkzeug hatte ich hier schonmal was geschrieben: Thread #9160
Die Parallelität und Winklichkeit werde ich mit Messstativ, Zylinderstiften und Messuhr und -schraube ausmessen.
Die Unterseite werde ich nochmal ein bisschen nacharbeiten. Beim Tuschieren der Unterseite des Oberteils habe ich für das Foto etwas mehr Farbe aufgetragen, das ist wirklich schlecht zu fotografieren ;-) Bzgl. Schmierung wollte ich mir noch Schmiernuten in die Führungen fräsen, zusammen mit Trichterschmiernippeln an den Seiten sollte das dann eine sichere Ölversorgung ergeben\u0026hellip;
Heute (2014-04-10) habe ich mal die Freistiche für die nächste zu schabende Fläche hergestellt:
Eine weitere Sache fällt auf diesem Bild auf: das Spindelmuttergewinde ist direkt in das Unterteil geschnitten. Nun ist weder das Muttergewinde noch die Spindel so ausgelatscht, dass sie ausgetauscht werden müssten, aber irgendwie hätte ich schon ein besseres Gefühl, wenn die Mutter aus Bronze wäre. Insbesondere, da ich eigentlich gern 2mm pro Umdrehung hätte und nicht 3mm. Das momentane Gewinde der Spindel ist Tr 12x3, ich tendiere zu einem Umbau auf Tr 12x2, zusammen mit einem schönen Skalenring von Ganter mit 0,02mm-Teilung.
Heute (2014-04-23) noch kein Schabe-rnack sondern ein bisschen Hobelei. Nach der Anregung von Christoph habe ich die Freistiche nochmal überarbeitet. Ausserdem stellte ich fest, dass ich selbst mit meiner dünnsten Schaberklinge nicht in die Sägeschlitze kam.
Also das Unterteil im Klopp eingespannt und ausgerichtet:
Eingespannt ist im Sparstahlhalter ein selbstgeschliffener Nutenstechstahl, Nutenbreite etwa 2mm:
Der Stößelschlitten ist dabei nach Skala auf 30° schräg eingestellt, um genau in die Ecke zuzustellen.
Dann habe ich das Oberteil schon fürs Schaben der Stahlhalterauflagefläche vorbereitet. Der Stoßstahl ist hier ein riesiger HSS-Rohling, den mir mal jemand mitgebracht hat. Angeschliffen ist er mit einem Radius von etwa 10mm, 0° Spanwinkel, etwa 20° Freiwinkel. Das ergibt ziemlich gute Oberflächen in Guss.
Fleisch ist genug vorhanden, und die vorhandenen Macken und Einstiche wären beim Schaben mehr als lästig. Insgesamt ist jetzt 1mm runter, in Schritten 0.3 - 0.4 - 0.3 mm. Ich war erstaunt, wie tief die Macken von der Einstellschraube der Spannklaue dann doch waren.
Dann gings noch ans Vorhobeln eines passenden Tuschierlineals. Ich hatte aus den Resten für mein 450er-Lineal noch ein kleines mit ca. 230mm Länge gemacht und auch schon eingeschabt, aber der Winkel passte nicht zu diesem Oberschlitten. Bevor ich da mit dem Verkippen des Lineals anfange (was ja scheinbar einige erfolgreich machen\u0026hellip;) wollte ich lieber erstmal eins mit dem exakten Winkel haben. Diesen habe ich vom Unterteil mit dem Puppitaster abgenommen und den Schlitten am Stößel danach ausgerichtet.
Den Winkel habe ich beim Einrichten des Klopp mit dem Puppitaster vom Unterteil des Oberschlittens abgenommen und danach gestoßen. Natürlich gibt es dabei winzige Abweichungen, die man beim ersten Tuschieren sicher auch sehen wird. Aber es geht mit primär darum, eine ebene Fläche zu schaffen; die Winkel ändern sich dann minimal auf den den Lineals. Daher sollte das Lineal schon möglichst genau nach dem vorhandenen Winkel hergestellt werden, aber der Winkel, der nachher beim Schaben entsteht, richtet sich dann halt nach dem Lineal. Die Maßabweichungen, die sich dadurch ergeben, bewegen sich aber meinem Gefühl nach eher im 1/100mm-Bereich und können daher vernachlässigt werden, da der Schlitten sich ja später über die Einstellleiste spielfrei einstellen lässt.
Jetzt haben die zu schabenden Flächen alle schöne Freistiche:
Beim Oberteil habe ich dann noch die Farbe abgezopft und die Stahlhalterauflagefläche einmal grob übergeschabt:
Zusammen mit dem Lineal warten jetzt die Teile darauf, dass ich Lust auf blau-graue Finger habe:
Zunächst geht es um das Tuschierlineal. Das habe ich nach dem Stoßen auf den neuen Winkel mal tuschiert:
Dann mit viel Tuschierpaste auf der Platte und Biax-Unterstützung grob vorgeschabt, um die Spuren vom Stoßen wegzukriegen:
Dann habe ich nach und nach die Farbmenge auf der Platte verringert. Dadurch ändert sich das Tragbild natürlich ziemlich drastisch, insbesondere wird es immer schlechter zu erkennen:
Ich hab nach dem Schaben die Oberfläche immer mit einem Arkansas-Stein mit dünnem Öl zusammen abgezogen, um die Grate u.ä. vom Schaben abzutragen bevor es auf die Tuschierplatte geht. Dadurch blieb, wie ich dann feststellte, immer ein grau-blauer Schleier auf der Oberfläche zurück, denn ich wischte nur mit einem Tuch ab. Einen Unterschied, der mich spontan vom Hocker gehauen hat, habe ich dann erzielt, indem ich die Oberfläche vor jedem Tuschiervorgang mit Aceton abgewischt habe, bis am Tuch nichts mehr zu sehen war und auch keine Schleier mehr auf der Oberfläche waren. Auf einmal trat selbst bei fast keinem Farbauftrag auf der Platte das Tragbild mit winzigen Punkten sehr deutlich wieder hervor:
Das habe ich dann noch ein bisschen verfeinert:
Aus Spaß mal die Punkte pro Quadratzoll gezählt, sollte hinkommen:
Die Unterseite hat sich fast nicht verzogen bei der Bearbeitung, daher nur ein paar Punkte nachgeschabt:
Jetzt geht es weiter mit dem Unterteil des Oberschlittens:
Dann auch wieder mit maschineller Unterstützung durch den Biax langsam den Mittelstreifen abgetragen:
So langsam wirds besser:
Jetzt beginne ich mit dem Verfeinern des Tragbildes:
Nach und nach weniger Tuschierfarbe:
Ich denke mal, so sollte das jetzt passen.
Weiter im Text (2014-05-01).
Zu Beginn hab ich nochmal die Unterseite des Unterteils kontrolliert, ob sich da auch nix weiter verzogen hat:
Dann ging es zum zweiten Mal an die Unterseite des Oberteils, die sich beim Freistiche stoßen auch verzogen hatte:
Das wurde mir dann zu wenig Farbe bzw. ein zu dünn gesähtes Tragbild, also hab ich nochmal kräftig Tuschierpaste auf der Platte verteilt:
Ab jetzt ungefähr habe ich vor jedem Tuschieren die Flächen mit Aceton soweit saubergewischt, dass kein Schleier mehr blieb. Ansonsten konnte ich mit der Farbe von Diamant zwar noch die Punkte sehen, aber nicht mehr zielgerichtet danach schaben (klingt komisch, kennen vllt. manch Andere hier auch - der Kontrast wird einfach zu schlecht\u0026hellip;).
So hab ichs jetzt erstmal gelassen: fein genug geschabt? Mit der Fläche habe ich dann \u0026ldquo;mal kurz\u0026rdquo; die nächsten Flächen tuschiert, die dran sind: es handelt sich dabei um die horizontalen Flächen des Schwalbenschwanzes am Unterteil:
Ich habe dabei drarauf geachtet, dass der Meister positioniert wird, ohne dass die Flächen, die tuschiert werden sollen, an die Farbe kommen und dann den Meister nur soweit verschoben, dass er jeweils voll auflag. Falls das Tragbild dann korrekt ist, ist hier also auch noch was zu tun :-)
Ich bin ehrlich erstaunt, wie viel sich mit dem krummen Teil noch machen ließ. Wenn ich mir die Tragbilder jetzt so ansehe\u0026hellip; Na ja, wird jetzt ja besser ;-)
Bis jetzt waren auch nur Flächen dran, die einfach plangeschabt werden mussten. Die nächsten Flächen müssen jetzt zum ersten Mal noch weitere Bedingungen erfüllen:
plan parallel zur Unterseite des Unterteils kein Streifen durch ungenügendes Tuschieren in dem Winkel, in dem später die Einstellleiste sitzt Viel zu tun, aber die (halbwegs) fertigen Oberflächen sehen schon so toll aus, das motiviert wieder.
`}),e.add({id:9,href:"/labathome.de/maschinenbau/gys_protig/",title:"GYS PROTIG 201 AC/DC",section:"Mechanical Engineering",content:` GYS PROTIG 201 AC/DC # Kürzlich ist bei mir ein GYS PROTIG 201 AC/DC eingezogen:
Ich spielte schon länger mit dem Gedanken, mir ein WIG-Schweißgerät für Schweißarbeiten an Vakuumanlagenteilen, für den Haus- und Hofgebrauch und weil\u0026rsquo;s lustig ist, mit flüssigem Metall herumzuklecksen, zuzulegen. Neulich kam dann einer meiner Mitbewohner auf mich zu, der für ein Kunstprojekt ebenfalls ein WIG-Schweißgerät brauchte. Der Entschluss war schnell gefasst, aber die nächste Frage lautete dann natürlich, welches Gerät kaufen?
Modellauswahl # Ich hatte vor längerer Zeit schon mal das Welbach AMPERO 225 ins Auge gefasst, weil es im Vergleich zu den üblichen Billiggeräten marginal besser verarbeitet zu sein schien. Es stellte sich leider heraus, dass es dieses Gerät scheinbar nirgendwo mehr zu kaufen gibt. Bei der Suche nach einer Alternative, während derer mir auch etliche Billiggeräte über den Bildschirm flimmerten, reifte mehr und mehr die Entscheidung, dass es in diesem Fall sinnvoll wäre, doch etwas mehr Geld als geplant auszugeben. Die Verarbeitungsqualität der billigeren Alternativen, insbesondere die der Stecker für Brennertaster und/oder Fußpedal, schreckte mich mehr und mehr ab.
Fündig wurde ich schließlich bei der französichen Firma GYS. Ich bestellte das TIG 200 AC/DC HF über den Online-Shop https://www.ach-shop.com und bekam (nach einer Woche und ein paar Telefonaten) das PROTIG 201 AC/DC geliefert. Scheinbar war das \u0026ldquo;TIG 200 AC/DC HF FV\u0026rdquo; zum Zeitpunkt der Bestellung bereits ein Auslaufmodell, bloß der Online-Shop über den ich bestellte, hatte es noch nicht aus dem Programm genommen. Anyway, das \u0026ldquo;PROTIG 201 AC/DC\u0026rdquo; ist das designierte Nachfolgemodell und wer würde sich dagegenstellen, zum gleichen Preis ein moderneres Gerät zu erhalten\u0026hellip;? Kurz noch zur Übersicht und Einordnung die wichtigsten Daten aus der Bedienungsanleitung:
unterstützte Schweißverfahren: Elektrode-Hand (MMA), WIG DC, WIG DC Pulse, WIG AC, uvm. Strom WIG AC: 200A (13%), 90A (60%), 80A (100%) Strom WIG DC: 160A (23%), 110A (60%), 90A (100%) Strom MMA: 160A (22%), 110A (60%), 95A (100%) Die %-Zahlen in Klammern sind die jeweilige Einschaltdauer. Netzanschluss: 2.5m 1.5mm² mit Schuko-Stecker aktive PFC, Betrieb von 85 bis 265V Netzspannung \u0026ldquo;Lüfter: beim E-Hand (MMA)-Schweissen läuft der Lüfter in Dauerbetrieb. Im WIG-Modus ist der Lüfter nur in den Schweissphasen in Betrieb und schaltet sich ab nach der Abkühlung.\u0026rdquo; HF- oder Lift-Zündung für WIG Pinbelegung des Brennertasters und des Fußpedals sind im Handbuch abgedruckt Unboxing # Letzte Woche war es dann soweit und GLS brachte ein paar große Pakete vorbei:
Beim Außpacken dann die große Ernüchterung: Da ist ja nur Papier drin!
Zwischen all dem Stopfmaterial (lies: GYS hat die bestellten Sachen ordentlich verpackt) fand sich dann doch noch ein Schweißgerät samt Zubehör:
Das Frontpanel besteht aus einer Folientastatur und zwei Inkrementalgebern. Zwischen den beiden Dinse-35 Buchsen (links \u0026ldquo;+\u0026rdquo;, rechts \u0026ldquo;-\u0026rdquo;) findet sich der Anschluss für den Brennertaster. Rechts neben der \u0026ldquo;-\u0026quot;-Buchse ist der Gasanschluss angeordnet. Die Tastatur lässt sich mit (dünnen) Schweißhandschuhen ordentlich bedienen.
Auf der Oberseite des Geräts sind die wichtigsten Kenndaten aufgedruckt:
Auf der Rückseite des Geräts finden sich von links nach rechts der Netzanschluss, der Gasanschluss (G1/4\u0026rdquo; RH) und ein MIL-Stecker ( :-D ) für Fußpedal oder Fernsteuerung. Ganz ehrlich, als ich gesehen habe, dass dieses Gerät gerade noch für mich bezahlbar wäre und solche Stecker eingebaut hat, war ich verloren.
Massekabel und Elektrodenhalter waren gleich mit dabei:
Ich hab zwar von \u0026ldquo;Ningbo Dabu Electric Applicance Co.,Ltd\u0026rdquo; noch nie etwas gehört, aber ordentliche Schweißkabel können die schon herstellen:
Weiterhin war ein WIG-Brenner (ABITIG 26 von Binzel) dabei:
Auch hier wieder ordentliche Stecker und eine Schnellkupplung. Die Schnellkupplung fürs Gas hat einen Außendurchmesser von 5mm und auf der Kupplung am Gerät lässt sich entdecken, dass es sich um die Serie 20-Verbinder von legris (ab S. 20) handelt. Und fragt mich bitte nicht, warum die Schnellkupplungen im legris-Katalog \u0026ldquo;Rectus\u0026rdquo; heißen\u0026hellip;
Weiterhin waren ein kleines Set an Brennerzubehör, ein Roh-Stecker für den Brennertaster, eine zusätzliche Schlauchtülle für den Brenner-Gasanschluss, ein G1/4\u0026quot;-Schlauchnippel samt 2m passendem Gasschlauch sowie vier Crimp-Schlauchschellen dabei.
Druckminderer # Einen Druckminderer mit Schutzkorb hatte ich auch noch dazu bestellt. Hier stellte sich leider heraus, dass der Schlauchnippel für 6mm-Schlauch gedacht war; der mitgelieferte Schlauch hatte jedoch 4mm Innendurchmesser. Mit einen Heißluftföhn konnte ich den Schlauch jedoch gefügig machen, sodass ich doch noch am gleichen Abend loslegen konnte.
Das Manometer am Ausgang des Druckminderers besitzt eine Skala in L/min. Diese beginnt bei 6 L/min, was ja (soweit ich bisher mitbekommen habe) dem üblichen Durchfluss für normale Arbeiten entspricht\u0026hellip; Na ja, wird sich schon hinfummeln lassen.
Es war mir jetzt bloß noch ein Rätsel, wie man auf ein Manometer (was ja bloß den Druck misst) eine Durchflussskala schreiben kann. Im laminaren Strömungsfall sind ja Druck und Durchfluss proportional zueinander, aber für welchen Strömungswiderstand ist diese Skala geeicht? Wenn ich jetzt 10m Schlauch anschließe, ist ja der Strömungswiderstand und damit die Durchflussmenge für einen gegebenen Druck eine ganz andere als wenn ich bloß mit 2m Schlauch arbeite\u0026hellip;
In einem Druckminderer-Prospekt von Air Liquide fand sich dann (versteckt im Fließtext) die Erklärung: \u0026ldquo;Beim Druckminderer mit Manometer-Mengenanzeige wird mittels der Einstellschraube und einer im Abgangsstutzen eingebauten Messblende die Entnahmemenge (L/min) bestimmt.\u0026rdquo;
Mal nachschauen am Druckminderer:
Das weiße (Plastik?) Teil mit dem kleinen Löchlein drin ist dann wohl die Messblende. Aha, also baut sich vor der Messblende ein gegebener Druck auf (den das Manometer sieht) und weil der Hersteller diese Messblende selbst konstruiert hat, ist die Bohrung in der Blende so bemessen, dass sich also die auf dem Manometer aufgedruckte Durchflussmenge ergibt. Ich kenne jetzt nicht die genauen Testvorschriften für diese Konstruktion, aber ich vermute mal, dass die Kalibration ohne Gegendruck (d.h. ohne angeschlossenen Schlauch, WIG-Brenner, Gaslinse, etc.) stattfindet. Jeder weitere Strömungswiderstand beeinflusst nämlich eine derart kalibrierte Anzeige, da der notwendige Staudruck für eine vorgegebene Durchflussmenge zunimmt. Wenn ich also den Schlauch zum Brenner nur lang genug und dünn genug mache, komme ich für einen effektive Gasdurchfluss von 6 L/min vielleicht auf eine (dafür notwendige) Ablesung am Manometer von vielleicht 10 L/min? Für reproduzierbare Ergebnisse muss man sich also noch ein Flowmeter besorgen, welches auf den WIG-Brenner aufgesteckt werden kann und somit den tatsächlichen Durchfluss bei fest eingstelltem Druck anzeigt. Alternativ (was ich wohl machen werde) besorgt man sich einen Massendurchflussregler (engl. \u0026ldquo;mass flow controller\u0026rdquo; (MFC), siehe z.B. https://www.mksinst.com/c/mass-flow-controllers), der den Durchfluss misst und selbstständig den Druck nachregelt. Gebrauchte MFCs gibt es bei eBay für ca. 100€. Dazu aber später mehr\u0026hellip;
Fußpedal # Das passende Fußpedal \u0026ldquo;Fußfernregler\u0026rdquo; RC-FA1, 045682 hatte ich der Einfachheit halber gleich mitbestellt. Würde ich nicht wieder machen; für das, was geliefert wird, ist mir das deutlich zu teuer.
Scheinbar wird es von GYS bei \u0026ldquo;toparc\u0026rdquo; zugekauft:
Yeah, ein solider Stecker :-D
Der MIL-Stecker wird von GYS ja auch einzeln angeboten, wobei deren Bild nicht zum tatsächlichen Stecker passt. Deshalb steht da wohl auch \u0026ldquo;not contractual\u0026rdquo; klein im Bild.
Die tatsächliche Bezeichnung scheint \u0026ldquo;16S-1S\u0026rdquo; zu sein:
16S ist dabei die Gehäusegröße und 1 bezieht sich auf die Pinanzahl und -ordnung (siehe auch RS).
Der passende Stecker sollte also z.B. von Amphenol MS3106A-16S-1P (298-2421 bei RS) mit der Kabelklemme MS3057-8A (298-2617 oder 546-9971 bei RS) sein.
Nebenbei bemerkt, gibt es für den Fernbedienungsstecker auch unter der Bezeichnung MS25043-16D (z.B. 546-9858 bei RS) eine Schutzkappe zum Aufschrauben bei Nichtbenutzung.
Durch Eindrücken der Nupsel hier\u0026hellip;
\u0026hellip; und hier lässt sich die Wippe abnehmen\u0026hellip;
\u0026hellip; und man erhält Einblick in die Innereien des Fußpedals:
Notwendig wurde dies, weil das Fußpedal beim Anschließen an das Schweißgerät nicht erkannt wurde. Wenn ein Poti am Fernregleranschluss erkann wird, wird man gefragt, ob man das \u0026ldquo;PEd\u0026quot;al, ein \u0026ldquo;Pot\u0026quot;entiometer oder keinen (\u0026ldquo;no\u0026rdquo;) Fernregler verwenden möchte. Schlussendlich stellte sich heraus, dass (wohl beim Zulieferer?) die zuständige Elektro-Fachkraft beim Anlöten der Adern an den Steckern mit der Pinbelegung um einen Pin nach hinten verrutscht ist. Korrekt wäre also (A \u0026ndash;\u0026gt; weiß), (B \u0026ndash;\u0026gt; grün), (C \u0026ndash;\u0026gt; gelb), (D \u0026ndash;\u0026gt; braun).
Na ja, einfach zu reparieren, aber einen etwas komischen Nachgeschmack hinterlässt das schon. Immerhin funktioniert das Pedal jetzt einwandfrei. Ich gehe einfach mal davon aus, dass diese Verwechslung beim Zulieferer passiert ist und dass das Schweißgerät selbst in Ordnung ist.
Innenleben # In der Bedienungsanleitung fand sich dann noch folgender Satz, der auch einer der Gründe war, weswegen es am Ende ein GYS geworden ist: \u0026quot; Nehmen Sie regelmäßig (mindestens 2 bis 3 Mal im Jahr) das Gehäuse ab und reinigen Sie das Innere des Gerätes mit Pressluft.\u0026rdquo; Okay, also der Hersteller empfiehlt mir ausdrücklich, das Gerät selbst zu öffnen und darin Staub zu saugen?
Ich hab das dumpfe Gefühl, dass es dort ganz schön dreckig sein könnte; da muss man sicherlich ganz dringend mal nachschauen\u0026hellip; ;-) Beginnen wir mal mit den Gummi-Schutzecken an der Oberseite. Die Alu-Einlagen haben mich positiv überrascht:
Weiter geht es mit den Gehäuseschrauben oben und rechts (von vorn gesehen). Diese haben kleine Nupsel dran, die sich in das (Alu-)Gehäuseblech graben. Dies hat wahrscheinlich EMV-Gründe und hilft, dass sich die Schrauben nicht selbst losrütteln\u0026hellip;?
Der Deckel und die rechte Gehäusewand sind ein Blechteil und lassen sich nun abheben.
Analog kommt die linke Gehäusewand ab.
Drinnen erwarten den interessierten Beobachter sauber gefertige Platinen, die über solide Silikonkabel miteinander verdrahtet sind. Die Leitungsführung des Leistungsteils ist nicht wahnsinnig intuitiv, aber dafür gibt es ja ein Blockschaltbild in der Bedienungsanleitung (ganz hinten auf S. 115). Der einzige Wehrmutstropfen für mich ist die Verwendung von ISA-Slots für die Digitalelektronik-Platinen. Der Rest des Geräts ist doch so wertig aufgebaut; warum mussten hier die letzten paar Euro gespart werden?
Lustigerweise werkelt auf dem Prozessorboard ein STM32F072 V8T6:
Weiterhin sind gleich zwei (?) USB-Anschlüsse vorhanden.
Im Betrieb blinken zwar ein paar LEDs, aber \u0026rsquo;lsusb\u0026rsquo; zeigt keine gefundenen Geräte an\u0026hellip; schade. Vielleicht sind das aber auch gar keine USB-Schnittstellen, sondern GYS hat einfach die Stecker verwendet und transportiert Debug-Nachrichten etc. z.B. per RS232. Ich stimme zu, dass es etwas blauäugig ist, interne Schnittstellen in einem Schweißinverter einfach so an einen PC anzuschließen, ohne vorher mit einem Oszilloskop zu checken, was für Signalpegel dort anliegen und ob Daten gesendet oder empfangen werden. Ich hab\u0026rsquo;s trotzdem gemacht, weil auf der Platine zu sehen war, dass differentielle Signale von den Buchsen in Richtung MCU geroutet sind und ich daraus geschlossen habe, dass diese Stecker zumindest nicht dafür vorhanden sein werden, den Schweißstrom direkt zu messen.
Schweißversuche # Als erster Test standen dann Versuche zum Elektrodenschweißen an. Ich habe nie eine Schweißausbildung, einen Lehrgang o.ä. absolviert, sondern bloß vor Jahren zum Einstieg von einem guten Freund die absoluten Grundlagen erklärt und gezeigt bekommen. Seitdem irre ich mich empor. Dies als Warnung an die Leser mit schwachem Kreislauf; kippt mir nicht um, wenn ihr mein Gebrate gleich seht ;-)
Als Elektroden hab ich mir eine Packung Oerlikon FINCORD 2,5mm Drm. mit 350mm Länge besorgt. Diese wurden mit 80A auf ein paar Schrottteilen verschweißt.
Gleich weiter:
Der Lichtbogen zündet traumhaft einfach und brennt sagenhaft stabil. Ich hab bisher nur mit Trafo-Elektrodenschweißgeräten gearbeitet und das Arbeiten mit dem Inverter hier im Vergleich dazu eine Offenbarung :-)
Eine 20L-Flasche Argon 4.6 hatte mein Mitbewohner schon vor einiger Zeit besorgt:
Als nächstes stand dann Edelstahl auf dem Programm. Erstmal hab ich geübt, den Brenner überhaupt halbwegs gleichmäßig über das Werk-/Schrottstück zu führen.
Dann mal ein bisschen mit dem Gasdurchfluss gespielt:
Edelstahl-Zusatzwerkstoff hatte ich mir auch schon mal vorsorglich bestellt\u0026hellip;
\u0026hellip; sowie ein bisschen Siliziumbronze fürs WIG-Löten:
Fazit bisher: Es ist noch kein Meister vom Himmel gefallen. Hier wird noch einiges an Übung und Einstellarbeit am Gerät nötig sein, bis saubere Nähte herauspurzeln. Dafür hab ich mir einen Restposten Edelstahl-Bleche bei eBay-Kleinanzeigen besorgt und sehe zu, dass ich die nächsten Tage und Wochen mal ein bisschen Fingerspitzengefühl fürs WIG-Schweißen bekomme\u0026hellip;
`}),e.add({id:10,href:"/labathome.de/maschinenbau/klopp_550/",title:"Klopp 550",section:"Mechanical Engineering",content:` Klopp 550 # Heute hat es auch bei mir geKLOPPt. Weil ein Projekt ja nicht genug ist und durch die nette Vermittlung von mechanobernd bin ich in den Besitz eines Klopp 550 Schnellhoblers gekommen:
Aber der Reihe nach\u0026hellip;
Beim Einladen in den Transporter:
Netter Mitfahrer; ich hab aufgehört zu zählen, wie oft ich als Beifahrer nach hinten geschaut habe:
Er stammt aus BW-Beständen, ist daher oliv gemalert und stand wohl einige Zeit nur rum, daher fand sich auch eine dicke Staubschicht auf den Führungen etc. Die Stösselführungen weisen nach eingehender Untersuchung, die in den nächsten Tagen natürlich noch fortgeführt wird, leider doch ein paar Verschleisserscheinungen auf. Ein Glück sind grad in SH Semesterferien, sodass ich die nächsten zwei Wochen nonstop an der Maschine arbeiten kann.
Heute habe ich schon die \u0026ldquo;kleineren\u0026rdquo; Anbauteile (Schraubstock, Stosskopf, Klapperbox, Lampe, Handräder, etc.) abgebaut, um sie einzeln in Ruhe zu säubern und einzustellen.
Diese Maschine wird erstmal nicht lackiert; der Originallack ist noch relativ gut erhalten und gibt der Maschine eine richtig schöne Patina :-D
Hier ist der Hobler schon halb zerlegt zu sehen:
Noch eine schöne Seitenansicht:
Und noch die vordere Stösselführung:
Leider fehlten die vorderen Abstreifer bzw. die Lederstücke darin und der Hobler ist damit offensichtlich auch einige Zeit gelaufen. Auf dem Grund der Stösselführung sind daher recht \u0026ldquo;schöne\u0026rdquo; Riefen zu sehen (Fotos kommen morgen).
Zuerst habe ich heute morgen das Öl (ca. 30l) mit einer Handpumpe, wie in der Anleitung beschrieben, abgepumpt:
Dann kam ich an das untere Ende der Schwinge dran und konnte die Achse, auf der die Schwinge unten geführt wurde, austreiben. Die Schwinge konnte dann in den Sockel weiter herabgelassen werden, sodass sich dann auch der Stössel ausbauen liess.
Dadurch wurde der Blick auf das Kulissenrad frei; die Hubweiteneinstellung sieht aber noch sehr gut aus: weder Verschleisserscheinungen (Schabemuster noch vollständig vorhanden) noch Spuren grösserer Kollisionen.
Durch den abgenommen Stössel konnte ich auch die Stösselführung in der Mitte untersuchen. Hier finden sich relativ starke Freßspuren. Leider habe ich weder die Zeit noch die Fähigkeit, diese Führung nachzuschaben. Ich hoffe, dass mit ordentlicher Schmierung (der Ölvorrat im Stössel war trocken) und nach Egalisierung der Riefen mit bisschen Schmirgelleinen der Hobel noch lange hält. Wenn man erstmal weiß, wie man den Stössel ausbaut, kann man das auch später wieder machen, wenn mehr Zeit zur Verfügung steht.
Dann habe ich das Öl aus dem Getriebe abgelassen und es geöffnet. Die Zahnräder sehen alle noch super aus, im Öl waren auch nur wenige Späne zu finden. Die dürften aber eher von den ehemaligen Werkstücken als der Maschine stammen.
So sah die Maschine dann aus:
Dann wurde das große Schwungrad blankgeschmirgelt und abgezogen. Dazu fehlte leider ein passender Abzieher, sodass er schnell improvisiert wurde:
Ohne Schwungrad sah der Wellenstummel folgendermaßen aus:
Dabei fiel dann auch der Augenschein auf folgendes schmutzige Detail:
Hier noch ein Bild von der Ratsche für den Horizontalvorschub. Das Zahnrad scheint glücklicherweise kaum abgenutzt zu sein.
Neue Lager für das Getriebe sind schon gekauft und werden mit neuen Simmeringen morgen eingebaut. Die alten rasselten schon zum Fürchten. Leider steht auch noch der Ekeligste Teil der Reinigung auf dem Plan, und zwar der Ölsumpf unter der Schwinge. Den gröbsten Schmodder habe ich zwar schon rausgeschaufelt, aber es ist immer noch was drin.
Die Betriebsanleitung schreibt \u0026ldquo;SHELL Vitrea Oel 100, 68 c St (9E) 50°C\u0026rdquo; vor.
Zuerst habe ich mich mit Widerwillen daran gemacht, die Maschine äußerlich weiter zu putzen.
Noch größer wurde der Widerwillen als es dann an das Innere ging. Hier mal ein Bild von vorher:
und nachher:
Die immer noch vorhandenen Flecken sind Guss, der unter der abgeblätterten Farbe rausschaut. Lose Stückchen sollten jetzt nicht mehr in der Maschine sein und auch der ganze Schmodder ist endlich raus.
Dann habe ich weiter das Getriebe zerlegt, um hier neue Lager einzubauen. Es handelt sich dabei um 4 Stk. des Typs 6307 (80x35x21). Gleichzeitig werden sie Simmeringe, die die Schwungradwelle abdichten, erneuert. Leider bekomme ich die zweite Getriebewelle nicht raus, da die Zahnräder mit Kegelstiften verstiftet sind und ich die Stifte nicht herausbekomme. Ich versuche es ganz sicher zur richtigen Seite (mit dem Meßschieber nachgemessen), aber da rührt sich auch nach Anwendung von WD40 und Caramba nichts. Geklopft wurde auch schon mit einem Vorschlaghammer. Morgen will ich es nochmal mit Wärme und einem extra angefertigten Austreiber mit gehärteter Spitze versuchen.
Zum Feierabend sah die Maschine dann so aus:
Der Aufspanntisch bietet übrigens eine hervorragende Abstellfläche für viel benötigtes Werkzeug und bereits rausgerissene Teile. Hier sieht man z.B. das verschiebbare Dreifachzahnrad aus dem Getriebe:
Oben im Stößel findet sich eine kleine Kammer mit Ölschauglas. Hier hab ich das mal angekreidet:
Von dort geht (durch zwei Dosierventile in Form von angespitzten Rändelschrauben, die in die Rohröffnungen geschraubt werden können) ein gebogenes Rohr weg. Das sind die \u0026ldquo;Ventil\u0026rdquo;-Spindeln, mit denen der Ölfluss aus der Ölkammer im Stößel zu den Stößelführungen gesteuert wird. Das Rohr ist also quasi an beiden Enden am Ölvorrat angeschlossen. Ungefähr in der Mitte des Stößels kann das Öl durch T-Stücke zur Stößelführung flie0en. In der Mitte der Rohrlänge (also ganz hinten an der Hublagenverstellung; das Rohr ist relativ lang) ist noch ein Loch, sodass die Spindel für die HLV gleich mitgeschmiert wird. Kompliziert zu beschreiben; hier mal ein Bild von der Unterseite des Stößels:
Man sieht deutlich das Rohr, das in einer Schlinge an dem Öltank angeschlossen ist, mit den T-Stücken für die Zuführung zur Führung ( :-) ). In der Mitte der Länge des Rohres (ganz links im Bild, wo der Öltropfen am Rohr hängt) ist noch ein Loch, aus den Öl auf die Hubverstellspindel fließen kann. Vielleicht soll da aber auch nur Luft nachgezogen werden können oder so was ähnliches\u0026hellip; Schmiernippel gibt es da auch noch, allerdings nur für das Gleitlager am Ende, wo der Vierkant ist; nicht mitten an der Spindel.
Leider ist mein Klopp scheinbar zu alt. In den neueren Versionen wird dann wohl eine Ölpumpe eingebaut sein. Das Kulissenrad schleudert einen Teil des Öls hoch; das wird in einer Blech\u0026quot;rinne\u0026quot; aufgefangen und u.a ins Getriebe geleitet. In der \u0026ldquo;Betriebs- und Schmieranweisung\u0026rdquo;, dem einzigen Dokument, dass ich zum Hobler habe, steht was von einer Tauchschleudereinrichtung. Die Beschreibung jener stimmt ziemlich genau mit dem überein, was ich in der Maschine vorgefunden habe.
Für den bevorstehenden Transport an den vorläufigen Aufstellort habe ich noch den Endabschalter abgeschraubt; hier mal ein Bild vom Aufbau desselben:
Nachdem ich gestern solche Probleme mit den Kegelstiften im Getriebe hatte und die über Nacht in dem aufgesprühtem Caramba gebadet hatten, liessen sie sich heute mittels eines großen Hammers völlig ohne Probleme austreiben.
Damit hat sich auch schon ein ganz ansehlicher Berg Kleinteile angesammelt; hier mal ein paar Impressionen:
Dann wurde die Bremse/Reibkupplung mit Unmengen Kaltreiniger eingejaucht. Danach war es kein Problem mehr, den Dreck abzuwischen:
Als nächstes habe ich mich zusammen mit einem netten Helfer an das abschmirgeln des Tisches gemacht. Ich denke, das Ergebnis kann sich sehen lassen:
So macht es wieder Spaß, Teile aufzuspannen und abzuspanen :-D
Da ich im Moment keinen Platz in meiner Heimwerkstatt habe, kann ich glücklicherweise den Hobel erstmal in der Werkstatt aufstellen und benutzen, in der ich ihn im Moment restauriere. Zuerst mit dem Hubwagen (der Klopp stand noch immer auf der Palette von der Abholung) ans Ende der Kranschiene:
Dann auf Rohre umsetzen und an den Bestimmungsort fahren. Auf dem Tisch liegen schon die Zuganker, mit denen der Klopp dann im Boden verankert wird:
Nach Anzeichnen und Bohren der Löcher wurden die Zuganker mit einem Montagekleber für solche Fälle (ähnlich Montageschaum) im Boden verklebt. Da der Kleber aufquillt und ich die Maschine irgendwann mit nach Hause nehmen wollte, mussten die Anker ohne draufstehende Maschine verklebt werden. Ich denke, man kann sehen, wieviel Kleber hochgequollen ist:
Dadurch tritt aber ein Problem auf: Wie kriegt man jetzt den (immer noch) sehr schweren Maschinenkorpus auf die Schrauben gehoben, wenn der Kran nicht bis in diesen Teil der Halle fahren kann?
Ganz einfach: Mittels Wagenheber, Brechstange, U-Stahl und Stahlrohren und vielen Helfern konnte die Maschine auf Schienen gestellt werden; dadurch ließ sie sich problemlos über die Schrauben fahren und dann duch Hin- und Herkippeln und stufenweises Absenken durch Einlegen von verschiedenen Rohren bis auf den Boden absenken. Bitte habt Verständnis dafür, dass ich hiervon keine Bilder gemacht habe, ich war da ein wenig im Stress ;-) So steht sie jetzt da; der Tisch wurde zwecks Gewichtsersparnis auch noch abgenommen, sodass die Spindelmutter auch noch schön gereinigt werden kann.
Morgen und in der nächsten Woche geht es dann an das Reinigen der Kleinteile und das Zusammenbauen und Einstellen. Glücklicherweise wird die Maschine auch noch vom Elektriker der Werkstatt durchgemessen und abgenommen, sodass ich mich darum nicht groß sorgen muss :freu:
An dieser Stelle möchte ich mich auch ganz herzlich bei den Meistern und Mitarbeitern der Werkstatt für die großartige Unterstützung und ständige Offenheit für Fragen bedanken. Ohne sie wäre eine solche Aktion mir nicht möglich gewesen. Punkt.
Die Maschine wurde fertig ins Wasser gestellt (nicht im wörtlichen Sinne ;-) ) und am Boden verschraubt. Ich hab versucht, an ihr zu rütteln, aber die Blase der Maschinen-WW hat sich nicht mal gerührt. Das sollte für den Betrieb ausreichen :pfeif:
Dann habe ich die Horizontalspindel auf die Drehbank gespannt und mit Drahtbürse und (bei stehender Maschine natürlich) Lappen sie ein bisschen blank gemacht. Ausserdem wurden die Keilleisten für den Tisch gereinigt und wieder eingesetzt. Grob eingestellt lässt sich schon sagen, dass der Tisch auf der rechten Seite (von vorn gesehen) etwas schwerer läuft als auf dem Rest der Führung. Das Schabemuster ist dort auch noch am besten erhalten. Irgendwann muss wohl jemand (ich) das mal nachschaben..
Übers Wochenende hab ich mir dann noch den Stösselkopf mit dem Vertikalschlitten mitgenommen. Ich glaube, ich bin süchtig nach öligen und verharzten Findern geworden :-)
Nachdem das Wochenende mal Klopp-Pause war, ging es heute wieder in vollen Zügen weiter :-D
Als ersten hab ich den Tisch wieder befestigt und eingeölt. Die Indexstifte zum Ausrichten auf 0° sind auch schon wieder drin:
Ausserdem hab ich das Handrad für die Horizontalverstellung wieder montiert und die Ratsche sitzt auch schon wieder:
Ausserdem sitzt schon die erste, innere Welle im Getriebe samt Zahnrädern und neuen Lagern im Gehäuse. Leider muss ich morgen aufpassen, dass die Handwerker unsere neue Haustür richtigrum einbauen und kann daher nicht in die Werkstatt fahren. Daher muss leider der Bericht morgen ausfallen.
Neues Öl ist auch bestellt, das sollte dann pünktlich Mittwoch geliefert werden.
Auch heute ist wieder viel passiert. Leider begann der Tag damit, dass ich meine Kamera zu Hause liegen gelassen habe :imstupid: :wall: , sodass es heute leider keine Fotos gibt. Die werden aber morgen natürlich nachgereicht.
Der Tag begann damit, dass ich das Getriebe zu Ende zusammengesetzt habe. Die neuen Lager laufen wunderbar leicht und sanft. Ich habe die äußeren Dichtringe (2RS-Lager) drin gelassen, sodass das Getriebeöl die Lager mitschmiert, aber nicht rauskommt. Zudem ist die Welle, auf der das Schwungrad läuft, noch zusätzlich mit den neuen Simmeringen abgedichtet. Der Getriebedeckel wurde dann auch wieder angebracht. Er war mit einem schwarzen, Lack-ähnlichen Zeug abgedichtet. Ich habe jetzt aus einer Gummimatte eine schöne Dichtung ausgeschnitten und hoffe, dass das erstmal reicht.
Dann wurde das schwarze Handrad zum manuellen Durchdrehen wieder blitzeblank(=blitzeschwarz, da Bakelit) gemacht und montiert. Auch die Hebel für Kupplung und Schaltung wurden wieder blank gemacht und montiert. Als nächstes habe ich die Motorwippe und Bremsmechanik wieder zusammengebaut.
Der Motor war dann dran und wurde geöffnet. Innen wurde er ausgesaugt. Leider ließ sich das Reibrad nicht ohne weiteres Abziehen; über Nacht wirkt da jetzt Caramba drauf ein - mal sehen, ob sich morgen da was rührt.
Ach so, und heute sind noch 40l frisches Öl gekommen.
Zuerst mal ein paar Bilder, auf den man die gestern erfolgten Zusammenbauten erkennen kann:
Ich hatte ja gestern die Motorwelle in Caramba ersoffen, um heute das Gummirad abzuziehen. Leider hatte ich damit auch heute morgen keinen Erfolg und hab dann mal etwas kräftiger zugepackt. Das Ende vom Lied: ka-pling, und der Deckel hatte einen Riss:
Nachdem der kleine Abzieher zu klein war und der große, den ich dann später auch genommen habe, zu dicke Krallen hatte, um zwischen Motor und Nabe zu greifen, hab ich den Deckel (mit Flachstahl unterstützt) in eine großen Handhebelpresse gelegt und mal zugelangt.
Die Sägemarken am Lagersitz stammen von danach, als der Abzieher Platz haben musste, um die Stahlnabe der Reibräder zu greifen. Schon doof \u0026hellip; :-(
Leider hat sich der innere Teil beim rausbrechen verkantet, sodass man das Teil nichtmal spannungsfrei gerichtet bekommt. Was man auf dem Foto gar nicht sieht ist ein zweiter Riss an einem der Befestigungslöcher im äußeren, zylindrischen Teil, der sich nach unten hin aufweitet. Evt. hätte man den Deckel also schweißen oder löten können, aber nicht so spannungsarm, dass ich ihm weitere 20+ Jahre am Motor gegeben hätte; insbesondere, weil evt. das vordere Lager unter der verdrehten Montageposition gelitten hätte.
Na ja, die Welle ist jedenfalls raus und die Gummiräder auch. Hier sieht man den Übeltäter, der die Räder festgehalten hat:
Offensichtlich ist beim Zusammenbau vor ~50 Jahren ein Span in die Nut für den Sprengring gekommen und reingezogen worden. Mit einem großen Abzieher, den ich mir freundlicherweise von einer benachbarten Werkstatt ausleihen konnte, gingen dann aber die Räder ab.
Dann war es ein leichtes, die ollen Lager auch noch abzuziehen. Die neuen sind schon gekauft (je 1x 6205 u. 6206; jeweils 2RS):
Für den kaputten Motordeckel ist schon eine Ronde Strangguss bestellt; die wird Dienstag geliefert. Wofür hat man schließlich Fräs- und Drehmaschine mit Teilapparat und Planscheibe?
Ausserdem hab ich noch die Keilleiste für die Stößelführung wieder blank gemacht und eingeölt; die Kurbelschwinge hängt auch schon wieder in der Maschine und wartet auf den Stößel, den ich heute zum Ende hin zu putzen angefangen habe.
Dann war noch kurz der Elektriker da und hat sondiert, was neu gemacht werden muss:
Motorschutzschalter Wiederanlaufschutz Tastschalter für Kupplungs/Bremshebel evt. neuer Schaltkasten Den Stößel habe ich heute fertig geputzt. Erfreulicherweise waren beide Ölleitungen (bzw. die gesamte eine) noch frei, sodass ich sie zum Ausblasen nicht ausbauen musste. Auch den Vertikalvorschub hab ich wieder ein bisschen aufgehellt, hier zu sehen:
Dann konnte der Stößel auch wieder eingebaut werden. Die Kurbelschwinge saß ja schon gestern drin. Man bekommt leider den Stößel weder raus noch rein, wenn man nicht die Welle, auf der die Schwinge unten geführt ist, rauszieht. Um die Distanzstücke, die den Gleitstein unten auf Position halten, auf diese Welle aufzuschieben, muss man leider mit dem Arm bis zur Schulter in die Maschine kriechen :-D Hat für viel Heiterkeit bei den Kollegen gesorgt ;-) Der Ölvorrat im Stößel wurde dann auch wieder mit Bettbahnöl aufgefüllt.
So sieht das doch schon wieder ein bisschen nach Stossmaschine aus, oder ?
Die blanken Stellen sind größtenteils mit Schmirgelleinen bearbeitet; bis auf die Führungen, da war ein Ölstein dran. Für die Fettverkrustungen hat abwechseld Kaltreiniger und ein Zeug names Multi-Öl geholfen, jeweils kombiniert mit ordentlich Muskelschmalz. Allerdings war auch nicht viel Rost dran. Das meißte war einfach Dreck und Flugrost, der schon beim Anschauen abgegangen ist.
Der Antrieb des Stößelschlittens funktioniert wie folgt:
An der Seite des Stößels ist eine Ratsche, die beim Rückzug \u0026ldquo;ausgelöst\u0026rdquo; wird. Die treibt über eine gebremste Welle mit zwei Winkelgetrieben (eins um von quer nach längs zum Stößel umzulenken und eins in der Verbindung Vertikalschlitten-Stößel) die Vertikalspindel am Stößelkopf an. Das Zahnrad, das man an der Stößelnase sieht, ist Teil des zweiten genannten Getriebes. Es lässt sich per Hebel vor- und zurückschnappen, sodass der Vorschub auch ausgekuppelt werden kann.
Die Ratsche fährt gegen eine längs zum Stößel verschiebbare \u0026ldquo;Auffahrt-Leiste\u0026rdquo;. Das ist einfach ein Stück Flachstahl, der nach vorn hin flacher wird (auf den vorderen 50mm etwa 10mm von der Oberkante). Dadurch \u0026ldquo;läuft\u0026rdquo; die Ratsche beim Stößelrücklauf diese \u0026ldquo;Auffahrt\u0026rdquo; hinauf und löst bei einem bestimmten Punkt aus. Unten ist diese Auffahrt-Leiste längs geschlitzt und kann auf einem fest angeschrauben Stück Flachstahl mittels Klemmschrauben an einer beliebigem Position arretiert werden. Dadurch kann man den Vertikalvorschub bei jeder Hublage und -länge nutzen.
Hier hab ich mal zwei Fotos vom Vertikalvorschub, den ich heute wieder montiert habe:
Der Stößelschlitten (oder heißt das Ding anders?) war dran bzw. ist es jetzt:
Leider hat das Kegelzahnrad auf der Spindel ein bisschen Verschleiß, aber ich denke, das funktioniert noch:
Hier sieht man auch noch schön die Schabung an der Führung, die meiner Meinung nach für DAS Alter noch recht ordentlich ist.
Dann noch den Schlitten druff und dat wars auch schon:
Die Meißelklappe bzw. Clapperbox ist heute wieder dran gekommen:
Auch der Endabschalter für den Horizontalvorschub ist wieder gesäubert und montiert:
Der Lampenhalter ist auch wieder dran:
Die Lampe muss ich noch machen; kommt noch\u0026hellip;
Dann war der Meisselabheber dran, bzw. die Mimik, die dazu gehört:
Hier nochmal der Stahlhalter (ein Comet FH-2), leider der einzige, den ich im Moment habe. Dafür kann man in diesen 12*12mm-HSS-Drehlinge einspannen und fährt somit sehr günstig. Zum Größenvergleich mal mit GMS daneben:
Als dann (bis auf Motor und Lampe) alle Anbauteile wieder dran waren, wurde auch wieder Öl eingefüllt.
Und hier die ganze Maschine noch mal in voller Pracht, deshalb auch in der höchsten zugelassenen Auflösung (Modem-Nutzer mögen mich steinigen):
Die Gussronde ist heute gekommen, Drm. 250, l 80, GG25 :-)
Heute hab ich erstmal den Stator des Motors und den hintere Deckel zu Ende geputzt:
Dann ging es mit dem vorderen Motordeckel los, den ich ja komplett neumachen muss.
Motordeckel # Die Geschichte beginnt mit 28,7 kg GG-25 in Form einer Ronde von 250mm Durchm. und 80mm Länge:
Ich habe die Ronde ø250, l80 bei Richter Kiel für 77,nochwas € gekauft.
BTW, dies ist die Maschine, auf der ich den Deckel und sonstige Sachen fertige:
Dann hab ich extra das große 250er Vierbackenfutter aufgesetzt und den Klotz aufgespannt:
Erstmal außen überplanen:
Auch an der Stirnseite:
Dann das Ganze umdrehen, Absatz und andere Stirnseite planen:
Außenmaß fertig gedreht:
Durchbohren; keine Sorge, ich hab mit was kleinerem angefangen:
Bohrung ausdrehen:
Gehäusesitz vorbereiten:
Absatz, in den später das Kugellager eingesetzt wird, stirnseitig planen:
Mal eine Zwischenbilanz, was heute an Spänen geflogen/-spritzt ist:
Da soll es mal hingehen:
Fazit: Guss ist immer ekelig zu drehen, aber in den Mengen hatte ich bis heute noch nicht damit zu tun. Also eine neue Herausforderung\u0026hellip;
Die Innenseite des Deckels werde ich inklusive der beiden Passungen in einer Aufspannung (der jetzigen) auf der Drehbank machen. Dann kommt das Teil mit der Innenseite nach unten auf den Rundtisch auf der Fräse und dort werden dann die komplette Außenseite und die Lüftungsschlitze gefräst.
Heute hab ich mich dann dran gemacht, den Platz für die Wicklungen freizudrehen und die äußere Gehäusepassung gefertigt. Es begann damit, mit einem Abstechmesser eine Stufung einzubringen, um dann von innen nach außen mit einem Bohrstahl den Raum auszuarbeiten:
Dann wurden mit einem 8mm-Radius-Formstahl die Ecken nachgearbeitet, um Risse im Guss durch zu scharfe Ecken zu vermeiden:
Die Aushöhlung, die später von außen angefräst wird für die Lüftungsschlitze:
Wieder ein paar Späne angefallen:
Endstand fürs Wochenende; Montag kommt dann der Lagersitz noch rein und dann geht es nach ein paar Fasen auf die Fräsmaschine:
Erstmal in der alten Aufspannung den Lagersitz gedreht:
Dann mal anprobiert: Welle lässt sich problemlos drehen und klappert nicht; Deckel geht stramm auf das Gehäuse drauf:
Dann umgespannt und auf Länge gedreht:
Ich habe den Reitstock trotz der geringen Ausspannung benutzt, weil innen der Deckel ja schon ausgedreht war. Daher hab ich die Backen nicht voll angeknallt, um die \u0026ldquo;Wandung\u0026rdquo; nicht nach innen einzudrücken. Die hat zwar noch 10mm Dicke, aber besser Vorsicht als Neumachen. Ausserdem musste ich immerhin 20mm Dicke mit 250mm ø zerspanen. Da ich da nicht bis morgen dransitzen wollte, hab ich ein bisschen Gas gegeben und lieber mit Reitsock gearbeitet.
Ein paar Radien sehen immer besser aus:
Wieder paar Späne gemacht; das war\u0026rsquo;s dann von der Drehbank:
Auf der Fräse wurden 3 Befestigungslöcher gebohrt:
Lüftungsschlitze gefräst; leider hab ich mich beim ersten mit der Dicke des innen stehenden Wulstes verschätzt und hab zu weit außen gefräst; wird aber funktionieren:
Das Ganze von innen:
Morgen dann noch die Befestigungslöcher innen freistellen (die liegen halb in der Wandung und der Bohrer hatte sich bisschen weggedrückt) und die Löcher ansenken; dann noch ein bisschen Farbe und fertig ist das Teil.
Soo, und fertig ist das Teil.
Ich hab eben noch die letzten Ausfräsungen für die Befestigungsgewindestangen gemacht und den Deckel mal probeweise montiert:
Passt!
Dann noch einmal abnehmen und Reseda drüber (als Anfang, damit ich den bei der kompletten Neulackierung nicht nochmal neu lackieren muss). Das fällt im Moment auch nicht auf, weil da im Betrieb das Schwungrad und ein riesiger Deckel drüber sind.
Nachdem der neue Motordeckel jetzt fertig ist, hab ich mal die Filzabstreifer, die ich freundlicherweise vom Mitgleid \u0026ldquo;Tyler D.\u0026rdquo; bekommen hatte, montiert und die Lampe geputzt und auch wieder angebracht:
Dann hab ich mich zum Ende hin noch an den Schraubstock gemacht; zerlegt ist er schon, aber noch nix Vorzeigbares geputzt. Der ist das letzte Teil, das noch von Rost und Dreck befreit werden muss.
Was heute passiert ist:
Motor montiert: (ja, ich weiß, dass die Farbe der Maschine einen Stilbruch zum Deckel darstellt)
Schraubstock geputzt und montiert:
Dann mal per Handantrieb ein paar Hübe gestoßen: im Prinzip funktioniert die Maschine, aber auf Grund der Schnittgeschwindigeit, die per Hand nicht vorhanden ist, war die Oberfläche eher bescheiden.
Elektrik fehlt immer noch, kommt hoffentlich morgen:
So steht er jetzt da, mein Klopp:
Möge er treue Dienste leisten!
Diese Teile sind bei der Aktion übrig gebliegen:
u.a.: alte Lager aus Getriebe und Motor; Abzieher fürs Schwungrad; gehärteter Mega-Austreiber für die Kegelstifte im Getriebe; Hülsen und Ringe, um die neuen Getriebelager verzugsfrei einzupressen; Vorrichtung, um die Zuganker senkrecht im Boden zu verkleben; alte Elektrik; alte, ausgetauschte Schrauben und sonstiges Befestigungsmaterial; der kaputte Motordeckel, usw.
Vertikalvorschub # Ich hab mal auf Bitte eines Forenmitglieds eine Zeichnung von der Leiste für den Vertikalvorschub gemacht und möchte euch die nicht vorenthalten. Verwendet hab ich dazu Inventor 2009, falls es Versionsprobleme geben sollte.
Vertikalvorschubleiste.pdf
Vertikalvorschubleiste_Inventor.zip
erweiterte Unterlagen # ich hab gestern von einem netten eBay-Mitglied eine Kopie seiner Unterlagen zu einem zu verkaufenden Klopp 550 bekommen :-D Damit ihr auch was davon habt, hab ich mal ein paar Scans gemacht und die zusammen mit der schon vorhandenen Betriebs- und Schmieranweisung in ein pdf gepackt:
Klopp_375-550_erweitert.pdf
Neuerungen:
hübschere Deckblätter Schaltplan Maschinenkarte Hobelstähle von Hauser \u0026amp; Ruppert (Katalogseiten) mMn sinnvollere Reihenfolge der Seiten Umzug # Nachdem hier ein halbes Jahr lang nichts mehr passiert ist, erzähle ich mal die Geschichte meines Klopp 550 weiter.
Aus persönlichen Gründen musste ich im Oktober letzten Jahres umziehen, und damit auch meine Stoßmaschine. Durch Zufall wurde ich in Kiel, wo ich jetzt wohne, auf ein kleines Museum aufmerksam, in dessen Werkstatt ich die Maschine unterstellen kann. Nebenbei habe ich dadurch auch wieder eine richtige Werkstatt zur Verfügung (Studentenbude ist zum Spänemachen nicht soo der Hit).
Als erstes habe ich ein Untergestell für den Klopp zusammengebraten, damit man ihn im Fall der Fälle mit einem Hubwagen umsetzten kann:
Dann habe ich mich an die letzte zu erledigende Sache (vor dem Neuschaben aller Führungen), nämlich die Elektrik, gemacht. Also erstmal ohne Sinn und Verstand den alten Kram abgerissen:
und Neues eingekauft:
Dann die Wellschläuche (gibts sogar beim großen C :o ) angedengelt und Kabel durchgestopft:
Als nächstes stand dann die Verdrahtung der Schalttafel an, die ich eben abgeschlossen habe:
Diese wird in dem kleinen Schaltschrank montiert. Ich habe die originale Schaltung etwas modifiziert, u.a. gibt es jetzt einen Wiederanlaufschutz nach Stromausfall, eine zweite, mit dem Motor zusammen geschaltete Steckdose (wofürauchimmer ;-) ) und Schütze, die die nächsten 10 Jahre nicht anfangen zu brummen sollten sowie natürlich Kabel mit einer Isolierung, die nicht vom Schief-Ansehen abfällt.
Für die Interessierten gibt es hier noch den neuen Schaltplan:
Bevor ich die Elektrik völlig zerlegt hatte, konnte ich es mir nicht verkneifen, direkt an den Dahlander-Schalter mal ein Drehstromkabel anzuklemmen und die Stoßmaschine laufen zu lassen. Ich muss schon sagen, dass einem das Ding gehörig Respekt einflößt! Aber Späne macht das Maschinchen, ich kann euch sagen \u0026hellip;
`}),e.add({id:11,href:"/labathome.de/maschinenbau/tiboma_bm6/",title:"Johannes Tittel BM6",section:"Mechanical Engineering",content:` Johannes Tittel BM6 # Das Objekt von Interesse ist heute eine kleine Tischbohrmaschine des Herstellers \u0026ldquo;Johannes Tittel Präzisionsmaschinen\u0026rdquo; aus Oberschlottwitz bei Glashütte in Sachsen vom Typ BM6.
Da ich seit einiger Zeit auch selber Platinen ätze (photo-postiv und Natriumpersulfat, falls es jemanden interessiert\u0026hellip;) und diese natürlich auch bohren möchte, war ich auf der Suche nach einer kleinen, hochtourigen Tischbohrmaschine. Sie sollte jedoch auch für den anderen, \u0026ldquo;robusteren\u0026rdquo; Modellbau-Kram herhalten, also kam Proxxon, Dremel etc. schon mal nicht in Frage. Grün und schwer, das sind gute Maschinen! Im November letzten Jahres wurde ich dann auf eBay fündig. Es handelte sich um besagte kleine Bohrmaschine, die auch genügend Restaurationspotential für mich zu bieten hatte.
Hier seht ihr die Bilder aus der Auktion:
Für etwas über 100€ wurde sie dann mein, und ein paar Tage später wurde sie (liebevoll in einem Holzgestell verpackt) mir geliefert:
Im letzten Bild habt ihr mit dem Zollstock mal einen Größenvergleich; putzig, nicht wahr ? Trotzdem sind die technischen Daten dieses Schätzchens auch nicht zu verachten: Futterkegel: B12 Ausladung: 120mm max. Abstand Futter-Tisch: 220mm Motor: 1400 Upm, 160VA 6 Riemengetriebestufen, Flachriemen 730x18mm, austauschbare Riemenscheiben Drehzahlen bei 1400Upm des Motors: 4840, 2700, 1650, 1050, 850, 390 Pinolenhub: 50mm mit Skala und Tiefenanschlag
Sonstige Nettigkeiten: Der Pinolenhebel lässt sich in Rastungen verstellen, jenachdem, welche Position die angenehmste ist. Der Tiefenanschlag verfügt über eine Feinverstellung, mit der sich die Bohrtiefe fast auf 1/10mm genau festlegen lässt. Die Pinolenführung ist nachstellbar.
Das nächste Ziel war dann, die Maschine in ihre Einzelteile zu zerlegen und diese zu reinigen. Die Lager waren glücklicherweise allesamt Standardlager und konnten problemlos ersetzt werden. Die Spindel ist in zwei Schrägkugellagern gelagert, die spielfrei eingestellt werden können. Die obere Riemenscheibe vorn und der Motor sind mit Rillenkugellagern gelagert.
Hier seht ihr die Maschine nach dem Zerlegen und Reinigen:
Als Bohrfutter verwende ich momentan ein 0-5mm Albrecht, das ich noch rumliegen hatte und das zufälligerweise perfekt an diese Maschine passt.
Dann ist erstmal lange nichts passiert, ich habe ein paar Prüfungen geschrieben und hin und wieder mal an der Maschine weitergearbeitet. Na ja, irgendwie ist sie dann wieder Stück für Stück zusammengekommen:
Neulich ergatterte ich dann für 30€ einen kleinen Siemens Micromaster 410 Frequenzumrichter für Motoren bis 0.37kW und 0 - 650Hz. Der kam dann natürlich an die Bohrmaschine und mit einem Stück Tesakrepp als Riemen habe ich dann mal probegebohrt: funktioniert astrein!
Die Verkabelung ist inzwischen natürlich mit der auf dem Tisch liegenden Ölflex-Leitung ausgeführt und der FU kommt noch in einen kleinen Schaltschrank, der noch auf seine Verwendung wartet.
Statt des Tesakrepp habe ich mir dann noch einen anständigen Flachriemen gekauft.
Die Ausrichtung vom Motor und den Riemenscheiben muss ich nochmal korrigieren; irgendwo schleift da der Riemen noch. Kommt noch\u0026hellip;
Mit dem FU komme ich locker auf die Drehzahlen, die ich für die HM-Platinenbohrer brauche. Die Geräuschentwicklung hält sich dabei (bis auf den schleifenden Riemen) stark in Grenzen. Masse und Stabilität zahlt sich halt doch aus\u0026hellip;
Fazit: Wieder mal eine schnuckelige Maschine aufgearbeitet, die mir nun hoffentlich viele Jahre treu zur Seite stehen wird. Arbeit ist genug zu tun.
Weil ich dazu schon ein paar Nachfragen erhalten habe sind hier nochmal für alle die Lagerbezeichnungen:
Motor: 2 Stk. 6201 vordere Riemenscheibe: 2 Stk. 6202 Pinole: 2 Stk. 7202
Ich hab jeweils die 2Z-Ausführung genommen, damit die Gummilippe sich bei den hohen Drehzahlen nicht aufreibt\u0026hellip;
Außerdem gibts noch Bilder von der Höhenverstellung, die ich bisher aus welchen Gründen auch immer vorenthalten hatte:
Von links nach rechts:
Mutter M8 Unterlegscheibe Handrad mit Innenvierkant und hinten einem Konus Bremsglocke: Innenkonus, passend zu Handrad links, rechts Sägezahnverzahnung Höhenverstellwelle: links M8, dann Vierkant für Handrad, dann Gleitlagerhülse, dann 7-zahnige Schrägverzahung, Steigungswinkel (per Augenmaß) 45° Die Gleitlagerhülse wird mit der Madenschraube von hinten (im Gehäuse) befestigt.
nächste Zeile:
Ratschenstift, greift in die Ratschenverzahnung der Bremsglocke, sodass beim Hochdrehen die Ratsche durchrutscht, beim Runterkurbeln der Bremskonus die Bewegung der Maschine bremst. Feder, die die Ratsche gegen die Bremsglocke drückt und damit auch die Anpresskraft für die Glocke gegen das Handrad erzeugt. Madenschraube, die die Feder von rechts fixiert. Hier nochmal die Höhenverstellschraube einzeln:
Zerlegung der Pinole # Soweit ich mich erinnere, muss das Pinolenzahnrad, an dem der Hebel befestigt ist, zuerst zur Seite herausgezogen werden. Dann kann man die Pinole nach unten rausziehen.
An Linksgewinde kann ich mich spontan (außer bei den Riemenscheiben) nicht erinnern.
Also zuerst links die Rückholfeder abbauen, dann rechts eine Madenschraube, die eine Lagerbuchse hält, entfernen und die Zahnradwelle rausziehen/-klopfen.
Die Pinole kann man dann mit einem Zapfenschlüssel unten und (wenn ich mich richtig erinnere) einem Stirnlochschlüssel oben öffnen und die Welle samt Lagern entnehmen. Das Lagerspiel wird über die untere Lagerbefestigung eingestellt.
`}),e.add({id:12,href:"/labathome.de/maschinenbau/tooling/",title:"Maschinenzubehör",section:"Mechanical Engineering",content:` Aufspannwürfel # Da ich mein neues Elektrodenschweißgerät (ein altes Dalex TK 29/42) gerne ausprobieren wollte, habe ich mir mal den neulich vorgestellten Aufspannwürfel vorgenommen.
Zunächst einmal Rohmaterial zurechtflexen:
Das Rechteckrohr hat einen Querschnitt von 40x80mm, 40mm lang. Die Platten sind 80x120mm, 12mm dick.
Dann wurden die Teile mit 3,25mm-Elektroden bei ca. 130A verschweißt. Bei dem dicken Blech bin ich etwas über die Stromempfehlung von 120A des Elektrodenherstellers gegangen.
Die Teile wurde dann auf dem Klopp von der Walzhaut befreit:
Praktischerweise passen die Pratzen vom Schleifschraubstock auch zu diesem Aufspannklotz.
Es folgte nach dem Schruppen der Unterseite das Schlichten mit einem Schälmeißel:
Auf der Messplatte ergab sich dann allerdings folgendes Bild:
Scheinbar haben sich durch den Hitzeeintrag beim Schweißen doch Spannungen im Blech gebildet, die jetzt hervortreten.
Ich dachte zuerst, dass durch mehrfaches Umdrehen und wechselseitige Bearbeitung der Verzug wegzubekommen sei. War aber offensichtlich leider nicht der Fall\u0026hellip;
Die Fläche ist gleichmäßig geneigt. Leider hat der \u0026ldquo;rocker test\u0026rdquo; (s. Connelly; das Teil an verschiedenen Ecken im Kreis rumschubsen und schauen, ob es sich um einen gemeinsamen Punkt dreht) ergeben, dass die Unterseite eine Beule in der Mitte hat. Eine Messung für die Seite kommt noch.
Bevor ich mir jetzt jedoch einen Wolf schabe, wird das Teil geglüht.
Passt sogar glücklicherweise in den Ofen:
Der braucht allerdings endlos zum hochheizen, das wollte ich heute Abend dann nicht mehr anfangen. Vielleicht am Wochenende\u0026hellip;
Nutensteine # Ich hab den Nachmittag in der Werkstatt verbracht und herausgekommen ist eine Leiste, aus der ich mir nach Bedarf Nutensteine für die CNC-Fräse oder die Stoßmaschine herstellen kann.
Im ersten Schritt habe ich das Rohmaterial, irgendwas Warmgewalztes, rundherum plan und halbwegs winklig gefräst:
Dann die Breite auf 24mm und die Höhe auf 22mm abgefräst. Der Nutengrund ist 25mm breit und 10mm hoch, die Nuten selber 14mm hoch und 14mm breit. Die Oberkante des Nutensteins steht dann ein paar mm unter der Aufspannfläche. So habe ein schön langes Gewinde und muss mir keine Sorgen machen, dass in dem möglicherweise weichen Stahl die Spannbolzen rausreißen.
Ich hatte zuerst mit einem älteren 16er Schlichtfräser angefangen; der neue gekordelte Schruppfräser zieht sich dagegen durchs Material als wäre es Butter:
Hier geht es jetzt schon an das Vorschruppen der T-Form. Da dies der erste richtige Einsatz für die Fräse ist seit sie bei mir steht, habe ich sehr vorsichtig mit der Zustellung angefangen. Angenehmerweise konnte ich alles im Gleichlauf fräsen.
Auf der anderen Seite habe ich dann direkt 12mm in der Höhe und 5mm in der Breite zugestellt. Die Maschine kratzt das nicht weiter, der Fräser schmatzt sich da genauso durch wie bei geringerer Zustellung. Geschruppt wurde mit 800 Upm und 100\u0026hellip;200 mm/min Vorschub.
Geschlichtet wurde dann wieder mit dem alten Schlichtfräser bei 630 Upm, 100 mm/min Vorschub:
Die Oberfläche kann sich sehen lassen:
Wenn man zu genau arbeitet, passt es auch nicht besser\u0026hellip; Insgesamt musste ich die Breite des Nutgegenstücks von 13,99 auf 13,90 verringern, weil aufgeworfene Grate von unpassenden Nutensteinen in der Vergangenheit der Maschinen und Dreck die neue Leiste haben sich verklemmen lassen. Jedes Mal neu ausrichten, ankratzen, messen und die nächsten 2/100 mm runter\u0026hellip; Es war dann keine Tat mehr, auch nach unten hin noch 5/10 mm Platz zu schaffen, damit die Nutensteine auch am Klopp verwendbar sein werden:
Das ist dann der Endstand für heute:
Der Rohling ist jetzt ca. 400 mm lang. Verplant sind bis jetzt 8 Stk. mit 30 mm Länge, davon 4 mit M10 und 4 mit M6. Der Rest wird sicherlich nochmal nützlich sein\u0026hellip;
Tuschierlineal # Nachdem ja scheinbar in halb Deutschland geschabt wird, wollte ich auch mitspielen. Nach und nach also die notwendige Ausrüstung zusammengesucht/-gekauft:
und einfach mal losgelegt:
Aber weil plane Flächen ja schnell langweilig werden, wollte ich gerne auch Schwalbenschwänze (z.B. am Oberschlitten einer Drehbank) schaben können. Dazu muss also ein Tuschierlineal her!
Auf dem Schrottplatz habe ich dann folgendes Gussteil gefunden:
Daraus will ich mir zwei Lineale, ein kleines und ein großes, machen:
Also erstmal feucht-fröhlich mit der Flex frisieren und zerhackstückeln:
Dann ab auf den Klopp und vorschruppen:
Gegen Ende, der Schlichtgang:
Die Ringelspäne kommen vom Schlichten mit einem schräg angeschliffenen Meißel mit sehr großem Radius:
Fertig zum Schaben:
Jetzt muss ich mir erst noch eine größere Tuschierplatte mit mindestens 500mm Kantenlänge besorgen, auf der kleinen (s.o. im Bild) wird dat nix mehr.
Aber warum warten? Also hab ich mir eben nochmal den Schaber geschnappt, die Platte eingebläut und losgelegt. Da beim ersten Tuschieren noch nix zu sehen war, hab ich erstmal ein paarmal grob rübergeschruppt. Leider habe ich ja noch keine ausreichend große Tuschierplatte und auch kein langes Haarlineal, also ist das Ergebnis möglicherweise ungenau. Ich habe also auf meiner 300x200mm-Platte diagonal tuschiert, aber schaut selbst:
Im Detail:
Etwa 4 Durchgänge später:
Noch später:
Endstand heute:
Der \u0026ldquo;Rocker Test\u0026rdquo; sagt auch, dass das Teil in der Mitte einen Buckel hat. Leider kann ich mit meiner Platte auch diagonal nur ca. 330mm sinnvoll tuschieren, das Lineal hat aber etwa 480mm\u0026hellip;
Na ja, bald bekomme ich wahrscheinlich eine größere Platte, dann ist das kein Problem mehr.
Übrigens kann man auf den Bildern schön die spitzen, länglichen Schabespäne sehen. Da drängt sich die Vermutung auf, dass das Teil aus Temperguss ist. GG macht ja eher Krümelspäne. Graphit und damit schwärzeste Hände kriegt man allerdings von beidem, wie ich feststellen durfte.
`}),e.add({id:13,href:"/labathome.de/about/",title:"About this website",section:"Welcome",content:"This website is created using the Hugo static website generator.\nI chose the hugo-book theme.\nYou can contact me via email: jonathan.schilling@mail.de\nTest some $inline$ math: $$E = m c^2$$\n"}),e.add({id:14,href:"/labathome.de/elektrotechnik/transputer/amv_b1/",title:"AVM B1",section:"Transputer",content:` AVM B1 # Der AVM B1 ist ein aktiver ISDN-Controller und bis Version 2.0 für den ISA-Bus gebaut. Bis Version 3.0 wird ein Transputer vom Typ T400 verwendet.
Auf der linken Seite der Karte findet sich ein kleines Transputer-System mit 1MB RAM sowie einem TRAM-ähnlichen Erweiterungsinterface. Rechts unten auf der Karte sitzt der C011, der auf den 4 jumperbaren Adressen vom ISA-Bus aus angesprochen werden kann. Der C011 ist auf der B1 fest auf Link 0 des T400 verdrahtet. Die Links sind von AVM auf der Platine auf 10MBit/s verdrahtet.
An diesem B1 habe ich nun einige Modifikationen vorgenommen:
Zuerst wurde die Linkgeschwindigkeit des C011 auf 20MBit hochgesetzt:
Dazu wird Pin 17 mittels eines spitzen Werkzeugs, ich habe hier eine feine Messspitze verwendet, hochgebogen und auf +5V verdrahtet, z.B. Pin 28 des C011.
Nun muss natürlich auch die Linkgeschwindigkeit des T400 angepasst werden:
Das ist leider ein bisschen kniffliger, da der T400 einen noch geringeren Pinabstand besitzt als der C011. Es müssen die Pins 8, 9 und 11 hochgebogen und auf +5V gelegt werden, z.B. an dem 1µF-Kondensator, der direkt neben dem T400 aufgelötet ist und zur Pufferung der internen Versorgungsspannung des Link-Interfaces vom T400 dient.
Weiterhin ist es, wie sich später zeigen wird, praktisch, den RESET-Pin auch am Erweiterungsbus anliegen zu haben. Der Pin 2 ist für die Funktion des B1 nicht weiter von Belang und kann daher an der markierten Stelle durchtrennt werden und mit einem Draht an Pin 92 des T400, resp. einer nahen Durchkontaktierung, angelötet werden.
Die Pinbelegung, soweit ausgemessen, des Erweiterungsbusses ist dann wie folgt:
Pin Bedeutung Pin Bedeutung 1 ? 11 ? (PAL) 2 RESET 12 ? (PAL) 3 ? (82525) 13 GND 4 ? (82525) 14 GND 5 ? (82525) 15 GND 6 ? 16 GND 7 ? 17 GND 8 Link1Out 18 +5V 9 Link1In 19 +5V 10 ? 20 +5V Spätestens jetzt sollte mit ispy überprüft werden, ob die Karte noch korrekt arbeitet und falls nicht, mit der Fehlersuche begonnen werden.
Es mag sich nun der eine oder andere fragen, wozu all diese Modifikationen durchgeführt werden sollen.
Da der B1 sich auf Adr. 0x150 ansprechen lässt und sich darauf wie eine Inmos B004 Transputer-Entwicklungskarte verhält, bietet der B1 daher eine sehr günstige und direkte Transputer-Einstiegskarte. Wenn nun Link 1, der auf den Erweiterungsbus gelegt ist (s.o.), nach \u0026ldquo;draußen\u0026rdquo; führt, kann man dort weitere Transputer(netze) anschließen, z.B. den AVM T1(-B, wenn vorhanden).
Dazu braucht es jedoch einen RS-422-Konverter, der auf den B1 aufgesteckt wird:
Bei Maxim bekommt als kostenlose Samples zwei MAX3467. Es handelt sich dabei um RS-422-Konverter für bis zu 40MBit/s, also mehr als ausreichend für die Transputer-Links. Diese werden nun anhand der nachfolgenden Schaltskizze verdrahtet, am besten auf einer Lochraster-Platine. Der 15-pol. D-SUB-Stecker ist dabei kein Muss, aber da ich für die Verbidung zum T1 das originale Kabel verwende, habe ich hier einen verwendet. Das Pinout des Kabels findet sich, ebenso wie weitere Informationen zum T1, auf der entsprechenden Unterseite.
`}),e.add({id:15,href:"/labathome.de/elektrotechnik/transputer/avm_t1/",title:"AVM T1",section:"Transputer",content:` AVM T1 # Der AVM T1 ist ein ISDN-Controller, der in den 90ern des letzten Jahrhunderts dazu diente, Server mit ISDN-Anschluss von der Last der ISDN-Verwaltung zu befreien. Ähnliche Geräte oder Steckkarten für PCs bauten auch andere Firmen, wie z.B. Hermstedt und Eicon. Gemeinsamer Nenner aller dieser \u0026ldquo;interessanten\u0026rdquo; Geräte ist, dass sie teilweise mehrere eigene Mini-Computer mit eigenem Prozessor, eigenem RAM und eigener Peripherie \u0026ldquo;an Bord\u0026rdquo; haben. Dieser Ansatz war damals vermutlich günstiger, als spezielle ASICs für jede Einzelentwicklung herzustellen.
Beim Start des Rechners wurde meißt der Prozessor angehalten, sodass der Host-PC ungestörten Zugriff auf das RAM des Mini-Computers hatte. Sodann lud der Treiber die Firmware in das RAM der Karte/des Geräts und startete den Prozessor. Über z.B. dual-ported-RAM wurde dann die Kommunikation und der Datenaustausch zwischen Host und Mini-Computer abgewickelt.
Der AVM T1 verwendet in erster Ausbaustufe (\u0026ldquo;T1\u0026rdquo;) 3 Transputer (zwei T400, ein T425) mit insgesamt 9MB D-RAM und verfügt zusätzlich über den Munich32-ISDN-Controller. Der \u0026ldquo;T1-B\u0026rdquo;, bei dem das \u0026ldquo;B\u0026rdquo; für Booster Board steht, verfügt über 4 weitere Transputer vom Typ ST20450 mit je 2MB D-RAM, sodass dieses Gerät dann insgesamt über 7 Transputer mit 17MB D-RAM verfügt.
Als ich auf der exzellenten Seite www.geekdot.com vom T1 las, war mein Interesse geweckt. Ich hatte vorher schon vom Konzept des Transputers gehört, aber das was ich dort sah, versprach ein ähnliches Erlebnis wie die Leonardo XL zu werden.
Als ich meinen ersten T1 dann von eBay bekam, habe ich zuerst das Gehäuse geöffnet und mal die Platinen begutachtet. Die Bezeichnungen der Bauteile decken sich mit denen, die Axel Muhr auf seiner Seite zum T1 verwendet.
Die Transputer auf der Platine sind so verdrahtet, wie auf folgendem Schema zu sehen ist:
Ein Kästchen ist jeweils ein Transputer bzw. größerer Chip, die Zahlen an den Kanten der Transputer bezeichnen den jeweiligen Link.
Die Interface-Beschaltung rund um den \u0026ldquo;Host Con\u0026rdquo; und den \u0026ldquo;Diag Con\u0026rdquo; ist auf folgender Zeichnung zu sehen. Hier gibt es den EAGLE-Schaltplan, aus dem das Bild generiert wurde und hier die dazugehörige EAGLE-Lib mit AM26C31 und AM26C32.
Die Bezeichnungen der Widerstände und Dioden im Schaltplan sind nach folgenden Bildern gemacht:
Meinen Messungen nach ist an jedem Error-Ausgang der Transputer eine kleine grüne LED nach Masse angeschlossen. Die Anschlussbelegung des \u0026ldquo;BB-Con\u0026rdquo;, der Verbindung zum Booster-Board, ist hier aufgezeichnet:
und hier gibt es den EAGLE-Schaltplan dazu.
In der Frontplatte des T1 sitzt eine lange Platine, die die Front-LEDs sowie ein paar Schieberegister trägt. Es handelt sich dabei um 5 Stk. 74HC595. Die Platine besitzt zwei Stecker, einen für die Stromversorgung und einen, über den die Daten gehen. Die Belegung des Stromversorgungsstecker ist folgende:
Pin Bedeutung 1 n.c. 2 +5V 3 GND 4 n.c. Die Power-LED ist über einen 470 Ohm-Widerstand direkt an +5V angeschlossen. Die Belegung des Datensteckers ist weiterhin:
Pin Bedeutung Ziel Pin 1 n.c. 2 n.c. 3 n.c. FPGA1 17 4 /OE aller HC595 FPGA1 67 5 n.c. FPGA1 20 6 Data In, Reihenfolge s.u. FPGA1 30 7 Storage Clock (STCP) FPGA1 46 8 Shift Clock (SHCP) FPGA1 33 9 n.c. 10 n.c. Das anzuzeigende Muster wird zunächst seriell in den Anschluss \u0026ldquo;Data In\u0026rdquo;, Pin 6, geladen, wobei Pin 8 (Shift Clock) als Takt verwendet wird. Dann wird mit einer steigenden Flanke an Pin 7 (Storage Clock) das gelesende Muster in die Ausgangs-Register übernommen. Wenn nun /OE (Pin 4) auf Low gezogen wird, wird das Muster angezeigt.
Die Reihenfolge der LEDs ist folgende:
Zuerst in LEDs 1 bis 30, dann die System LED, dann die D-Channel-LED und zuletzt die Sync-LED. Als nächstes ist noch herauszufinden, wie die Daten von einem der Transputer auf die Front-Schnittstelle gelangen.
Nach einiger Zeit sah ich bei eBay einen weiteren T1, der diesmal mit der PC-Interface-Karte verkauft wurde. Für schmales Geld wechselte er den Besitzer und hier sehen Sie ein Bild der ISA-Interface-Karte für den T1:
Es handelt sich hierbei offensichtlich um eine Karte, die nicht von AVM entworfen wurde. Vielmehr scheint hier die Firma hema Elektronik GmbH ihre Finger im Spiel zu haben, denn zum Stichwort \u0026ldquo;hema TA2\u0026rdquo; (siehe die obere rechte Platinenecke) finden sich Verweise auf eine \u0026ldquo;ISA zu RS422-Link-Adapter-Karte\u0026rdquo;. Interessant an der Karte ist, dass sie neben je einem Inmos C011 und C012 einen Xilinx CPLD beherbergt, der offensichtlich für die Verwaltung des \u0026ldquo;Linkbus\u0026rdquo; (lt. Platinenaufdruck auf der Unterseite) zuständig ist. Mal sehen, was sich dahinter verbirgt\u0026hellip;
Ansonsten sind auf der Karte noch 4 TRAM-Steckplätze vorhanden, wobei ich noch nicht ausgemessen habe, wie die untereinander und mit den C011/C012 verschaltet sind.
In dem 8-poligen DIL-IC mit dem Aufkleber \u0026ldquo;V1A\u0026rdquo; steckt ein Two-Wire-PROM von Xilinx, dass vermutlich die Konfiguration des XC3030A-CPLDs enthält. Wenn man dies entschlüsselt bekäme, wäre es vermutlich möglich, den Aufbau des Linkbus zu verstehen und eine Anwendung dafür zu finden\u0026hellip;
21.03.2013: Update # Die Belegung des Verbindungskabels zwischen T1 und Hostcard ist wie folgt:
Pin-Nr. T1 (D-Sub 9) Pin-Nr. TA2 (D-Sub 15) 1 15 2 n.c. 3 11 4 n.c. 5 1 6 7 7 3 8 6 9 9 Abschirmung Abschirmung, 2 n.c. 4 n.c. 5 n.c. 8 n.c. 12 n.c. 13 Im DOS-Treiber zum AVM T1 gibt es ein Programm names CTA2.EXE, das in diesem Zusammenhang von Interesse ist. Allein der Name lässt schon auf die Funktion schließen: Control TA2. Dadurch fand ich heraus, dass diese Karte einiges mehr kann, als ich zuerst vermutete: Es gibt ja den C011 und den C012. Der C011 wird als \u0026ldquo;Fast Link\u0026rdquo; bezeichnet, der über die beiden FIFO-RAMs gepuffert wird. Der C012 wird als \u0026ldquo;Slow Link\u0026rdquo; bezeichnet und verfügt über keinen FIFO. Der \u0026ldquo;Slow Link\u0026rdquo; ist fest auf die untere 15-polige D-Sub-Buchse, als \u0026ldquo;CON4\u0026rdquo; bezeichnet, geschaltet. Die obere Buchse, als \u0026ldquo;CON2\u0026rdquo; bezeichnet, kann wahlweise auf die TRAMs/den Linkbus oder den C011 geschaltet werden, und zwar per Software. Weiterhin lässt sich per Software die Linkgeschwindigkeit der C011/C012 und der TRAMs einstellen. Darüberhinaus bietet CTA2.EXE die Möglichkeit, die externen Anschlüsse zu testen. Das lässt sich natürlich prima dazu verwenden, die geratene Pinbelegung zu verifizieren:
Pin Bedeutung 1 pos. RS-422 LinkIn 9 neg. RS-422 LinkIn 7 pos. RS-422 LinkOut 15 neg. RS-422 LinkOut 3 pos. RS-422 /Reset Out 11 neg. RS-422 /Reset Out 4 pos. RS-422 /Error In 12 neg. RS-422 /Error In 5 pos. RS-422 /Analyse Out 13 neg. RS-422 /Analyse Out 8 +5V, wenn J-VCC2/4 auf \u0026ldquo;ON\u0026rdquo;, n.c. wenn auf \u0026ldquo;OFF\u0026rdquo; 2 GND 6 GND 10 GND 14 GND Dazu wird ein 15-pol. Stecker mit folgender Belegung gebraucht:
Test Nr. Verbindung Pins 1 LinkIn \u0026lt;\u0026ndash;\u0026gt; LinkOut 1 \u0026ndash; 7 1 LinkIn \u0026lt;\u0026ndash;\u0026gt; LinkOut 9 \u0026ndash; 15 2 /Reset \u0026lt;\u0026ndash;\u0026gt; /Error 3 \u0026ndash; 4 2 /Reset \u0026lt;\u0026ndash;\u0026gt; /Error 11 \u0026ndash; 12 3 /Analyse \u0026lt;\u0026ndash;\u0026gt; /Error 5 \u0026ndash; 4 3 /Analyse \u0026lt;\u0026ndash;\u0026gt; /Error 13 \u0026ndash; 12 Damit lässt sich nun auch die Belegung der TTL-CON-Stecker auf der Karte bestimmen:
Pin Bedeutung 1 LinkIn 2 GND 3 GND 4 LinkOut 5 /Error In 6 /Analyse Out 7 GND 8 /Reset Out 9 +5V 10 +5V Als nächstes habe ich dann die Verschaltung der TRAM-Sockel ausgemesse, wobei dies noch nicht abgeschlossen ist. Die blauen Kästchen sind jeweils ein Slot, die Zahlen an den Kanten markieren die Link-Nr. der jeweiligen Verbindung.
`}),e.add({id:16,href:"/labathome.de/elektrotechnik/leonardo_xl/",title:"Leonardo XL PCI",section:"Electrical Engineering",content:` Leonardo XL PCI # Sie werden den älteren Mac-Benutzern wohl bekannt sein: die Leonardo-ISDN-Karten der (inzwischen insolventen) Firma Hermstedt.
Durch Zufall entdeckte ich in einer eBay-Auktion eine Leonardo XL-PCI V1.3, die augenscheinlich einen 68000er enthielt. Das musste sofort untersucht werden!
Also flugs das Teil für ein paar Euro zusammen mit einer Pentium I-PC-Compatibility-Card für PowerMacs geordert und analysiert:
In diesem Bild sind die ISDN-Übertrager bereits heruntergelötet, um die Sub-D-Buchsen für andere Zwecke verwenden zu können. Ebenfalls wurde bereits ein Stück Präzisionssockel für J7 eingelötet, um das Config-EEPROM auslesen zu können und man kann das grüne Kabel sehen, dass den ehemals unbelegten Pin am Erweiterungsport mit dem Pin A23 des 68HC001 verbindet, um den gesamten Addressraum von 16MB am Erweiterungsport zur Verfügung zu haben.
Es handelt sich dabei um ein komplettes 68k-System mit folgenden Komponenten:
Komponente Funktion Bezeichnung auf der Karte HAL-9001-MW-95 FPGA für PCI-Interface IC1 AT17C65 I²C-EEPROM (24Cxx-komp.) für FPGA-Config IC2 MC68HC001FN16 16MHz-68000er mit 8/16-Bit Bus IC3 KM681000BLG-7 2 Stk: 128kx16 SRAM IC4(ODD), IC5(EVEN) MC68681FN DUART mit Quarz 3.686MHz IC6 PEB2086N ISAC (ISDN-Controller) IC7, IC9 SAB82525N HSCX (SCC) IC8, IC10 grüne LED eine grüne LED am Pin OP6 von IC6 D25 Des weiteren verfügt die Karte über einen Erweiterungsbus, der dem PDS der älteren Macs ähnelt.
Soweit ich ihn ausgemessen habe, hat er die in diesem Calc-Dokument hinterlegte Belegung.
Dann hat sich mittels einer Sitzung mit PonyProg und einem fliegenden Aufbau der SI-Prog-Hardware das Config-EEPROM geöffnet und folgende Konfigurationsdatei ausgespuckt:
FPGA-Config-EEPROM als Binary FPGA-Config-EEPROM als Textzeile Leider ist mir völlig unklar, um was für ein FPGA es sich hierbei handeln könnte und meine diesbezüglichen Anfragen an die Firma GAFICON, die in DE den Vertrieb für die Firma Pro2Col, den Aufkäufer von Hermstedt, übernimmt, blieben noch unbeantwortet.
Dann war es an der Zeit, mal ein bisschen mit der Software herumzuspielen. Die Originaltreiber bekommt man immer noch mittels der Wayback Machine von einem Backup der Hermstedt-Seite. Ich habe mir dann den Windows 95-Treiber heruntergeladen und mal entpackt. Es finden sich ein paar unwichtige Dateien, aber auch ein paar Binaries, z.B. die Dateien HermWAN.sys und LeoFW.bin.
Insbesondere der Name der letzten Datei hat bei mir heftigste Assoziationen hervorgerufen :-). Also mal im Hex-Editor angeschaut: In den ersten beiden 32-Bit-Worten stehen die Werte 0x400 und 0x4AC, wobei in der Datei ab 0x400 der Code losgeht. Wie man aus dem 68000-User-Manual weiß, sind das der Initial Program Counter und Supervisor Stack Pointer! Damit ist schon mal klar, dass diese Datei offensichtlich \u0026ldquo;unten\u0026rdquo; in das On-Board-RAM geladen und von dort direkt gestartet wird. Ausserdem ist bekannt, dass an den Adressen von 0x8 bis 0x3FC die Exception Table steht. Sie liegt somit vollständig im RAM und kann daher bei Verwendung eigener Firmware beliebig verändert werden! Sehr praktisch\u0026hellip;
Also habe ich die Firmware mal durch IDA Pro gejagt, und siehe da, man hat vor dem Hochladen des Treiber vergessen, die Debug-Symbole in der Firmware zu entfernen :-). Also ist es ein leichtes, die Funktionen zuzuordnen und ein kommentiertes Listing zu erstellen: Firmware-Disassembly.
Ebenfalls der Windows-Treiber HermWAN.sys wurde nicht von den Debug-Symbolen bereinigt, sodass dieser ebenfalls gegenüber IDA Pro machtlos ist. Da es sich hierbei um x86-Code handelt, funktioniert sogar HexRays Decompiler, um Pseudocode zu erstellen :-).
Das Interessanteste an dem Windows-Treiber ist die Möglichkeit, mittels SoftICE, einem Windows-Debugger, sich dann beim Laden des Treibers beim Rechnerstart einzuklinken und mit einem Oszilloskop am Reset-Pin des 68HC001 zu schauen, was in welche Register geschrieben werden muss, um den Reset zu deaktivieren und den 68HC001 zu starten. Da der Reset-Pin auf den Erweiterungsport geführt ist, muss man dazu nicht mal an der Karte selbst rumlöten :-).
So und mittels lspci von Linux findet man dann raus, dass die Karte 1MByte des PCI-Adressraums belegt und die Control-Register in den oberen 512kByte, genauer ab 0x80000 im Karten-Adressraum, liegen.
Damit lässt sich schon mal ein Linux-Kernel-Modul schreiben, dass beim Laden den Reset deaktiviert und beim Entladen ihn wieder aktiviert: leodrv. Im Quellcode finden sich auch Angaben zu der genauen Position der Register.
Das ist im Moment der Stand der Dinge; Weiteres folgt sobald wieder Zeit für dieses interessante Projekt vorhanden ist.
`})})()