'use strict';(function(){const b={cache:!0};b.doc={id:'id',field:['title','content'],store:['title','href','section']};const a=FlexSearch.create('balance',b);window.bookSearchIndex=a,a.add({id:0,href:'/labathome.de/elektrotechnik/high_voltage/25kv_transformer/',title:"25kV Transformer",section:"High Voltage",content:"25kV-Transformator #  Ich lese immer wieder, wie \u0026ldquo;unmöglich\u0026rdquo; und \u0026ldquo;mit Hausmitteln nicht machbar\u0026rdquo; der Bau eines Hochspannungstrafos doch wäre. Daher möchte ich gerne hier den Bau meines 25kV-Trafos mit 2.4kVA vorstellen. Ich habe diesen Trafo mit freundlichen Unterstützung eines Dipl.-Ing. der Ostfalia in Wolfenbüttel, wo ich damals wohnte, gebaut. Das war in der Zeit vom Dezember 2010 bis etwa März 2011.\nHier ist er mal zu sehen:\nDie technischen Daten sind folgende:\n   Kenngröße Kenndaten     Primärspannung 250V   Primärwicklung 177 Wdg. (CuL 2.0mm)   Sekundärspannung 25kV, einseitig geerdet   Sekundärwicklung 17466 Wdg. (CuL 0.224mm)   Nennleistung 2.4kVA   Kern UI210, 141 0.5mm-Bleche    Die Primär- und Sekundärwicklung sind auf verschiedenen Schenkeln gewickelt. Das hat den Vorteil, dass man Lichtbögen ziehen kann und keine Strombegrenzungsdrossel wie bei Messwandlern braucht. Bei Betrieb als Netztrafo für eine funkenstreckengesteuerte Teslaspule (SGTC, wie die meißten sagen) tritt netterweise auch noch durch Resonanz mit dem Primärkondensator eine Spannungsüberhöhung auf, die bei einem \u0026ldquo;hart gewickelten\u0026rdquo; Trafo (Primär- und Sekundärwicklung übereinander) sehr viel stärkere Rückwirkungen ins Netz hat.\nKern #  Es handelt sich um einen UI210-Kern, also mit einem Wickelfenster von 70x210mm. Bei 141 Blechen mit 0,5mm Dicke ergibt sich ein Kernquerschnitt von ca. 7x7cm = 49cm². Anhand einer Faustformel lässt sich daraus die zu erreichenden Leistung abschätzen: Man nimmt einfach den Kernquerschnitt in cm² ins Quadrat und erhält die ungefähre Nennleisung in VA, in diesem Fall also 49² = 2401 VA ~ 2.4kVA. Der Kern wurde später wechselseitig geschichtet, mit einem Holzhammer glattgeklopft und zwischen Buchenleisten verschraubt. Dabei ist darauf zu achten, dass kein elektischer Kontakt zwischen den Gewindenstangen/Schrauben und dem Kern auftritt, um Wirbelströme zu vermeiden. Weiterhin musste ich darauf achten, mit den Handgriffen keine Kurzschlusswindung zu erzeugen. Die schwarzen Handgriffe sind daher Vollmaterial, in das auf jeder Seite auf der Drehbank ein M10-Gewinde geschnitten habe. Die Hutmuttern sind dann jeweils mit kurzen Gewindestücken festgeschraubt.\nDie Firma, von der ich mir die Kernbleche geholt habe, heißt Bausch und hat ihre Internet-Seite hier: http://www.bausch.de\nPrimärwicklung #  Die Primärspannung sollte 250V betragen, da dies die maximale Ausgangsspannung meines Stelltrafos ist. Bei der Nennleistung von 2,4kVA bedeutet dass, das ein Strom von ca. 10A fließt. Bei einem maximalen Strom von 3A pro mm² Drahtquerschnitt kann ein 2mm-Draht mit 1² * Pi * 3A = 9,5A belastet werden. Ich denke, dass das reichen sollte, da der Trafo eben nicht im Dauerbetrieb laufen soll.\nDie Windungsanzahl habe ich nach der Formel $$ N = \\frac{\\sqrt{2} \\cdot U}{2 \\pi f \\cdot A \\cdot B} $$ mit U der Primärspannung, B = 1.3 T der Flussdichte im Kern, A = 0.0049 m^2 und f=50Hz der Netzfrequenz berechnet.\nDadurch kann der Draht in zwei Lagen gewickelt werden, was für die Wärmeabfuhr auch günstiger ist. Zum Wickeln wurde mit zwei Malerböcken eine stabile Wickelvorrichtung gebaut, die mit einem 6-fach-Drehstern mit ca. 40cm Durchmesser (aus Holz) gedreht werden konnte. Über eine kugelgelagerte Achse wurde dann ein Hartholzklotz angetrieben, der genau den Maßen des Kerns entsprach. Die Wickelvorrichtung habe ich dann an einem sonnigen Tag an einem Baum im Garten festgebunden, den Draht befestigt und gegen das Gewicht eines Helfers, der sich mit seinem Gewicht an den Draht hängt, die Primärwicklung aufgebracht.\nWickelkörper #  Der genannte Hartholzklotz wurde eingeölt, sodass kein Kleber mehr an ihm haftet. Dann habe ich aus 1mm-Pertinax Platten gesägt und diese um den Klotz mit Uhu Endfest 300 geklebt. Nach dem Trocknen konnte man den Holzklotz mit einem beherzten Schlag entfernen. Damit der Draht beim Wickeln nicht geknickt wird, habe ich an den Seiten, die nicht im Wickelfenster oder unten unter dem Trafo sind, Balsaholz-Backen aufgeklebt, jeweils ca. 30mm. Diese habe ich dann abgefeilt und geschmirgelt, damit sich der Draht schön anschmiegen kann. Beim Wickeln wurde der Draht jeweils noch mit doppelseitigem Klebeband auf dem Balsaholz und (bei der zweiten Lage) auf der unteren Lage fixiert. Da zwei Lagen gewickelt wurden, endete die Wicklung auf derselben Seite, wo sie angefangen hatte.\nEin Stück Isolierschlauch auf die beiden Drahtenden gesteckt verhindert das Zurückschnellen des Drahtes. Zusätzlich habe ich dann den unbewickelten Rand (im Foto gelb schimmernd) mit Epoxidharz vergossen: Ein Streifen Paketklebeband auf die Wicklung und die Primärspule auf die Seite gelegt und schon konnte das Harz eingegossen werden. Die ganze Wicklung wurde dann noch mit Schelllack lackiert.\nSekundärspule #  Ich wollte einen Trafo für 25kV haben, also stand nach obiger Formel die Windungsanzahl mit ca. 17000 bereits fest. Eine Lage sollte eine Dicke von 1mm haben, d.h. für die Isolierung blieben noch ca. 0,75mm übrig. Diese wurden durch 3 Lagen einer 0.19mm starken PE-Isolierfolie mit einer Durchschlagsfestigkeit von ca. 100kV/mm gebildet. Die Isolierfolie wird unter dem Namen Hostaphan vertrieben. Die genaue Bezeichnung der Folie, die ich verwendet habe, lautet RN 190 und gibt es bei der W.Bath GmbH zu kaufen: http://www.bathgmbh.de/polyesterf.htm\nEs wird eine Durchschlagsfestigkeit von 100kV/mm angegeben. Ich hatte eine Rolle von 50m bei 600mm Breite, das sind 8,4kg. Den Verbrauch sieht man der Rolle aber nicht wirklich an; ich vermute mal, dass auf dem Trafo ca. 6m verbaut sind.\nDer Spulenkörper wurde analog zum Primärwickelkörper gebaut, jedoch wurden die Balsabacken hier nur mit ca. 10mm Breite ausgeführt. Der innere Spulenanschluss ist als ein Stück Kupferfolie ausgeführt, die vor Wickelbeginn auf den Wickelkörper geklebt wurde und beim Wickeln zwischen dem Hartholzklotz und dem Wickelkörper steckte. So habe ich verhindert, dass sich da was vertüddelt.\nDaran wurde dann der Draht angelötet und mit dem Wickeln begonnen. Bei diesem Trafo bin ich folgendermaßen vorgegangen:\n Eine Lage wickeln Spulenkörper festsetzen, ich habe hier ein M10-Gewinde in den Hartholzklotz geschnitten, in das eine Schraube durch ein Loch in der Flanschplatte der Wickelvorrichtung geschaubt wurde. mit Schelllack einpinseln, evt. vor 2., je nach Zugänglichkeit in der Wickelvorrichtung Isolierfolie drumwickeln Isolierfolie mit den Handen strammziehen, \u0026ldquo;drumstreichen\u0026rdquo;. Durch den Schelllack haftet die Folie an der Wicklung. Wenn man jetzt die Folie um die Wicklung 3 mal herumgeschlungen hat, kann man mit den flachen Händen durch Haftreibung die Folie noch ein bisschen enger festziehen. Dadruch erst geht die meißte Luft aus der Wicklung ! Folie mit Tesa o.ä. festkleben und an der Seite einen kleinen Ausschnitt (ca. 3mm Breite) bis an den Wicklungsanfang einschneiden. Dieser Einschnitt sollte wirklich herausgetrennt werden, da sonst beim Festziehen der Draht abgeschert werden könnte. Dann kann die Schraube zum Festsetzen wieder gelöst werden und die nächste Lage beginnt.  Schelllack habe ich verwendet, weil ich mir bei dem sicher war, dass er auf Grund seines natürlichen Ursprunges nicht die Lackschicht des Drahtes angreift und beim Ausdünsten so dermaßen klebrig wird, dass er vernünfitig an der PE-Folie klebt und nicht abperlt.\nWickelvorrichtung #   Alle Achsen sollten (für die Sekundärwicklung: müssen) kugelgelagert sein. Ich habe die Achsen aus M10-Gewindestangen gemacht und daher 6000-2RS-Lager verwendet. Es muss peinlich genau darauf geachtet werden, dass alle Achsen parallel zu einander stehen und nicht eiern! Sonst kann es passieren, dass der Draht überspringt und die Wicklung wird fehlerhaft/muss wieder abgewickelt werden. Die Drahtrolle muss gebremst sein. Ich habe damals einen Pinsel genommen, der mit Laborklemmen fest an die Spule gedrückt wurde und sie so gebremst hat. Der Draht muss über eine Führungsrolle geführt werden. Das funktioniert folgendermaßen: Man nimmt ein Kabelschutzrohr aus Kunststoff z.B. mit 25mm Drm. und bewickelt es mit genau dem Draht, der auf die Spule später drauf soll. Der Draht wird an beiden Enden fixiert. Die Wickellänge sollte ca. 5cm mehr als die größte Wickelbreite der zu wickelnden Spule betragen. Auf diese Führungsrolle werden Papierringe gesteckt (am besten auch auf(nicht mit) ihr verklebt), die sich seitlich verschieben lassen. Diese Ringe dienen später als \u0026ldquo;Anschläge\u0026rdquo; und werden mit dem Lineal auf die Wicklungsbreite zurechtgeschoben. Die Führungsrolle befindet sich ca. 20cm vom Wickelkörper entfernt an zwei \u0026ldquo;Auslegern\u0026rdquo;/\u0026ldquo;Ohren\u0026rdquo; an der Wickelvorrichtung und ist ebenfalls kugelgelagert. Sie wird über einen Treibriemen synchron mit dem Wickelkörper angetrieben. Dazu eignet sich z.B. zu einem Ring verlötetes hochflexibles Messkabel. Es ist wichtig, dass sich der Riemen nicht dehnt, denn sonst käme es zu Wickelfehlern! Der Schelllack sollte in warmem Spiritus gelöst werden. Das dauert ungefähr 3 Tage für die notwendige Menge (ca. 200g) und ergibt weniger Krümel als wenn man es mit kaltem Spiritus versucht. Trotzdem sollte er vor Benutzung noch gefiltert werden, z.B. durch ein Teesieb o.ä. Vergesst Akkuschrauber, Motoren, o.ä. zum Drehen der Wickelvorrichtung. Die 17000 Windungen der Sekundärspule wurden von mir und besagtem Dipl.-Ing. in drei Tagen über Silvester 2010 von Hand gekurbelt. Bei dem dünnen Draht und der großen Vorratsrolle muss man das sehr feinfühlig angehen! Insgesamt sind ca. 2 kg Draht auf der Sekundärspule gelandet.  Verguss #  Die Lagenisolation der Sekundärspule steht an jeder Seite etwa 1cm über. Die Wickelbreite verjüngt sich alle 5 Lagen um ca. 1cm. Als Anschlusspunkt für die Sekundärwicklung habe ich mir ein Messing-Drehteil gemacht, im Wesentlichen ein Teller mit einem Pömpel drauf, in dem ein M10-Gewinde ist. Der Draht ist (nach einer großen Schlaufe, um bei einem ungewollten Abreißen des Anschlusspunkts noch was zum Anlöten zu haben) an den Teller gelötet. Dann ist der Teller mit doppelseitigem Klebeband auf die Lagenisolation geklebt. Als letztes kam dann noch eine Isolierlage drum herum, die wieder über die volle Breite ging und die oben je Lage ein Loch hatte, durch den der Pömpel ragte. Dadruch entstanden auf jeder Seite \u0026ldquo;Burggräben\u0026rdquo; mit dreieckigem Querschnitt, die zum Schluss, als der rausgelaufene Schelllack nicht mehr klebte und der Kern eingeschachtelt war, mit Vergussmasse aufgefüllt wurden. Der Kupferstreifen (innerer Sekundäranschluss) wurde zwischen Kern und Kernhalter (aus Buchenholz) eingeklemmt und dann auf eine Rampa-Mutter gelötet.Dort ist eine M4-Schraube eingeschraubt, an die man Drähte direkt klemmen kann. Zum Anschlusskasten führt ein auf den Streifen aufgelöteter Installationsdraht.\nHier ist noch ein Bild von dem Trafo. Man sieht den Kupferstreifen, der noch (vor dem Abschneiden) von außen über die Schrauben gelegt ist. Der Streifen ist bereits unter dem Holz einmal durchgelegt! Weiterhin sieht man den Isolierschlauch über den Primärdrähten und die zulaufenden Sekundärwicklung. Als der Trafo so weit zusammengebaut wurde, kam der o.g. Anschluss oben drauf und dann die letzte Lagenisolation. Die Vergussmasse floss dabei auch zwischen Kern und Wickelkörper (und unerwünschterweise dann unten raus). Das ist sehr wichtig, denn es darf sich keinerlei Luft zwischen Kern und Wicklung befinden, sonst gibt es dort (zumindest auf der dem Erdanschluss entgegengesetzten Seite, wo schon die einfache Lagenspannung anliegt) Korona-Entladungen, die die Isolierung stark schädigen. Aus demselben Grund muss der \u0026ldquo;Burggraben\u0026rdquo; ausgegossen werden.\nFertiger Transformator #  Kosten #  Hier ist eine ungefähre Aufstellung der Kosten:\n   Komponente Preis     Kernbleche 80 Euro   Isolationsfolie 200 Euro, allerdings noch Unmengen übrig   Primärdraht 10 Euro   Sekundärdraht 50 Euro   insgesamt ca. 350 Euro    Experimente #  Und das (und noch viel mehr) kann man mit einem solchen Trafo machen:\n"}),a.add({id:1,href:'/labathome.de/elektrotechnik/',title:"Electrical Engineering",section:"Welcome",content:"Electronics #  Auf dieser Seite geht es um meine erste große Passion, die Elektrotechnik.\nLos geht es mit einer Einleitung, wie ich zur Hochspannungstechnik kam.\nSchon in jungen Jahren interessierte ich mich für dieses Thema und lernte an der nahegelegenen Fachhochschule einen Ingenieur kennen, der dort zusammen mit einem Professor Experimentalvorträge der \u0026ldquo;alten Schule\u0026rdquo; zu Themen wie elektrischen Ladungen, Gewitterblitzen, Tesla-Strömen und der Geschichte der Elektrizität hielt.\nAngeregt und fasziniert von den spektakulären Versuchen baute ich, zunächst mit einigem Ungeschick, die gezeigten Experimente nach. Das war 2005. Im Laufe der Jahre entwickelten sich natürlich auch die Geräte weiter, aus Fehlern lernt man bekanntermaßen am besten.\nSo entstanden dann einige Tesla-Transformatoren und die Zubehör- und Betriebsgeräte, wie ein 20A-Steuerpult, sowie ein kleiner Stoßspannungsgenerator. Alle Geräte sind mit dem Ziel vor Augen entworfen und gebaut, transportabel und vorführbar zu sein. Gleichzeitig soll das äußere Aussehen allein bereits Zweifel an der Betriebssicherheit der Apparate zerstreuen, sodass alle Geräte mechanisch und elektrisch solide aufgebaut wurden.\nWeiter geht es mit dem Computerbasteln.\nUm im nach und nach entstehenden Elektronik-/Hochspannungslabor auch automatisierte Messungen vornehmen zu können und u.a. die Lichtanlage im \u0026ldquo;Partykeller\u0026rdquo; zu steuern, baute ich nach und nach Erweiterungen für den PC. So entstand z.B. nach einem Schaltplan aus einer Zeitschrift eine Schaltung, die, an den Parallelport des PC angeschlossen und per QBasic gesteuert, 8 Reed-Relais steuern kann und damit bsp. für die Umschaltung eines Messkanals verwendet werden kann.\nUnter Verwendung eines AD7874 entstand eine Schaltung zur Überwachung unserer defekten Heizungssteuerung. Der AD-Wandler wurde mit einer 71055-Karte im PC von einem Turbo-C-Programm angesteuert und die Messdaten zur weiteren Auswertung in eine Textdatei geschrieben.\nAllerdings erweckten auch andere Computer als die PCs mein Interesse, so unter anderem die SGI-Workstations, die 68000er-Familie von Motorola (die ich in Form von Würfelmacs und dem Atari ST kennenlernte), die Transputer in Form von AVM-ISDN-Geräten und den HD63484, von dem ich einige Stangen auf einem Bastlertreffen ergattern konnte. Auch die AVR-Mikrocontroller und neuerdings die ARM-Controller regten mein Interesse an. Nur im Menü zuletzt braucht man natürlich Programmiergeräte, um die vielfältigen Speicher und Controller zu programmieren; hier bin ich neuerdings an einen c\u0026rsquo;t-EPROP gekommen, der (eines Tages mit einer neuen Software) wohl in Zukunft alle meine Probleme in dieser Hinsicht lösen wird und nebenbei auch GALs programmieren und auslesen kann.\nDiese Tätigkeiten sind nicht unbemerkt geblieben und so hat es sich ergeben, dass ich für gut 2 Jahre eine Elektronik-AG an meinem Gymnasium geleitet habe, in der Schüler/-innen der 5. und 6. Klassen für die Elektronik begeistert wurden. Ausserdem habe ich nach dem Tod des o.g. Professors mich an der Fachhochschule engagiert, um die von mir oft gehörten Experimentalvorträge weiterleben zu lassen. So hat es sich ergeben, dass ich den Vortrag \u0026ldquo;Faszination Elektrotechnik\u0026rdquo; mittlerweile viermal gehalten habe, in dem es für die Öffentlichkeit eine Vorführung der wichtigsten Experimente der Physik-II-Vorlesung aus dem Physikstudium zu erleben gibt; ein alternativer Titel für diesen Vortrag wäre \u0026ldquo;Vom Bernstein zur elektromagnetischen Welle\u0026rdquo;.\n"}),a.add({id:2,href:'/labathome.de/physics/TVP250/',title:"Pfeiffer TVP250",section:"Physics",content:"Pfeiffer TVP250 (2016-11-06) #  I am currently building a controller for my good old Pfeiffer TVP250:\nThe motor is a four-phase brushless DC type, with a permanent magnet on the shaft. Thus, by applying a DC voltage to any of the phases with respect to the center tap, the rotor rotates into a well-defined position. As it turns out, to accellerate the rotor, a constant phase shift of 45 degrees has to be maintained between the driving magnetic field and the magnet on the rotor.\nThe old controller died (this is how I got this pump in the first place), but I was able to get some information from Pfeiffer:\n User\u0026rsquo;s Manual \u0026ldquo;PM 800 012 BD\u0026rdquo; resp. \u0026ldquo;B 400 000 C d\u0026rdquo; Schematics \u0026ldquo;S 400 000 C\u0026rdquo; Spare Parts List \u0026ldquo;E 400 000\u0026rdquo;  Yesterday evening I was able to test the new driver electronics for the first time. The L6203 run pretty hot given that they used to be mosfets, but nothing a nice heatsink could not cope with. Here are the EAGLE schematics again: TMP_Controller.zip\nA video of the first run can be found on YouTube: https://youtu.be/dmyyyMA9du0\nThe oscillation is due to the rotor locking on the driving field, being accellerated, then the phase shift (and thus the driving force) vanishes and the rotor deccellerates again.\nNext step are:\n Attach a Hall sensor (TLE 4905L) in the vicinity of the shaft end which has a magnet already attached. The original drive circuit also used Hall sensors, but in an all-analog approach. The bearings have to be replaced, they sound really bad. The motor for the oil pump has to be brought back to working condition. A cooling water supply is needed. I need to turn some ISO K and KF flanges for connecting the turbo to my forepump (Alcatel 2012) and to some pressure gauge(s).  Driver Circuit (2017-02-19) #  The motor is for the bearing lubrication pump which turns out to be a faily straigtforward worm pump. Bearing are EL8 wich could be replaced by a modern 608 in P5 precision, maybe P4 if it is affordable\u0026hellip; Since all the rubber rings are ca. 30 years old, I will disassemble the whole unit and replace them too.\nHere is an image of the driver circuit:\nand a PDF of the board layout as a 300dpi PDF: TMP_Driver.pdf\nThe current setup constists of my usual ATmega32 development board and some crude wiring, but the rotor accelerates up to some speed, where defined by the current code on the µC some limit is reached :-)\nNext steps:\n add LCD display to µC circuit for enhanced debugging capabilities find out wether 608P5 or 608P4 bearings are affordable turn an adapter ISO-K 65 \u0026lt;\u0026ndash;\u0026gt; KF 40 on the lathe  Hall Sensors (2017-03-03) #  Today I had some time to go on building my new driver circuit for the Pfeiffer TVP-250.\nThis is a view on the motor signals when I started today. The inductivity of the motor strongly distorts the signal and makes it hard to debug the driver circuit.\nTherefore, I build a star of four 30 ohms resistors which are attached to the driver instead of the TMP motor. Now the signal looks as intended and allows to verify the correct signal generation. Two opposite phases are shown, therefore the phase shift is 180°.\nFor a precise control of the acceleration phase of the motor, I need information on at which position the rotor is currently located. I already had a single unipolar Hall switch, which gives me one defined pulse per revolution, but I did not like that anymore. So I decided to go for linear Hall sensors (SS 56 ET) which produce a voltage linearly dependent on the surrounding magnetic field.\nThe single sensors are mounted via one strong wire and thus can be bent to stay in place without having to fiddle with bending more that one strong wire at a time.\nHere you can see the sensor board attached to the pump body. In order to get a strong signal, I positioned the sensors as close to the magnet as possible.\nHowever, this turned out to be not optimal. The waveform is quite distorted and one can imagine that I was not willing to use this as an input to my circuit.\nTherefore, I moved the Hall sensors some millimeters away from the magnet and obtained a much nicer sine-like waveform; due to the larger distance the amplitude has also fallen to about 10% of the original one. Since the main controller should be an ATmega8 with an integrated ADC with an input voltage range of 0 \u0026hellip; 2.56V, I needed a level shifter which did as well some amplification to utilize as much of the ADC range as possible. The LT1006 was specifically designed to operate on 5V, so it was a nice choice (apart from the fact that I had one of them lying arround ;-) )\nI was just about to order some new LT1006s when I took a second thougt on the circuit and wether the goal can be reached as well with some more common opamp like the LF411\u0026hellip;\nHere is what I came up with:\nThe LF411 form two difference amplifiers, just as in the LT1006 version. The AD580 and 1k pot are used to supply the offset voltage, which is subtracted from the input signal from the Hall sensors. The trick lies in the two diodes (1N4148) and the 2k7 resistor at the LF411 output. Using these, the output is DC-wise downshifted by about 1.2V (2x600mV) and thus, the opamp output can operate comforably high above ground. The only noticable side effect so far is that the offset pot has to be set to another voltage to compensate for the voltage drop at the output diodes. One could argue that the diode characteristic is going to put a nonlinear term into the amplifier, but since the diode is biased at ~0.4mA, I do not expect the forward voltage to change much.\nHere is the realisation of the circuit on the breadboard:\nBelow you see the final waveforms to get digitized. The shape is not exactly sinusoidal which I belive is a geometric effect resulting from the shape of the magnets dipole field rotating aside the Hall sensors. At first, I worried about the kind-of saturation of the signals at the top and bottom. However, these seem to stem from the specific magnetic field configuration and could not easily be eliminated. It is definetely on an opamp effect. I thought about the uniqueness of each set of the two voltage levels and wether I could always determine the exact rotor position from that. However, when (e.g.) signal 1 is at its top level, signal 2 has a strong slope and so I can identify the position of the rotor for each set of the two voltages :-)\nThe plan is now to attach these signals to the ATmega and write some sort of look-up-table to identify the rotor position. Then, the controller can decide which current patten to apply to the coils depending on the current operating mode: power-down (no signal), acceleration (45° leading phase), decceleration (45° lagging phase) or idle (0° phase shift).\nNew Controller Board (2017-05-20) #  After moving to Greifswald, I have now set up my lab again and did some progress on the TVP250 controller.\nFirst step was to actually build the preamp circuit I mentioned in my last post on a circuit board.\nThen, I modified an old microcontroller develmopment board to\n calculate the rotor position from the two digitized Hall sensor voltages set the driver input signals accordingly to synchronosly drive the motor in the pump and handle user interaction via an LCD and two pushbuttons (start and halt).  After some fiddling with a proper algorithm which is both capable of semi-realtime control of the drivers and handling user interaction with the slow LCD interface, the pump nicely accelerates and decelerates on user request.\nHere is a short video of the operation: https://www.youtube.com/watch?v=7gtoqjd_-4Y\nNow, I have to get my forepump running and see if the pump really accelerates up to 500Hz. At that point, I will also need to implement the hold-mode in the source code which limits the maximum frequency of the driver.\nThe source code (written for AVRGCC in AVRstudio 4.18) can be found in this zip file: tmp_controller_20170520.zip.\n"}),a.add({id:3,href:'/labathome.de/maschinenbau/kleine_drehbank/',title:"Small Tabletop Lathe",section:"Mechanical Engineering",content:"neue alte Drehmaschine erstanden (2021-04-03) #  Ich hatte vor ein paar Tagen das grosse Glück, auf eBay meine erste eigene Drehmaschine zu ersteigern. Ich habe bisher nur auf fremden Maschinen in den Unternehmen, in denen ich Praktika gemacht habe, arbeiten können.\nZu den Einzelheiten der Maschine komme ich im Verlauf dieses Beitrags.\nHier ist erstmal ein Bild von der Maschine, wie sie bei eBay angeboten wurde:\nMit bei der Maschine war ein Motor mit 0,37kW der Firma Georgii-Kobold, der auf diesem Bild zu sehen ist:\nHeute kam dann der Herr von der Spedition und brachte eine Palette mit der Maschine und dem Motor vorbei.\nDann musste die Palette über ein Paar Holzplanken die Kellertreppe herunter\u0026hellip; aber man ist ja noch jung :-)\nDaraufhin wurde ein kurzer Testlauf gestartet, um den Zustand der Maschine einschätzen zu können.\nDabei konnte ich folgendes feststellen:\n Die Spindellagerung ist soweit in Ordnung. Das Vorgelegegetriebe funktioniert. Der Kreuzsupport lässt sich einwandfrei bewegen. Der Reitstock ist stark exzentrisch (mehrere mm) eingestellt. Das Dreibackenfutter (135mm) läuft nicht rund. Der mitgelieferte Keilriemen passt nicht zu den Riemenscheiben im Spindelstock. Das Vorschubgetriebe inkl. Wendeherz funktioniert bis zum Getriebekasten. Die Zahnräder im Getriebekasten vorne am Spindelstock sind leider zum grossen Teil verschlissen. Leit- und Zugspindel lassen sich noch drehen. Auf der Zugspindel sitzt ein Anschlag, der, wenn der Support dagegenfährt, die Zugspindel automatisch auskuppelt (sehr praktisch :-). Im Schlosskasten fehlt das Zahnrad, das auf der Planspindel sitzen müsste um den automatischen Planzug auszuführen. Die Schlossmutter für die Leitspindel ist noch intakt und lässt sich leichtgängig ein- und ausklinken. Der Morsekegel im Reitstock müsste nachgerieben werden. Eine passende MK2-Reibahle ist aber vorhanden. Das Maschinenbett ist in einem guten Zustand und wurde schon vom Flugrost befreit.  Ich denke mal, dass das eine Basis ist, von der aus man die Maschine restaurieren kann.\nHier kommen noch ein paar Detailaufnahmen.\nDer Schlosskasten:\nDer Hebel mit dem Knubbel schaltet zwischen (oben) Längs- , (unten) Planzug über Zugspindel und (mitte) Leitspindel um.\nDer Spindelstock:\nDie Wechselräder:\nMehr waren leider nicht dabei :-(\nAlsdann ging es auch schon mit dem Auseinandernehmen los. Ich habe die einzelnen Schritte nicht sehr detailliert fotografiert, weil ich zu sehr mit dem Bewundern der Maschine beschäftigt war\u0026hellip; :-)\nDas Maschinenbett (noch mit Spindelstock):\nDer erste Schwung an Einzelteilen, u.a. Leit- und Zugspindel, Getriebekasten, Dreibackenfutter, Kreuzsupport, Reitstock, Wechselräder:\nDer zweite Schwung an Einzelteilen: s.o. und Vorgelegegetriebe, Wendeherz, Abdeckung für Vorgelege:\nInnenansicht des Schlosskastens:\nDas hintere Zahnrad (mit der grossen Schlitzschraube) wird mit dem Knubbelhebel nach oben, mitte oder unten geschwenkt und treibt so entweder den Längs- oder Planzug an. Der Hebel an der linken Seite dient zum Schließen der Schlossmutter. Im Hintergrund (an der Wand) erkennt man die Einzelteile der Spindellagerung.\nZum Abschluss noch ein paar allgemeine Infos:\n   Kenngröße Kennwert     Spitzenweite ~400mm   Spitzenhöhe ~110mm   Verfahrweg Support ~230mm   Verfahrweg Planschlitten ~100mm   Verfahrweg Oberschlitten ~75mm (sollte fürs Drehen eines MK2 ausreichen)   Untersetzung durchs Vorgelegegetriebe 32/76 * 32/76 (also ungefähr 250 Upm bei 1400 Upm an der Riemenscheibe)   Leitspindelsteigung ??? mm (Modul 2)   automatischer Vorschub ??? mm/U (3*6 Stufen im Getriebekasten + Wechselräder)   Spindeldurchlass ~20mm   Pinolenhub vom Reitstock ~60mm   Gesamtmaße der Maschine (BxHxT) ~ 900 x 400 x 400 mm   Gesamtmasse der Maschine ~50kg (liess sich per Muskelkraft auf den Tisch heben\u0026hellip;)    Ich habe leider keine Angaben zum Hersteller auf der Maschine gefunden. Sie scheint jedoch mal grau mit roter Grundierung lackiert gewesen zu sein, bevor ihr jemand dieses schreckliche grün antat. Grau (RAL 7031) soll sie auch wieder werden!\nIch habe eine Maschine mit dieser Ausstattung (Leit- und Zugspindel, Schaltgetriebe für Vorschübe, Vorgelegegetriebe, automatischer Längs- und Planzug, getrennte Führungen für Support und Reitstock, etc.) vorher noch nie in dieser Grösse gesehen. Das war auch der Grund, warum ich sie kurzentschlossen und unter Missachtung aller anderen anstehenden Projekte gekauft habe.\nIch werde hier, soweit ich dazu komme, die Restauration dokumentieren.\nFür die Maschine habe ich etwa 400€ plus Versand bezahlt. Die Maschine stammt aus dem Schwarzwald und wurde per Spedition geliefert. Ich denke, das ist angemessen. Ich weiß, dass ich mir zu dem Preis eine Chinadrehe hätte anschaffen können. Ich wollte aber eine Maschine, die Charakter hat.\nDie Führungen sehen noch nicht sehr abgenutzt aus, teilweise sieht man noch die Spuren vom Einschaben.\nDie Spindellager machen auch einen guten bis sehr guten Eindruck. Man sieht zwar, dass die Maschine gelaufen ist, aber größere Riefen, wie etwa von Lagerfressern sind nicht zu sehen. Die Ölschwämme(?) unten in den Spindellagern waren auch noch gut mit Öl getränkt. Ich denke nicht, dass ich dort allzu viel zu machen haben werde.\nDie Zahnräder im Schlosskasten haben Modul 1 mit gängigen Zähnezahlen; ich denke, dass ich die größtenteils ersetzen werde. Die Zahnräder im Getriebekasten muss ich nochmal ausmessen; ich tippe dort auf Modul 0.7 oder 0.5. Die sollte man also auch nachbekommen.\nSpindelstock und Lackauswahl (2012-04-05) #  Ich habe inzwischen geschafft, den oberen vom unteren Teil des Spindelstocks zu trennen und auch das Bett vom Spindelstock abzuschrauben.\nDabei fiel mir die interessante Lösung für die Ausrichtung des Spindelstocks auf:\nIm oberen Teil des Spindelstocks steckt ein Zapfen, der auf Höhe der rechten Spindellagerung im unteren Teil des Spindelstocks sitzt. Auf Höhe des linken Spindellagers ist dagegen im unteren Teil des Spindelstocks eine Nut, in der eine Schraube sitzt, die durch einen Ansatz am oberen Teil des Spindelstocks geschraubt ist. Dadurch kann man durch Verdrehen der Schraube die Parallelität der Spindel und des Maschinenbettes sehr gezielt vornehmen.\nAls nächstes geht es an das Entlacken. Der hellgrüne Lack lässt sich relativ gut mit einem Spachtel runterschaben; der daruntersitzende alte Lack (grau) lässt sich mit Aceton einfach herunterwaschen.\nIn der Zwischenzeit überlege ich mir schon mal die spätere Lackierung. Ich werde mich dabei wahrscheinlich an diesem Thread aus einem anderen Forum orientieren:\nhttp://www.diy-community.de/showthread.php?24682-Restauration-einer-Weiler-LZ-280/page6\nDie Farbe (RAL6011) gefällt mir besser als das ursprüngliche Grau (wahrscheinlich RAL7031).\nIch habe bis jetzt schon den Spindelstock und ein paar Kleinteile entlackt. Morgen kommt dann das Bett dran und dann werde ich schon die ersten Teile lackieren. Ich habe mir dazu eine Mischung aus ca. 4 Teilen Nitro-Verdünnung, 5 Teilen Aceton und 1 Teil Terpentin-Ersatzt angerührt. Das habe ich dann in ein altes Marmeladenglas gefüllt und die Teile dazugetan. Nach ein paar Stunden pellte sich der Lack wunderschön ab und ließ sich bis auf den letzten Rest mit einer Stahldrahtbürste abbürsten. Eine Atemschutzmaske ist dabei selbstverständlich.\nFür die größeren Teile (Spindelstock, Support, Schlosskasten) habe ich die Giftmischung in einen innen lackierten Blumentopf gegossen und den dann mit einer Plastiktüte, die sich erstaunlicherweise nicht aufgelöst hat, abgedeckt. Offenbar reichten die Dämpfe schon aus, um den Lack anzulösen, denn auch oberhalb des \u0026ldquo;Giftspiegels\u0026rdquo; löste sich der Lack an.\nBei den größeren Flächen habe ich dann mit der Handdrahtbürste die Lackreste abgeputzt, in den Ecken hat mir mein Dremel mit runder Stahldrahtbürste sehr geholfen.\nEben sah ich das folgende Bild auf eBay:\nAuch bei meiner Maschine ist das vordere Prisma, auf dem der Supportschlitten läuft, nach vorn flacher als nach hinten. Auch bei meiner Maschine ist die innere Führung (für den Reitstock) \u0026ldquo;normal\u0026rdquo;, also der prismatische Teil symmetrisch. Kennt jemand noch andere Maschinen, bei denen die Führung asymmetrisch ist, ausser welchen von Weiler? Ich weiß, dass das noch kein Beweis ist, dass meine Maschine eine Weiler ist, aber zumindest ein Ansatz.\nIch habe inzwischen entdeckt, dass diese Bauart wohl bei Maschinen dieses Alters üblich war, und zwar aus folgendem Grund: Da die Betten noch ungehärtet waren, sollte die Fläche, die die meiste Presskraft durch den Schnittdruck aushalten musste (und mit automatischem Vorschub auch noch unter dieser Last verfahren werden sollte) möglichst groß sein. Deshalb hat man das Prisma geneigt. Scheint also eher normal zu sein\u0026hellip;\nDas Bett und die Masse der Kleineteile ist inzwischen zum Lackieren vorbereitet.\nVorbereitungen zum Lackieren (2012-04-14) #  Nachdem ich nun lange Zeit mit dem Entlacken beschäftigt war, gibt es heute mal weider ein paar Bilder vom Projekt Drehmaschine.\nHier sieht man die Teile, die demnächst lackiert werden sollen. Ich habe sie schon mal abgeklebt und in den Heizungskeller gelegt, damit sie sich ein bisschen aufwärmen (in der Werkstatt ist es kalt genug).\nIch habe mich doch nochmal zurückentschieden zu 2K-EP-Lack von Mipa. Also wird die Maschine mit RAL6011 lackiert.\nDes weiteren habe ich mir mal das Dreibackenfutter vorgenommen. Innen fanden sich einige Späne an und eingeölt werden musste es auch mal wieder.\nAnsonsten habe ich mir noch die zahlreichen Kleinteile vorgenommen und sortiert, tw. schon entrostet und wieder neu eingeölt.\nLackieren (2012-04-17) #  Mit Mipa EP Grundierfiller:\nDie Maschinensäule in diesem Bild gehört zu meinem ersten großen Maschinenbauprojekt, einer kleinen Fräsmaschine:\nDas Ganze in grün (Mipa EP Decklack halbglanz RAL6011):\nKippeliger Bettschlitten (2012-04-30) #  Ich habe die Maschine inzwischen wieder so weit zusammengebaut, dass man schon wieder erste Späne machen kann. Im Vorschubgetriebe müssen noch ein paar Zahnräder erneuert werden; ich hoffe, dass ich das schon mit dieser Maschine \u0026ldquo;von Hand\u0026rdquo; machen kann.\nAllerdings sind nun auch ein paar Probleme deutlich geworden:\n1.) Der Support hat merkliches Spiel auf dem Maschinenbett:\nHier ist der Support in rot gezeichnet und die Gleitleiste (?) in grün. Meine Idee wäre, ein paar Zehntel vom Support unten abzufräsen. Dann könnte man mit Unterlagfolien zwischen Leiste und Support das Spiel sehr genau einstellen.\n2.) Die Spindellagerung lässt sich einstellen. Wenn ich die Lagerung so einstelle, dass die Spindel vom Motor (0,37kW) noch angetrieben werden kann, hat sie mehr als 3/10 Spiel.\nWenn ich die Lagerung so einstelle, dass ich weniger als 1/10 Spiel habe, schafft der Motor es nicht mehr, die Spindel zu drehen. Das Lagerspiel habe ich dabei gemessen, indem ich eine Stahlstange ins Futter gespannt habe, mit der Messuhr dagegen gefahren bin und dann am Ende der Stange gedrückt habe. Natürlich beigt sich dabei auch die Stange, aber es ist deutlich zu sehen und zu spüren, dass die Spindel im Lager wackelt. Während das Spiel in x-Richtung (vorn-hinten) sich auf ein paar 100stel einstellen lässt, klappert die Spindel beim Wackeln von Hand in y-Richtung(oben-unten). Gemessen habe ich hier ein Spiel von ~12/100.\nDabei ist mir dann auch Problem 3.) aufgefallen: Das Futter spannt nur noch im hinteren Teil; vorn sind zwischen Werkstück und Backe bis zu 2/10 Luft. Das sollte allerdings durch Ausschleifen zu beheben sein.\nZusammenbau (2012-05-24) #  Im Moment tritt das Projekt ein bisschen auf der Stelle, weil ich es einfach nicht hinbekomme, die Spindellagerung vernünftig einzustellen. Entweder sitzt sie so lose dass bei niedrigen Drehzahlen ein zu großes Spiel auftritt und die Maschine schon bei 1/10 Spanabnahme rattert wie verrückt, oder ich stelle es zu fest und die Spindel sitzt beim Abschalten des Motors fest. Schwieriges Unterfangen\u0026hellip;\nNa ja, hier noch ein paar Bilder vom aktuellen Zustand:\nIch habe beim Drehen der Spindel das Gefühl, dass sie krumm sein müssten, weil sie in einem Bereich merklich schleift und sonst leicht läuft. Ich vermute, dass das vordere Lager u.a. deshalb dermassen ausgenudelt war. Sollte ich jetzt eine neue Spindel drehen? Material- und Maschinenmäßig wäre das kein Problem, aber vielleicht habt ihr ja andere Ideen\u0026hellip;\nDer Bettschlitten läuft jetzt (nach dem Abfräsen) übrigens butterweich und dank einer Unterlegorgie mit Alufolie-Streifen auch ziemlich spielfrei. Leider klemmt er im vorderen Bereich (wo im Moment das Futter drüber sitzt. Beim Arbeiten mit Spannzangen könnte das ein Problem werden. Im Moment ist aber erstmal die Spindellagerung wichtiger.\nIch habe den Motor neu gelagert mit SKF-Lagern 6002-ZZ. Die alten Lager waren offen und mit einer Metallstaub-Fett-Drecksschicht dermaßen zugekrustet, dass der Motor im Betrieb sich sehr unschön anhörte. Jetzt mit den neuen Lagern und mit FU schnurrt der wie ein (großes) Kätzchen :-)\nDa sich die alten Bronzelager auch nach dem Ausdrehen nicht spielfrei (\u0026lt;1/10mm) einstellen liessen, habe ich jetzt beschlossen, Kegelrollenlager einzubauen, und zwar 32006 (30x55x17) als vorderes und 30205 (25x52x16.25) als hinteres Spindellager.\nDes weiteren will ich die Keilriemenscheibe, die beim Betrieb mit Vorgelege vorher auf der Haputspindel lief jetzt mit Nadellagern vom Typ HK3016 (30x37x16) auf der Spindel lagern.\nIch habe mich hauptsächlich für den Umbau entschieden, weil beim Direktteilen auf der Drehbank ein Gleitlager prinzipiell nicht geeignet ist, da es nur bei ausreichender Drehzahl spielfrei durch den Ölfilm ist.\nDie axiale Lagerung der alten Spindel besteht in einer Reiblagerung von dem Bund an der Spindelnase auf der nebenliegenden Lagereinstellmutter (komisches Wort \u0026hellip;). Das umzubauen, und dabei die Gleitlager zu erhalten ist mir zu kompliziert. Dann lieber richtig.\nMotorhalter (2012-06-21) #  Leider gibt der Motor keinen genaueren Aufschluss darüber, wo die Maschine herkommen könnte, da er nicht der Originalmotor ist. Der mitgelieferte Riemen und die Riemenscheibe auf dem Motor passen zwar zusammen, aber nicht zur Drehmaschine. Ausserdem war der Motor bei Lieferung auf ein Holzgestell geschraubt, das ganz sicher nicht zum Originalzustand dazugehört.\nUm eben dieses Holzgestell entsorgen zu können, habe ich heute auch weitergebaut: ein neuer Motorhalter ist es geworden.\nEs beginnt alles ganz einfach mit einer alten Platte, die ich mal aus irgendeiner Maschine vom Schrott ausgebaut habe:\nDie wird noch schell parallel gefräst, damit ich sie flach in den Schraubstock spannen kann, um den Zwischenraum der \u0026ldquo;Lager\u0026quot;klötze auch parallel auszufräsen.\nGesagt, getan und es geht weiter mit dem Rohmaterial für den Halter, der an die Maschine geschraubt wird.\nErstmal ein bisschen Rohmaterial ablängen und planen:\nDann abstechen:\nEin bisschen planfräsen:\nUnd mit zwei Stahlstücken zusammenschweissen:\nIch habe dann noch 4 8.5mm-Löcher in die Ecken der Grundplatte zur Befestigung gebohrt und in die Hülse oben zwei M5-Gewinde geschnitten, um die unten zu sehende Stange festzusetzen.\nOhne Bilder entstand dann noch eine kleine Hülse, die ebenfalls mittels einer Querbohrung M5 auf der Stange festgesetzt werden kann und genau in den geradegefrästen Bereich zwischen den Lagerklötzen an der Motorplatte passt.\nZusammengebaut sieht das dann an der Maschine so aus:\nGespannt wird der Riemen im Moment noch durch das Gewicht des Motors; wenn ich wieder weiterbaue wird das aber noch geändert. Ich dachte dabei an folgendes: Zwischen dem Loch, das in der Motorplatte oben drin ist, und einer Lasche, die ich am Spindelstock festschraube, setze ich eine Spannschraube; diese Spannschraube hat als Kopf eine Kugel, die im Loch am Motorhalter sitzt und das Gewinde geht durch ein Loch in der Lasche, an der sich die Schraube mit einer Mutter (evt. mit Gummiunterlegscheibe zur Dämpfung) abstützt. Wenn das unklar ist, kann ich gerne eine Zeichnung machen.\nSpindellager-Umbau (2012-08-13) #  Heute bin ich endlich dazu gekommen, die neuen Lagersitze in den Spindelstock einzubringen. Wie ich oben geschrieben hatte, verwende ich folgende Lager: 32006 als vorderes Lager und 30205 als hinteres Lager.\nLeider ist die neue Spindel noch nicht fertig, also erstmal ein paar Bilder vom Spindelstock mit den Lagersitzen:\nKleine Anmerkung noch zur Fertigung: Der Spindelstock wurde dazu auf einer großen Drehbank auf die Planscheibe gespannt und dort ausgedreht. Als ich ihn grad aufgespannt hatte, hab ich auch die Stirnseiten des Spindelstocks plangedreht, deshalb ist da die Farbe wieder runter.\nDie neue Spindel soll als Spindelnase einen Kurzkegel 3 bekommen und innen einen MK3 für alles mögliche andere. Bei einem hinteren Lagersitzdurchmesser von 25mm müsste ein Spindeldurchlass von 18mm gerade noch drin sein.\nDann soll noch eine Indexvorrichtung mit wechselbaren Indexscheiben angebaut werden, über deren Konstruktion ich mir aber noch nicht ganz im klaren bin. Der einzige Ort wo man meiner Meinung nach so etwas sinnvoll an dieser Maschine anbringen kann ist aussen neben dem hinteren Spindellager.\nIch hatte dann noch eine bebilderte Mail an Tony von lathes.co.uk geschickt, aber bis heute noch keine Antwort bekommen. Falls jemand noch Hinweise oder Ideen zur Herkunft dieser Maschine hat, wäre ich dafür sehr dankbar.\nErste Drehversuche (2012-09-13) #  Gestern hatte ich Gelegenheit, die alte Spindel mal ein bisschen zu misshandeln, damit sie in die neuen Lager passt:\nTja, was soll ich sagen: Ich bin maßlos begeistert von den neuen Lagern: Spanbreite von 8mm bei Alu, Einstechen am Umfang: kein Rattern Spanabnahme 1mm bei St37, \u0026ldquo;Schruppen\u0026rdquo; am Umfang längs: kein Rattern Bronze schruppen, schlichten am Umfang: kein Problem, spiegelglatte Oberfläche.\nHier mal ein Bild von einer geschlichteten Stahloberfläche:\nMit den alten Langern war das mMn definitiv nicht drin.\nSpäne kann man mit der Maschine also machen:\nDa ich nun in der Lage bin, daheim Stahl zu drehen, kann ich endlich (!!!) die benötigten Kleinteile machen, die das Vorschubgetriebe so dringend für den Zusammenbau braucht. In der Werkstatt, in der ich den Klopp restauriert habe, war da irgendwie nie Zeit zu\u0026hellip;\nHihihi, ich freu' mich !!!\nUmzug (2012-11-16) #  Da ich vor ein paar Wochen umziehen musste, ist meine \u0026ldquo;Kleine\u0026rdquo; nun in meine Ursprungswerkstatt im elterlichen Keller gewandert, sodass es erst über Weihnachten, wenn ich da bin, weitergehen wird.\nVor dem Umzug hatte ich allerdings noch ein paar Sachen gemacht: Mit einer Messuhr am Support war es möglich, eine präzise Passung auf einer Hülse aus dem Vorschubgetriebe zu drehen. Dort habe ich dann ein passend ausgedrehtes Zahnrad aufgepresst und das Vorschubgetriebe wieder zusammengebaut. Leider passte das Modul 0.75 des neuen Zahnrades nicht richtig zu den vorhandenen Zahnrädern im Nortongetriebe, sodass der Vorschub leider noch nicht funktioniert\u0026hellip;\nMein Plan ist jetzt, ein neues Vorschubgetriebe zu entwerfen und zu bauen, das auch nicht so klapprig und unpräzise zu schalten sein soll wie das jetzige; selbst, wenn die Zahnräder passen würden, hätte die Ratsche so viel Spiel, dass die Zahnräder überspringen könnten :-(\nAusserdem wird es nötig sein, eine neue Hauptspindel zu drehen, weil die jetzige keine Zentrierpassung am Ende des Gewindes hat und daher das Futter locker mal 0.5 \u0026hellip; 1 mm exzentrisch draufsitzt.\nAllerdings ist es zuletzt mit den neuen Spindellagern möglich gewesen, ratterfrei echt nette Oberflächen zu drehen :-D\nBenutzung (2013-11-06) #  Die Fotos sind schon etwas älter, hier sind mal ein paar aktuellere:\nEs ist jetzt ein 100er Röhm-Futter montiert, das ich in der Zwischenzeit bekommen habe. Da die Spindel eh neu soll, hab ich am alten Flansch \u0026ldquo;nur mal schnell\u0026rdquo; den Zentrierbund kleiner gedreht und den jetzt nicht aufwendig überarbeitet.\nEin neuer Spindelstock ist in Planung. Ich lasse einfach mal das CAD sprechen:\nVerschiedene Neuerungen:\n Hauptspindellagerung durch X-angeordnete Kegelrollenlager als Festlager, Loslager mit RiKuLa kein Wendeherz, sondern Schieberadgetriebe mit Keilwelle Ölsumpfschmierung, auch für Lager Teileinrichtung durch 60Z-Zahnrad auf Hauptspindel (eig für Vorschub) mit Rastbolzen KK3 als Spindelnase MK3 Innenkegel für weitere Vorrichtungen/Werkzeug Kastenform \u0026ndash;\u0026gt; mit Seitenwänden nimmt der Spindelstock die Bearbeitungskräfte besser auf als wenn der als U gegossen ist (nur der vordere Schenkel leitet die Kraft ab; ausserdem biegt die Lagervorspannung die Schenkel zusammen \u0026ndash;\u0026gt; Lager werden winklig belastet \u0026ndash;\u0026gt; (schneller) kaputt) neue Spindel gehärtet und geschliffen \u0026ndash;\u0026gt; bisschen präziser und verschleißfester (Futterwechsel etc) usw.  Wer Interesse an den Zeichnungen (Inventor 2009) hat:\nSpindelstock_2013-10-25.zip\ndie Spindeln haben Trapezgewinde, Planzug links, Oberschlitten rechts. Die werde ich erstmal nicht auswechseln, weil ich dann den ganzen Schlosskasten gleich mit machen wollen würde. Sind auch noch halbwegs ok; wenns genau sein muss, papp ich halt ne Messuhr an den Schlitten.\nDa das Wechselradgetriebe ja eine neue Übersetzung von der Hauptspindel bekommt, muss ich mir auch das Vorschubgetriebe neu ausdenken (ist sowieso defekt), um da vernünftige Vorschübe und Gewindesteigungen rauszubekommen. Dabei mache ich dann gleich noch den Schlosskasten, weil die Rastung des Plan- und Längszuges mir absolut nicht gefällt (man klemmt sich sehr leicht die Finger). Mit den neuen Spindeln kann ich dann gleich die Übersetzungen ordentlich berechnen. Als Skalenringe schweben mir welche a la Schaublin vor, richtig schön groß und matt verchromt\u0026hellip;\n\u0026ldquo;Kommt noch\u0026hellip;\u0026rdquo;\n"}),a.add({id:4,href:'/labathome.de/elektrotechnik/smps/',title:"SMPS",section:"Electrical Engineering",content:"Aus einem alten Sciex QStar XL Flugzeit-Massenspektrometer konnte ich ein Pulser-Modul bergen:\nDieses enthält neben einigen feinen Bauteilen, wie MHV- und SHV-Buchsen, Hochspannungs-Relais, -Mosfets und einem OPA541 Power-Op-Amp auch ein Schaltnetzteil, welches die Gatetreiber für die HV-Mosfets versorgt.\nUm den rot umrandeten Bereich der beiden Platinen geht es hier:\nAls Controller-IC kommt hier der SG3526J zum Einsatz. Der größere der beiden Trafos mit der Bezeichnung 024435 wurde von Electronetics hergestellt und ist wahrscheinlich ein von Sciex in Auftrag gegebenes Sondermodell.\nDie folgende Tabelle gibt die Verbindung des Stromversorgunssteckers links oben (Pins 1-6) an den NIM-Stecker wieder:\n   Pin am Board Kabelfarbe NIM-Pin Funktion     1 gelb 16 +12V   2 weiß 17 -12V   3 rot 10 +6V   4 blau 28 +24V   5 schwarz 34 power GND   6 grau 42 high-quality GND    Wenn man jetzt zwischen Pin 1 und 5 ein 12V-Netzteil anschließt, erwacht zumindest schon man das Schaltnetzteil zum Leben. Es liefert für zwei Gatetreiber jeweils symmetrische 15V. Für die weiteren Tests wurden die Gatetreiber-Schaltungsteile abgetrennt. Verschiedene Lastwiderstände wurden zwischen +15V und -15V an die parallelgeschalteten Ausgänge angeschlossen. Die sich ergebende Belastungskurve ist hier zu sehen:\nAls Modell wurde eine ideale Spannungsquelle mit nachgeschaltetem (Innen-)Widerstand angenommen. Der Fit an die Messungen (die Punkte für I\u0026lt;0.15A wurden vernachlässigt) ergibt einen Innenwiderstand von ca. 9.3 Ohm bei einer Leerlaufspannung von 29.7V. Eine Messung ohne Last ergibt jedoch eine Leerlaufspannung von ca. 70V. Hier spielt wahrscheinlich die Tatsache eine Rolle, dass es bei der verwendeten SMPS-Topologie kein Feedback von der Sekundärseite auf die Ansteuerung auf der Primärseite gibt.\nInteressant ist das Netzteil aus dem Grund, dass es recht einfach (=robust, leicht reparierbar) aufgebaut ist und die Isolation zwischen Sekundärseite und Primärseite einigermaßen hochspannungsfest sein müsste. Zusammen mit dem brauchbaren Nenn-Ausgangsstrom ist es vielleicht für die Gate-Ansteuerung in einer DRSSTC geeignet\u0026hellip; ?\n"}),a.add({id:5,href:'/labathome.de/about/',title:"About this website",section:"Welcome",content:"This website is created using the Hugo static website generator.\nI chose the hugo-book theme.\nYou can contact me via email: jonathan.schilling@mail.de\nTest some $inline$math: $$E = m c^2$$"}),a.add({id:6,href:'/labathome.de/elektrotechnik/transputer/amv_b1/',title:"AVM B1",section:"Transputer",content:"AVM B1 #  Der AVM B1 ist ein aktiver ISDN-Controller und bis Version 2.0 für den ISA-Bus gebaut. Bis Version 3.0 wird ein Transputer vom Typ T400 verwendet.\nAuf der linken Seite der Karte findet sich ein kleines Transputer-System mit 1MB RAM sowie einem TRAM-ähnlichen Erweiterungsinterface. Rechts unten auf der Karte sitzt der C011, der auf den 4 jumperbaren Adressen vom ISA-Bus aus angesprochen werden kann. Der C011 ist auf der B1 fest auf Link 0 des T400 verdrahtet. Die Links sind von AVM auf der Platine auf 10MBit/s verdrahtet.\nAn diesem B1 habe ich nun einige Modifikationen vorgenommen:\nZuerst wurde die Linkgeschwindigkeit des C011 auf 20MBit hochgesetzt:\nDazu wird Pin 17 mittels eines spitzen Werkzeugs, ich habe hier eine feine Messspitze verwendet, hochgebogen und auf +5V verdrahtet, z.B. Pin 28 des C011.\nNun muss natürlich auch die Linkgeschwindigkeit des T400 angepasst werden:\nDas ist leider ein bisschen kniffliger, da der T400 einen noch geringeren Pinabstand besitzt als der C011. Es müssen die Pins 8, 9 und 11 hochgebogen und auf +5V gelegt werden, z.B. an dem 1µF-Kondensator, der direkt neben dem T400 aufgelötet ist und zur Pufferung der internen Versorgungsspannung des Link-Interfaces vom T400 dient.\nWeiterhin ist es, wie sich später zeigen wird, praktisch, den RESET-Pin auch am Erweiterungsbus anliegen zu haben. Der Pin 2 ist für die Funktion des B1 nicht weiter von Belang und kann daher an der markierten Stelle durchtrennt werden und mit einem Draht an Pin 92 des T400, resp. einer nahen Durchkontaktierung, angelötet werden.\nDie Pinbelegung, soweit ausgemessen, des Erweiterungsbusses ist dann wie folgt:\n   Pin Bedeutung Pin Bedeutung     1 ? 11 ? (PAL)   2 RESET 12 ? (PAL)   3 ? (82525) 13 GND   4 ? (82525) 14 GND   5 ? (82525) 15 GND   6 ? 16 GND   7 ? 17 GND   8 Link1Out 18 +5V   9 Link1In 19 +5V   10 ? 20 +5V    Spätestens jetzt sollte mit ispy überprüft werden, ob die Karte noch korrekt arbeitet und falls nicht, mit der Fehlersuche begonnen werden.\nEs mag sich nun der eine oder andere fragen, wozu all diese Modifikationen durchgeführt werden sollen.\nDa der B1 sich auf Adr. 0x150 ansprechen lässt und sich darauf wie eine Inmos B004 Transputer-Entwicklungskarte verhält, bietet der B1 daher eine sehr günstige und direkte Transputer-Einstiegskarte. Wenn nun Link 1, der auf den Erweiterungsbus gelegt ist (s.o.), nach \u0026ldquo;draußen\u0026rdquo; führt, kann man dort weitere Transputer(netze) anschließen, z.B. den AVM T1(-B, wenn vorhanden).\nDazu braucht es jedoch einen RS-422-Konverter, der auf den B1 aufgesteckt wird:\nBei Maxim bekommt als kostenlose Samples zwei MAX3467. Es handelt sich dabei um RS-422-Konverter für bis zu 40MBit/s, also mehr als ausreichend für die Transputer-Links. Diese werden nun anhand der nachfolgenden Schaltskizze verdrahtet, am besten auf einer Lochraster-Platine. Der 15-pol. D-SUB-Stecker ist dabei kein Muss, aber da ich für die Verbidung zum T1 das originale Kabel verwende, habe ich hier einen verwendet. Das Pinout des Kabels findet sich, ebenso wie weitere Informationen zum T1, auf der entsprechenden Unterseite.\n"}),a.add({id:7,href:'/labathome.de/elektrotechnik/transputer/avm_t1/',title:"AVM T1",section:"Transputer",content:"AVM T1 #  Der AVM T1 ist ein ISDN-Controller, der in den 90ern des letzten Jahrhunderts dazu diente, Server mit ISDN-Anschluss von der Last der ISDN-Verwaltung zu befreien. Ähnliche Geräte oder Steckkarten für PCs bauten auch andere Firmen, wie z.B. Hermstedt und Eicon. Gemeinsamer Nenner aller dieser \u0026ldquo;interessanten\u0026rdquo; Geräte ist, dass sie teilweise mehrere eigene Mini-Computer mit eigenem Prozessor, eigenem RAM und eigener Peripherie \u0026ldquo;an Bord\u0026rdquo; haben. Dieser Ansatz war damals vermutlich günstiger, als spezielle ASICs für jede Einzelentwicklung herzustellen.\nBeim Start des Rechners wurde meißt der Prozessor angehalten, sodass der Host-PC ungestörten Zugriff auf das RAM des Mini-Computers hatte. Sodann lud der Treiber die Firmware in das RAM der Karte/des Geräts und startete den Prozessor. Über z.B. dual-ported-RAM wurde dann die Kommunikation und der Datenaustausch zwischen Host und Mini-Computer abgewickelt.\nDer AVM T1 verwendet in erster Ausbaustufe (\u0026ldquo;T1\u0026rdquo;) 3 Transputer (zwei T400, ein T425) mit insgesamt 9MB D-RAM und verfügt zusätzlich über den Munich32-ISDN-Controller. Der \u0026ldquo;T1-B\u0026rdquo;, bei dem das \u0026ldquo;B\u0026rdquo; für Booster Board steht, verfügt über 4 weitere Transputer vom Typ ST20450 mit je 2MB D-RAM, sodass dieses Gerät dann insgesamt über 7 Transputer mit 17MB D-RAM verfügt.\nAls ich auf der exzellenten Seite www.geekdot.com vom T1 las, war mein Interesse geweckt. Ich hatte vorher schon vom Konzept des Transputers gehört, aber das was ich dort sah, versprach ein ähnliches Erlebnis wie die Leonardo XL zu werden.\nAls ich meinen ersten T1 dann von eBay bekam, habe ich zuerst das Gehäuse geöffnet und mal die Platinen begutachtet. Die Bezeichnungen der Bauteile decken sich mit denen, die Axel Muhr auf seiner Seite zum T1 verwendet.\nDie Transputer auf der Platine sind so verdrahtet, wie auf folgendem Schema zu sehen ist:\nEin Kästchen ist jeweils ein Transputer bzw. größerer Chip, die Zahlen an den Kanten der Transputer bezeichnen den jeweiligen Link.\nDie Interface-Beschaltung rund um den \u0026ldquo;Host Con\u0026rdquo; und den \u0026ldquo;Diag Con\u0026rdquo; ist auf folgender Zeichnung zu sehen. Hier gibt es den EAGLE-Schaltplan, aus dem das Bild generiert wurde und hier die dazugehörige EAGLE-Lib mit AM26C31 und AM26C32.\nDie Bezeichnungen der Widerstände und Dioden im Schaltplan sind nach folgenden Bildern gemacht:\nMeinen Messungen nach ist an jedem Error-Ausgang der Transputer eine kleine grüne LED nach Masse angeschlossen. Die Anschlussbelegung des \u0026ldquo;BB-Con\u0026rdquo;, der Verbindung zum Booster-Board, ist hier aufgezeichnet:\nund hier gibt es den EAGLE-Schaltplan dazu.\nIn der Frontplatte des T1 sitzt eine lange Platine, die die Front-LEDs sowie ein paar Schieberegister trägt. Es handelt sich dabei um 5 Stk. 74HC595. Die Platine besitzt zwei Stecker, einen für die Stromversorgung und einen, über den die Daten gehen. Die Belegung des Stromversorgungsstecker ist folgende:\n   Pin Bedeutung     1 n.c.   2 +5V   3 GND   4 n.c.    Die Power-LED ist über einen 470 Ohm-Widerstand direkt an +5V angeschlossen. Die Belegung des Datensteckers ist weiterhin:\n   Pin Bedeutung Ziel Pin     1 n.c.     2 n.c.     3 n.c. FPGA1 17   4 /OE aller HC595 FPGA1 67   5 n.c. FPGA1 20   6 Data In, Reihenfolge s.u. FPGA1 30   7 Storage Clock (STCP) FPGA1 46   8 Shift Clock (SHCP) FPGA1 33   9 n.c.     10 n.c.      Das anzuzeigende Muster wird zunächst seriell in den Anschluss \u0026ldquo;Data In\u0026rdquo;, Pin 6, geladen, wobei Pin 8 (Shift Clock) als Takt verwendet wird. Dann wird mit einer steigenden Flanke an Pin 7 (Storage Clock) das gelesende Muster in die Ausgangs-Register übernommen. Wenn nun /OE (Pin 4) auf Low gezogen wird, wird das Muster angezeigt.\nDie Reihenfolge der LEDs ist folgende:\nZuerst in LEDs 1 bis 30, dann die System LED, dann die D-Channel-LED und zuletzt die Sync-LED. Als nächstes ist noch herauszufinden, wie die Daten von einem der Transputer auf die Front-Schnittstelle gelangen.\nNach einiger Zeit sah ich bei eBay einen weiteren T1, der diesmal mit der PC-Interface-Karte verkauft wurde. Für schmales Geld wechselte er den Besitzer und hier sehen Sie ein Bild der ISA-Interface-Karte für den T1:\nEs handelt sich hierbei offensichtlich um eine Karte, die nicht von AVM entworfen wurde. Vielmehr scheint hier die Firma hema Elektronik GmbH ihre Finger im Spiel zu haben, denn zum Stichwort \u0026ldquo;hema TA2\u0026rdquo; (siehe die obere rechte Platinenecke) finden sich Verweise auf eine \u0026ldquo;ISA zu RS422-Link-Adapter-Karte\u0026rdquo;. Interessant an der Karte ist, dass sie neben je einem Inmos C011 und C012 einen Xilinx CPLD beherbergt, der offensichtlich für die Verwaltung des \u0026ldquo;Linkbus\u0026rdquo; (lt. Platinenaufdruck auf der Unterseite) zuständig ist. Mal sehen, was sich dahinter verbirgt\u0026hellip;\nAnsonsten sind auf der Karte noch 4 TRAM-Steckplätze vorhanden, wobei ich noch nicht ausgemessen habe, wie die untereinander und mit den C011/C012 verschaltet sind.\nIn dem 8-poligen DIL-IC mit dem Aufkleber \u0026ldquo;V1A\u0026rdquo; steckt ein Two-Wire-PROM von Xilinx, dass vermutlich die Konfiguration des XC3030A-CPLDs enthält. Wenn man dies entschlüsselt bekäme, wäre es vermutlich möglich, den Aufbau des Linkbus zu verstehen und eine Anwendung dafür zu finden\u0026hellip;\n21.03.2013: Update #  Die Belegung des Verbindungskabels zwischen T1 und Hostcard ist wie folgt:\n   Pin-Nr. T1 (D-Sub 9) Pin-Nr. TA2 (D-Sub 15)     1 15   2 n.c.   3 11   4 n.c.   5 1   6 7   7 3   8 6   9 9   Abschirmung Abschirmung, 2   n.c. 4   n.c. 5   n.c. 8   n.c. 12   n.c. 13    Im DOS-Treiber zum AVM T1 gibt es ein Programm names CTA2.EXE, das in diesem Zusammenhang von Interesse ist. Allein der Name lässt schon auf die Funktion schließen: Control TA2. Dadurch fand ich heraus, dass diese Karte einiges mehr kann, als ich zuerst vermutete: Es gibt ja den C011 und den C012. Der C011 wird als \u0026ldquo;Fast Link\u0026rdquo; bezeichnet, der über die beiden FIFO-RAMs gepuffert wird. Der C012 wird als \u0026ldquo;Slow Link\u0026rdquo; bezeichnet und verfügt über keinen FIFO. Der \u0026ldquo;Slow Link\u0026rdquo; ist fest auf die untere 15-polige D-Sub-Buchse, als \u0026ldquo;CON4\u0026rdquo; bezeichnet, geschaltet. Die obere Buchse, als \u0026ldquo;CON2\u0026rdquo; bezeichnet, kann wahlweise auf die TRAMs/den Linkbus oder den C011 geschaltet werden, und zwar per Software. Weiterhin lässt sich per Software die Linkgeschwindigkeit der C011/C012 und der TRAMs einstellen. Darüberhinaus bietet CTA2.EXE die Möglichkeit, die externen Anschlüsse zu testen. Das lässt sich natürlich prima dazu verwenden, die geratene Pinbelegung zu verifizieren:\n   Pin Bedeutung     1 pos. RS-422 LinkIn   9 neg. RS-422 LinkIn   7 pos. RS-422 LinkOut   15 neg. RS-422 LinkOut   3 pos. RS-422 /Reset Out   11 neg. RS-422 /Reset Out   4 pos. RS-422 /Error In   12 neg. RS-422 /Error In   5 pos. RS-422 /Analyse Out   13 neg. RS-422 /Analyse Out   8 +5V, wenn J-VCC2/4 auf \u0026ldquo;ON\u0026rdquo;, n.c. wenn auf \u0026ldquo;OFF\u0026rdquo;   2 GND   6 GND   10 GND   14 GND    Dazu wird ein 15-pol. Stecker mit folgender Belegung gebraucht:\n   Test Nr. Verbindung Pins     1 LinkIn \u0026lt;\u0026ndash;\u0026gt; LinkOut 1 \u0026ndash; 7   1 LinkIn \u0026lt;\u0026ndash;\u0026gt; LinkOut 9 \u0026ndash; 15   2 /Reset \u0026lt;\u0026ndash;\u0026gt; /Error 3 \u0026ndash; 4   2 /Reset \u0026lt;\u0026ndash;\u0026gt; /Error 11 \u0026ndash; 12   3 /Analyse \u0026lt;\u0026ndash;\u0026gt; /Error 5 \u0026ndash; 4   3 /Analyse \u0026lt;\u0026ndash;\u0026gt; /Error 13 \u0026ndash; 12    Damit lässt sich nun auch die Belegung der TTL-CON-Stecker auf der Karte bestimmen:\n   Pin Bedeutung     1 LinkIn   2 GND   3 GND   4 LinkOut   5 /Error In   6 /Analyse Out   7 GND   8 /Reset Out   9 +5V   10 +5V    Als nächstes habe ich dann die Verschaltung der TRAM-Sockel ausgemesse, wobei dies noch nicht abgeschlossen ist. Die blauen Kästchen sind jeweils ein Slot, die Zahlen an den Kanten markieren die Link-Nr. der jeweiligen Verbindung.\n"}),a.add({id:8,href:'/labathome.de/elektrotechnik/leonardo_xl/',title:"Leonardo XL PCI",section:"Electrical Engineering",content:"Leonardo XL PCI #  Sie werden den älteren Mac-Benutzern wohl bekannt sein: die Leonardo-ISDN-Karten der (inzwischen insolventen) Firma Hermstedt.\nDurch Zufall entdeckte ich in einer eBay-Auktion eine Leonardo XL-PCI V1.3, die augenscheinlich einen 68000er enthielt. Das musste sofort untersucht werden!\nAlso flugs das Teil für ein paar Euro zusammen mit einer Pentium I-PC-Compatibility-Card für PowerMacs geordert und analysiert:\nIn diesem Bild sind die ISDN-Übertrager bereits heruntergelötet, um die Sub-D-Buchsen für andere Zwecke verwenden zu können. Ebenfalls wurde bereits ein Stück Präzisionssockel für J7 eingelötet, um das Config-EEPROM auslesen zu können und man kann das grüne Kabel sehen, dass den ehemals unbelegten Pin am Erweiterungsport mit dem Pin A23 des 68HC001 verbindet, um den gesamten Addressraum von 16MB am Erweiterungsport zur Verfügung zu haben.\nEs handelt sich dabei um ein komplettes 68k-System mit folgenden Komponenten:\n   Komponente Funktion Bezeichnung auf der Karte     HAL-9001-MW-95 FPGA für PCI-Interface IC1   AT17C65 I²C-EEPROM (24Cxx-komp.) für FPGA-Config IC2   MC68HC001FN16 16MHz-68000er mit 8/16-Bit Bus IC3   KM681000BLG-7 2 Stk: 128kx16 SRAM IC4(ODD), IC5(EVEN)   MC68681FN DUART mit Quarz 3.686MHz IC6   PEB2086N ISAC (ISDN-Controller) IC7, IC9   SAB82525N HSCX (SCC) IC8, IC10   grüne LED eine grüne LED am Pin OP6 von IC6 D25    Des weiteren verfügt die Karte über einen Erweiterungsbus, der dem PDS der älteren Macs ähnelt.\nSoweit ich ihn ausgemessen habe, hat er die in diesem Calc-Dokument hinterlegte Belegung.\nDann hat sich mittels einer Sitzung mit PonyProg und einem fliegenden Aufbau der SI-Prog-Hardware das Config-EEPROM geöffnet und folgende Konfigurationsdatei ausgespuckt:\n FPGA-Config-EEPROM als Binary FPGA-Config-EEPROM als Textzeile  Leider ist mir völlig unklar, um was für ein FPGA es sich hierbei handeln könnte und meine diesbezüglichen Anfragen an die Firma GAFICON, die in DE den Vertrieb für die Firma Pro2Col, den Aufkäufer von Hermstedt, übernimmt, blieben noch unbeantwortet.\nDann war es an der Zeit, mal ein bisschen mit der Software herumzuspielen. Die Originaltreiber bekommt man immer noch mittels der Wayback Machine von einem Backup der Hermstedt-Seite. Ich habe mir dann den Windows 95-Treiber heruntergeladen und mal entpackt. Es finden sich ein paar unwichtige Dateien, aber auch ein paar Binaries, z.B. die Dateien HermWAN.sys und LeoFW.bin.\nInsbesondere der Name der letzten Datei hat bei mir heftigste Assoziationen hervorgerufen :-). Also mal im Hex-Editor angeschaut: In den ersten beiden 32-Bit-Worten stehen die Werte 0x400 und 0x4AC, wobei in der Datei ab 0x400 der Code losgeht. Wie man aus dem 68000-User-Manual weiß, sind das der Initial Program Counter und Supervisor Stack Pointer! Damit ist schon mal klar, dass diese Datei offensichtlich \u0026ldquo;unten\u0026rdquo; in das On-Board-RAM geladen und von dort direkt gestartet wird. Ausserdem ist bekannt, dass an den Adressen von 0x8 bis 0x3FC die Exception Table steht. Sie liegt somit vollständig im RAM und kann daher bei Verwendung eigener Firmware beliebig verändert werden! Sehr praktisch\u0026hellip;\nAlso habe ich die Firmware mal durch IDA Pro gejagt, und siehe da, man hat vor dem Hochladen des Treiber vergessen, die Debug-Symbole in der Firmware zu entfernen :-). Also ist es ein leichtes, die Funktionen zuzuordnen und ein kommentiertes Listing zu erstellen: Firmware-Disassembly.\nEbenfalls der Windows-Treiber HermWAN.sys wurde nicht von den Debug-Symbolen bereinigt, sodass dieser ebenfalls gegenüber IDA Pro machtlos ist. Da es sich hierbei um x86-Code handelt, funktioniert sogar HexRays Decompiler, um Pseudocode zu erstellen :-).\nDas Interessanteste an dem Windows-Treiber ist die Möglichkeit, mittels SoftICE, einem Windows-Debugger, sich dann beim Laden des Treibers beim Rechnerstart einzuklinken und mit einem Oszilloskop am Reset-Pin des 68HC001 zu schauen, was in welche Register geschrieben werden muss, um den Reset zu deaktivieren und den 68HC001 zu starten. Da der Reset-Pin auf den Erweiterungsport geführt ist, muss man dazu nicht mal an der Karte selbst rumlöten :-).\nSo und mittels lspci von Linux findet man dann raus, dass die Karte 1MByte des PCI-Adressraums belegt und die Control-Register in den oberen 512kByte, genauer ab 0x80000 im Karten-Adressraum, liegen.\nDamit lässt sich schon mal ein Linux-Kernel-Modul schreiben, dass beim Laden den Reset deaktiviert und beim Entladen ihn wieder aktiviert: leodrv. Im Quellcode finden sich auch Angaben zu der genauen Position der Register.\nDas ist im Moment der Stand der Dinge; Weiteres folgt sobald wieder Zeit für dieses interessante Projekt vorhanden ist.\n"})})()